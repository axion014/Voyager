{"version":3,"file":"voyager.js","sources":["../node_modules/three/build/three.module.js","../node_modules/w3g/GLTFLoader.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/w3g/loading.js","../node_modules/w3g/three-effect/identicalVertex.js","../node_modules/w3g/three-effect/CopyShader.js","../node_modules/w3g/three-effect/Pass.js","../node_modules/w3g/three-effect/ShaderPass.js","../node_modules/w3g/three-effect/MaskPass.js","../node_modules/w3g/three-effect/EffectComposer.js","../node_modules/w3g/input.js","../node_modules/w3g/main.js","../node_modules/w3g/three-effect/RenderPass.js","../node_modules/w3g/easing.js","../node_modules/three.meshline/src/THREE.MeshLine.js","../node_modules/w3g/utils.js","../node_modules/w3g/threeutil.js","../node_modules/w3g/scene.js","../node_modules/three-text2d/lib/utils.js","../node_modules/three-text2d/lib/CanvasText.js","../node_modules/three-text2d/lib/Text2D.js","../node_modules/three-text2d/lib/SpriteText2D.js","../node_modules/three-text2d/lib/MeshText2D.js","../node_modules/three-text2d/lib/index.js","../node_modules/mikan.js/src/mikan.js","../node_modules/w3g/element.js","../node_modules/w3g/hittest.js","../node_modules/w3g/geometries.js","../node_modules/w3g/uielements.js","../node_modules/w3g/three-effect/FadeShader.js","../node_modules/w3g/three-effect/ZoomblurShader.js","../src/equipments.js","../src/sceneloadingscene.js","../src/constants.js","../src/elementmanager.js","../src/collision.js","../src/units.js","../src/effects.js","../src/bullet.js","../src/obstacle.js","../src/wind.js","../src/geometries.js","../src/minimap.js","../src/mainscene.js","../src/title.js","../src/loading.js","../src/main.js"],"sourcesContent":["// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nvar REVISION = '101';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) angle += 2 * Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t        te[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t        te[ 1 ] = ( xy + wz ) * sx;\n\t        te[ 2 ] = ( xz - wy ) * sx;\n\t        te[ 3 ] = 0;\n\n\t        te[ 4 ] = ( xy - wz ) * sy;\n\t        te[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t        te[ 6 ] = ( yz + wx ) * sy;\n\t        te[ 7 ] = 0;\n\n\t        te[ 8 ] = ( xz + wy ) * sz;\n\t        te[ 9 ] = ( yz - wx ) * sz;\n\t        te[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t        te[ 11 ] = 0;\n\n\t        te[ 12 ] = position.x;\n\t        te[ 13 ] = position.y;\n\t        te[ 14 ] = position.z;\n\t        te[ 15 ] = 1;\n\n\t        return this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\treturn this.applyMatrix4( matrix.getInverse( camera.projectionMatrix ) ).applyMatrix4( camera.matrixWorld );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com\n */\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\tthis.activeMipMapLevel = 0;\n\n}\n\nWebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\nWebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: ( function () {\n\n\t\t// triangle centered vertices\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\t// triangle edge vectors\n\t\tvar f0 = new Vector3();\n\t\tvar f1 = new Vector3();\n\t\tvar f2 = new Vector3();\n\n\t\tvar testAxis = new Vector3();\n\n\t\tvar center = new Vector3();\n\t\tvar extents = new Vector3();\n\n\t\tvar triangleNormal = new Vector3();\n\n\t\tfunction satForAxes( axes ) {\n\n\t\t\tvar i, j;\n\n\t\t\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t\t\ttestAxis.fromArray( axes, i );\n\t\t\t\t// project the aabb onto the seperating axis\n\t\t\t\tvar r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\n\t\t\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\t\t\tvar p0 = v0.dot( testAxis );\n\t\t\t\tvar p1 = v1.dot( testAxis );\n\t\t\t\tvar p2 = v2.dot( testAxis );\n\t\t\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\t\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn function intersectsTriangle( triangle ) {\n\n\t\t\tif ( this.isEmpty() ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// compute box center and extents\n\t\t\tthis.getCenter( center );\n\t\t\textents.subVectors( this.max, center );\n\n\t\t\t// translate triangle to aabb origin\n\t\t\tv0.subVectors( triangle.a, center );\n\t\t\tv1.subVectors( triangle.b, center );\n\t\t\tv2.subVectors( triangle.c, center );\n\n\t\t\t// compute edge vectors for triangle\n\t\t\tf0.subVectors( v1, v0 );\n\t\t\tf1.subVectors( v2, v1 );\n\t\t\tf2.subVectors( v0, v2 );\n\n\t\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\t\tvar axes = [\n\t\t\t\t0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\n\t\t\t\tf0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\n\t\t\t\t- f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\n\t\t\t];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// test 3 face normals from the aabb\n\t\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\t\t\ttriangleNormal.crossVectors( f0, f1 );\n\t\t\taxes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\n\t\t\treturn satForAxes( axes );\n\n\t\t};\n\n\t} )(),\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t\ttarget = new Sphere();\n\n\t\t\t}\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) return this;\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn target.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\tgeometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\t// corner at max distance\n\n\t\t\t\tp.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif ( plane.distanceToPoint( p ) < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotNV );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#endif\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearCoatInv = 1.0 - clearCoatDHR;\\n\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec3 singleScattering = vec3( 0.0 );\\n\\t\\tvec3 multiScattering = vec3( 0.0 );\\n\\t\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\t\\tvec3 diffuse = material.diffuseColor;\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\\n\\t\\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\\n\\t\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n\\t#else\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#ifndef STANDARD\\n\\t\\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\";\n\nvar map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_maps = \"#ifdef USE_NORMALMAP\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t#ifdef FLIP_SIDED\\n\\t\\t\\tnormal = - normal;\\n\\t\\t#endif\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tnormal = normalize( normalMatrix * normal );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tuniform mat3 normalMatrix;\\n\\t#else\\n\\t\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t\\tmapN.xy *= normalScale;\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\treturn normalize( tsn * mapN );\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) t += 1;\n\t\t\tif ( t > 1 ) t -= 1;\n\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function () {\n\n\t\tfunction SRGBToLinear( c ) {\n\n\t\t\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n\t\t}\n\n\t\treturn function copySRGBToLinear( color ) {\n\n\t\t\tthis.r = SRGBToLinear( color.r );\n\t\t\tthis.g = SRGBToLinear( color.g );\n\t\t\tthis.b = SRGBToLinear( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopyLinearToSRGB: function () {\n\n\t\tfunction LinearToSRGB( c ) {\n\n\t\t\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n\t\t}\n\n\t\treturn function copyLinearToSRGB( color ) {\n\n\t\t\tthis.r = LinearToSRGB( color.r );\n\t\t\tthis.g = LinearToSRGB( color.g );\n\t\t\tthis.b = LinearToSRGB( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function () {\n\n\t\tvar hsl = {};\n\n\t\treturn function ( h, s, l ) {\n\n\t\t\tthis.getHSL( hsl );\n\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function () {\n\n\t\tvar hslA = { h: 0, s: 0, l: 0 };\n\t\tvar hslB = { h: 0, s: 0, l: 0 };\n\n\t\treturn function lerpHSL( color, alpha ) {\n\n\t\t\tthis.getHSL( hslA );\n\t\t\tcolor.getHSL( hslB );\n\n\t\t\tvar h = _Math.lerp( hslA.h, hslB.h, alpha );\n\t\t\tvar s = _Math.lerp( hslA.s, hslB.s, alpha );\n\t\t\tvar l = _Math.lerp( hslA.l, hslB.l, alpha );\n\n\t\t\tthis.setHSL( h, s, l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? 35048 : 35044;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, 35044 );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tvar q1 = new Quaternion();\n\t\tvar m1 = new Matrix4();\n\t\tvar target = new Vector3();\n\t\tvar position = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\ttarget.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\ttarget.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tvar parent = this.parent;\n\n\t\t\tthis.updateWorldMatrix( true, false );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t\tm1.lookAt( position, target, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( target, position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t\tif ( parent ) {\n\n\t\t\t\tm1.extractRotation( parent.matrixWorld );\n\t\t\t\tq1.setFromRotationMatrix( m1 );\n\t\t\t\tthis.quaternion.premultiply( q1.inverse() );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\t\ttarget = new Quaternion();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, target, scale );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, target );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isMesh && this.drawMode !== TrianglesDrawMode ) object.drawMode = this.drawMode;\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.addAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\n\t\tif ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, target ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) return null;\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, target );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, target );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function getNormal( a, b, c, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\ttarget.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\ttarget.cross( v0 );\n\n\t\t\tvar targetLengthSq = target.lengthSq();\n\t\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn target.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function getBarycoord( point, a, b, c, target ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn target.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tTriangle.getBarycoord( point, a, b, c, v1 );\n\n\t\t\treturn ( v1.x >= 0 ) && ( v1.y >= 0 ) && ( ( v1.x + v1.y ) <= 1 );\n\n\t\t};\n\n\t}(),\n\n\tgetUV: function () {\n\n\t\tvar barycoord = new Vector3();\n\n\t\treturn function getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\t\tthis.getBarycoord( point, p1, p2, p3, barycoord );\n\n\t\t\ttarget.set( 0, 0 );\n\t\t\ttarget.addScaledVector( uv1, barycoord.x );\n\t\t\ttarget.addScaledVector( uv2, barycoord.y );\n\t\t\ttarget.addScaledVector( uv3, barycoord.z );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getArea() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, result ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, result );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar vab = new Vector3();\n\t\tvar vac = new Vector3();\n\t\tvar vbc = new Vector3();\n\t\tvar vap = new Vector3();\n\t\tvar vbp = new Vector3();\n\t\tvar vcp = new Vector3();\n\n\t\treturn function closestPointToPoint( p, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar a = this.a, b = this.b, c = this.c;\n\t\t\tvar v, w;\n\n\t\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\tvab.subVectors( b, a );\n\t\t\tvac.subVectors( c, a );\n\t\t\tvap.subVectors( p, a );\n\t\t\tvar d1 = vab.dot( vap );\n\t\t\tvar d2 = vac.dot( vap );\n\t\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy( a );\n\n\t\t\t}\n\n\t\t\tvbp.subVectors( p, b );\n\t\t\tvar d3 = vab.dot( vbp );\n\t\t\tvar d4 = vac.dot( vbp );\n\t\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy( b );\n\n\t\t\t}\n\n\t\t\tvar vc = d1 * d4 - d3 * d2;\n\t\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\t\treturn target.copy( a ).addScaledVector( vab, v );\n\n\t\t\t}\n\n\t\t\tvcp.subVectors( p, c );\n\t\t\tvar d5 = vab.dot( vcp );\n\t\t\tvar d6 = vac.dot( vcp );\n\t\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy( c );\n\n\t\t\t}\n\n\t\t\tvar vb = d5 * d2 - d1 * d6;\n\t\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\t\treturn target.copy( a ).addScaledVector( vac, w );\n\n\t\t\t}\n\n\t\t\tvar va = d3 * d6 - d5 * d4;\n\t\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t\tvbc.subVectors( c, b );\n\t\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\t\treturn target.copy( b ).addScaledVector( vbc, w ); // edge region of BC\n\n\t\t\t}\n\n\t\t\t// face region\n\t\t\tvar denom = 1 / ( va + vb + vc );\n\t\t\t// u = va * denom\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy( a ).addScaledVector( vab, v ).addScaledVector( vac, w );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) return null;\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar intersection = checkIntersection( object, material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t\tvar face = new Face3( a, b, c );\n\t\t\t\tTriangle.getNormal( vA, vB, vC, face.normal );\n\n\t\t\t\tintersection.face = face;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) return;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar groups = geometry.groups;\n\t\t\t\tvar drawRange = geometry.drawRange;\n\t\t\t\tvar i, j, il, jl;\n\t\t\t\tvar group, groupMaterial;\n\t\t\t\tvar start, end;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = i;\n\t\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\t// Store the current background texture and its `version`\n\t// so we can recompile the material accordingly.\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLRenderTargetCube ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\t\t\tboxMesh.material.uniforms.tCube.value = texture;\n\t\t\tboxMesh.material.uniforms.tFlip.value = ( background.isWebGLRenderTargetCube ) ? 1 : - 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t     currentBackgroundVersion !== texture.version ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.removeAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\t   currentBackgroundVersion !== background.version ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE' ]( mode, start, count, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tvar attribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) return attribute;\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE' ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 5:\n\t\t\tcase 6:\n\t\t\t\trender.triangles += instanceCount * ( count - 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = renderer.allocTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValue1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue3iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue4iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1f; // FLOAT\n\t\tcase 0x8b50: return setValue2fv; // _VEC2\n\t\tcase 0x8b51: return setValue3fv; // _VEC3\n\t\tcase 0x8b52: return setValue4fv; // _VEC4\n\n\t\tcase 0x8b5a: return setValue2fm; // _MAT2\n\t\tcase 0x8b5b: return setValue3fm; // _MAT3\n\t\tcase 0x8b5c: return setValue4fm; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8B5F: return setValueT3D1; // SAMPLER_3D\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform1fv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\nfunction setValue1iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform1iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 2 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform2fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 3 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform3fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniform4fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 9 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 16 );\n\n\tif ( arraysEqual( cache, data ) ) return;\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1fv; // FLOAT\n\t\tcase 0x8b50: return setValueV2a; // _VEC2\n\t\tcase 0x8b51: return setValueV3a; // _VEC3\n\t\tcase 0x8b52: return setValueV4a; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2a; // _MAT2\n\t\tcase 0x8b5b: return setValueM3a; // _MAT3\n\t\tcase 0x8b5c: return setValueM4a; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tUniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, renderer ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], renderer );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n\tUniformContainer.call( this );\n\n\tthis.renderer = renderer;\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, this.renderer );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, renderer );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( gl.getShaderParameter( shader, 35713 ) === false ) {\n\n\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t}\n\n\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === 35633 ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || ( parameters.normalMap && ! parameters.objectSpaceNormalMap ) || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( material.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\tvar runnable = true;\n\tvar haveDiagnostics = true;\n\n\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\trunnable = false;\n\n\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t} else if ( programLog !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\thaveDiagnostics = false;\n\n\t}\n\n\tif ( haveDiagnostics ) {\n\n\t\tthis.diagnostics = {\n\n\t\t\trunnable: runnable,\n\t\t\tmaterial: material,\n\n\t\t\tprogramLog: programLog,\n\n\t\t\tvertexShader: {\n\n\t\t\t\tlog: vertexLog,\n\t\t\t\tprefix: prefixVertex\n\n\t\t\t},\n\n\t\t\tfragmentShader: {\n\n\t\t\t\tlog: fragmentLog,\n\t\t\t\tprefix: prefixFragment\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.name = shader.name;\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\tarray.push( renderer.gammaFactor );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program && b.program && a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete lists[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists[ scene.id ];\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ scene.id ] = {};\n\t\t\tlists[ scene.id ][ camera.id ] = list;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras[ camera.id ];\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras[ camera.id ] = list;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar count = 0;\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tid: count ++,\n\n\t\thash: {\n\t\t\tstateID: - 1,\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\t\t\tshadowsLength: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\tstate.hash.stateID = state.id;\n\t\tstate.hash.directionalLength = directionalLength;\n\t\tstate.hash.pointLength = pointLength;\n\t\tstate.hash.spotLength = spotLength;\n\t\tstate.hash.rectAreaLength = rectAreaLength;\n\t\tstate.hash.hemiLength = hemiLength;\n\t\tstate.hash.shadowsLength = shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete renderStates[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates[ scene.id ] === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates[ scene.id ] = {};\n\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates[ scene.id ][ camera.id ] === undefined ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates[ scene.id ][ camera.id ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils, capabilities ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( 34467 );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar _videoTextures = {};\n\tvar _canvas;\n\n\t//\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ) : _canvas;\n\n\t\t\t\tvar floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tcanvas.width = floor( scale * image.width );\n\t\t\t\tcanvas.height = floor( scale * image.height );\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + canvas.width + 'x' + canvas.height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( capabilities.isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( glFormat, glType ) {\n\n\t\tif ( ! capabilities.isWebGL2 ) return glFormat;\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\tdelete _videoTextures[ texture.id ];\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\t// remove all webgl properties\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__image__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tsupportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\t\tstate.bindTexture( 34067, textureProperties.__image__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tvar extension;\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, 10243, utils.convert( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, 10240, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType;\n\n\t\tif ( texture.isDataTexture3D ) {\n\n\t\t\ttextureType = 32879;\n\n\t\t} else {\n\n\t\t\ttextureType = 3553;\n\n\t\t}\n\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\t\tstate.activeTexture( 33984 + slot );\n\n\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, capabilities.maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! capabilities.isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( 3553, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( capabilities.isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( capabilities.maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar id = texture.id;\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures[ id ] !== frame ) {\n\n\t\t\t_videoTextures[ id ] = frame;\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) return 10497;\n\t\tif ( p === ClampToEdgeWrapping ) return 33071;\n\t\tif ( p === MirroredRepeatWrapping ) return 33648;\n\n\t\tif ( p === NearestFilter ) return 9728;\n\t\tif ( p === NearestMipMapNearestFilter ) return 9984;\n\t\tif ( p === NearestMipMapLinearFilter ) return 9986;\n\n\t\tif ( p === LinearFilter ) return 9729;\n\t\tif ( p === LinearMipMapNearestFilter ) return 9985;\n\t\tif ( p === LinearMipMapLinearFilter ) return 9987;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) return extension.HALF_FLOAT_OES;\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\tif ( p === AddEquation ) return 32774;\n\t\tif ( p === SubtractEquation ) return 32778;\n\t\tif ( p === ReverseSubtractEquation ) return 32779;\n\n\t\tif ( p === ZeroFactor ) return 0;\n\t\tif ( p === OneFactor ) return 1;\n\t\tif ( p === SrcColorFactor ) return 768;\n\t\tif ( p === OneMinusSrcColorFactor ) return 769;\n\t\tif ( p === SrcAlphaFactor ) return 770;\n\t\tif ( p === OneMinusSrcAlphaFactor ) return 771;\n\t\tif ( p === DstAlphaFactor ) return 772;\n\t\tif ( p === OneMinusDstAlphaFactor ) return 773;\n\n\t\tif ( p === DstColorFactor ) return 774;\n\t\tif ( p === OneMinusDstColorFactor ) return 775;\n\t\tif ( p === SrcAlphaSaturateFactor ) return 776;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn p;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tif ( p === MinEquation ) return 32775;\n\t\t\t\tif ( p === MaxEquation ) return 32776;\n\n\t\t\t}\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === MaxEquation ) return extension.MAX_EXT;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author jsantell / https://www.jsantell.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar cameraLPos = new Vector3();\nvar cameraRPos = new Vector3();\n\n/**\n * Assumes 2 cameras that are parallel and share an X-axis, and that\n * the cameras' projection and world matrices have already been set.\n * And that near and far planes are identical for both cameras.\n * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n */\nfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\tvar projL = cameraL.projectionMatrix.elements;\n\tvar projR = cameraR.projectionMatrix.elements;\n\n\t// VR systems will have identical far and near planes, and\n\t// most likely identical top and bottom frustum extents.\n\t// Use the left camera for these values.\n\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\tvar left = near * leftFov;\n\tvar right = near * rightFov;\n\n\t// Calculate the new camera's position offset from the\n\t// left camera. xOffset should be roughly half `ipd`.\n\tvar zOffset = ipd / ( - leftFov + rightFov );\n\tvar xOffset = zOffset * - leftFov;\n\n\t// TODO: Better way to apply this offset?\n\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\tcamera.translateX( xOffset );\n\tcamera.translateZ( zOffset );\n\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t// Find the union of the frustum values of the cameras and scale\n\t// the values so that the near plane's position does not change in world space,\n\t// although must now be relative to the new union camera.\n\tvar near2 = near + zOffset;\n\tvar far2 = far + zOffset;\n\tvar left2 = left - xOffset;\n\tvar right2 = right + ( ipd - xOffset );\n\tvar top2 = topFov * far / far2 * near2;\n\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tvar poseTarget = null;\n\n\tvar controllers = [];\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReferenceType = 'stage';\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\tvar tempQuaternion = new Quaternion();\n\tvar tempPosition = new Vector3();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tfunction isPresenting() {\n\n\t\treturn device !== null && device.isPresenting === true;\n\n\t}\n\n\tvar currentSize, currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\tvar renderWidth = eyeParameters.renderWidth * framebufferScaleFactor;\n\t\t\tvar renderHeight = eyeParameters.renderHeight * framebufferScaleFactor;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\tcurrentSize = renderer.getSize();\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n\t\t\tanimation.start();\n\n\t\t} else {\n\n\t\t\tif ( scope.enabled ) {\n\n\t\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar triggers = [];\n\n\tfunction findGamepad( id ) {\n\n\t\tvar gamepads = navigator.getGamepads && navigator.getGamepads();\n\n\t\tfor ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\n\n\t\t\tvar gamepad = gamepads[ i ];\n\n\t\t\tif ( gamepad && ( gamepad.id === 'Daydream Controller' ||\n\t\t\t\tgamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\n\t\t\t\tgamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\n\t\t\t\tgamepad.id.startsWith( 'Spatial Controller' ) ) ) {\n\n\t\t\t\tif ( j === id ) return gamepad;\n\n\t\t\t\tj ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateControllers() {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar gamepad = findGamepad( i );\n\n\t\t\tif ( gamepad !== undefined && gamepad.pose !== undefined ) {\n\n\t\t\t\tif ( gamepad.pose === null ) return;\n\n\t\t\t\t//  Pose\n\n\t\t\t\tvar pose = gamepad.pose;\n\n\t\t\t\tif ( pose.hasPosition === false ) controller.position.set( 0.2, - 0.6, - 0.05 );\n\n\t\t\t\tif ( pose.position !== null ) controller.position.fromArray( pose.position );\n\t\t\t\tif ( pose.orientation !== null ) controller.quaternion.fromArray( pose.orientation );\n\t\t\t\tcontroller.matrix.compose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrix.premultiply( standingMatrix );\n\t\t\t\tcontroller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrixWorldNeedsUpdate = true;\n\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t//  Trigger\n\n\t\t\t\tvar buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\n\n\t\t\t\tif ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\n\n\t\t\t\t\ttriggers[ i ] = gamepad.buttons[ buttonId ].pressed;\n\n\t\t\t\t\tif ( triggers[ i ] === true ) {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectstart' } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectend' } );\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'select' } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcontroller.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\n\t\tanimation.setContext( value );\n\n\t};\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setPoseTarget = function ( object ) {\n\n\t\tif ( object !== undefined ) poseTarget = object;\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tvar userHeight = frameOfReferenceType === 'stage' ? 1.6 : 0;\n\n\t\tif ( device === null ) {\n\n\t\t\tcamera.position.set( 0, userHeight, 0 );\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tvar stageParameters = device.stageParameters;\n\n\t\t\tif ( stageParameters ) {\n\n\t\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\n\t\t\t} else {\n\n\t\t\t\tstandingMatrix.makeTranslation( 0, userHeight, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar pose = frameData.pose;\n\t\tvar poseObject = poseTarget !== null ? poseTarget : camera;\n\n\t\t// We want to manipulate poseObject by its position and quaternion components since users may rely on them.\n\t\tposeObject.matrix.copy( standingMatrix );\n\t\tposeObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\ttempQuaternion.fromArray( pose.orientation );\n\t\t\tposeObject.quaternion.multiply( tempQuaternion );\n\n\t\t}\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\ttempQuaternion.setFromRotationMatrix( standingMatrix );\n\t\t\ttempPosition.fromArray( pose.position );\n\t\t\ttempPosition.applyQuaternion( tempQuaternion );\n\t\t\tposeObject.position.add( tempPosition );\n\n\t\t}\n\n\t\tposeObject.updateMatrixWorld();\n\n\t\tif ( device.isPresenting === false ) return camera;\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\t// TODO (mrdoob) Double check this code\n\n\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = poseObject.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tif ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n\t\t\t\tcameraL.bounds.fromArray( layer.leftBounds );\n\n\t\t\t}\n\n\t\t\tif ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n\t\t\t\tcameraR.bounds.fromArray( layer.rightBounds );\n\n\t\t\t}\n\n\t\t}\n\n\t\tupdateControllers();\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar animation = new WebGLAnimation();\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tanimation.setAnimationLoop( callback );\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( isPresenting() ) device.submitFrame();\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer ) {\n\n\tvar gl = renderer.context;\n\n\tvar device = null;\n\tvar session = null;\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReference = null;\n\tvar frameOfReferenceType = 'stage';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSources = [];\n\n\tfunction isPresenting() {\n\n\t\treturn session !== null && frameOfReference !== null;\n\n\t}\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) device = value;\n\t\tif ( value instanceof XRDevice ) gl.setCompatibleXRDevice( value );\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = controllers[ inputSources.indexOf( event.inputSource ) ];\n\t\tif ( controller ) controller.dispatchEvent( { type: event.type } );\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\trenderer.setFramebuffer( null );\n\t\tanimation.stop();\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tsession.baseLayer = new XRWebGLLayer( session, gl, { framebufferScaleFactor: framebufferScaleFactor } );\n\t\t\tsession.requestFrameOfReference( frameOfReferenceType ).then( function ( value ) {\n\n\t\t\t\tframeOfReference = value;\n\n\t\t\t\trenderer.setFramebuffer( session.baseLayer.framebuffer );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t} );\n\n\t\t\t//\n\n\t\t\tinputSources = session.getInputSources();\n\n\t\t\tsession.addEventListener( 'inputsourceschange', function () {\n\n\t\t\t\tinputSources = session.getInputSources();\n\t\t\t\tconsole.log( inputSources );\n\n\t\t\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\tvar controller = controllers[ i ];\n\t\t\t\t\tcontroller.userData.inputSource = inputSources[ i ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar parent = camera.parent;\n\t\t\tvar cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tvar children = camera.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\treturn cameraVR;\n\n\t\t}\n\n\t\treturn camera;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getDevicePose( frameOfReference );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar layer = session.baseLayer;\n\t\t\tvar views = frame.views;\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = layer.getViewport( view );\n\t\t\t\tvar viewMatrix = pose.getViewMatrix( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tvar inputPose = frame.getInputPose( inputSource, frameOfReference );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\tif ( 'targetRay' in inputPose ) {\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.targetRay.transformMatrix;\n\n\t\t\t\t\t} else if ( 'pointerMatrix' in inputPose ) {\n\n\t\t\t\t\t\t// DEPRECATED\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.pointerMatrix;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.matrix.decompose( controller.position, controller.rotation, controller.scale );\n\t\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcontroller.visible = false;\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n\t// DEPRECATED\n\n\tthis.getStandingMatrix = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\n\t\treturn new THREE.Matrix4();\n\n\t};\n\n\tthis.submitFrame = function () {};\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default';\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_usedTextureUnits = 0,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( ! capabilities.isWebGL2 ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, utils, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( geometries, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = null;\n\n\tif ( typeof navigator !== 'undefined' ) {\n\n\t\tvr = ( 'xr' in navigator ) ? new WebXRManager( _this ) : new WebVRManager( _this );\n\n\t}\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( vr.isPresenting() ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width * _pixelRatio,\n\t\t\theight: _height * _pixelRatio\n\t\t};\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function () {\n\n\t\treturn _currentViewport;\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewport.set( x, _height - y - height, width, height );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_scissor.set( x, _height - y - height, width, height );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\tvr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tvar frontFaceCW = ( object.isMesh && object.normalMatrix.determinant() < 0 );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = Infinity;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( 4 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( 5 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( 6 );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry & ! capabilities.isWebGL2 ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( vr.isPresenting() ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\tvr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = null;\n\n\t\t}\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( renderTarget ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( renderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tif ( 'viewport' in camera2 ) { // XR\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar bounds = camera2.bounds;\n\n\t\t\t\t\t\t\tvar x = bounds.x * _width;\n\t\t\t\t\t\t\tvar y = bounds.y * _height;\n\t\t\t\t\t\t\tvar width = bounds.z * _width;\n\t\t\t\t\t\t\tvar height = bounds.w * _height;\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) {\n\n\t\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader, _this );\n\n\t\t\t// Computing code again as onBeforeCompile may have changed the shaders\n\t\t\tcode = programCache.getProgramCode( material, parameters );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\t\tif ( lightsHash === undefined ) {\n\n\t\t\tmaterialProperties.lightsHash = lightsHash = {};\n\n\t\t}\n\n\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\t\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value = material.color;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value = material.specular;\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t// Textures\n\n\tfunction allocTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tthis.allocTextureUnit = allocTextureUnit;\n\n\t// this.setTexture2D = setTexture2D;\n\tthis.setTexture2D = ( function () {\n\n\t\tvar warned = false;\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture2D( texture, slot ) {\n\n\t\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture3D = ( function () {\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture3D( texture, slot ) {\n\n\t\t\ttextures.setTexture3D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTexture( texture, slot ) {\n\n\t\t\tif ( ! warned ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n\t\t\t\twarned = true;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTextureCube = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTextureCube( texture, slot ) {\n\n\t\t\t// backwards compatibility: peel texture.texture\n\t\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t\t// TODO: unify these code paths\n\t\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t\t// this function alone should take care of cube textures\n\t\t\t\ttextures.setTextureCube( texture, slot );\n\n\t\t\t} else {\n\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\n\t\t\t\ttextures.setTextureCubeDynamic( texture, slot );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\t//\n\n\tthis.setFramebuffer = function ( value ) {\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tvar width = texture.image.width;\n\t\tvar height = texture.image.height;\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\tthis.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level || 0, glFormat, position.x, position.y, width, height, 0 );\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\tthis.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nFogExp2.prototype.clone = function () {\n\n\treturn new FogExp2( this.color, this.density );\n\n};\n\nFogExp2.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'FogExp2',\n\t\tcolor: this.color.getHex(),\n\t\tdensity: this.density\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nFog.prototype.isFog = true;\n\nFog.prototype.clone = function () {\n\n\treturn new Fog( this.color, this.near, this.far );\n\n};\n\nFog.prototype.toJSON = function ( /* meta */ ) {\n\n\treturn {\n\t\ttype: 'Fog',\n\t\tcolor: this.color.getHex(),\n\t\tnear: this.near,\n\t\tfar: this.far\n\t};\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.stride : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.map = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.lights = false;\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.map = source.map;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar geometry;\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( geometry === undefined ) {\n\n\t\tgeometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\tgeometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\tgeometry.addAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\tgeometry.addAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: ( function () {\n\n\t\tvar intersectPoint = new Vector3();\n\t\tvar worldScale = new Vector3();\n\t\tvar mvPosition = new Vector3();\n\n\t\tvar alignedPosition = new Vector2();\n\t\tvar rotatedPosition = new Vector2();\n\t\tvar viewWorldMatrix = new Matrix4();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t\t\t// compute position in camera space\n\t\t\talignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t\t\t// to check if rotation is not zero\n\t\t\tif ( sin !== undefined ) {\n\n\t\t\t\trotatedPosition.x = ( cos * alignedPosition.x ) - ( sin * alignedPosition.y );\n\t\t\t\trotatedPosition.y = ( sin * alignedPosition.x ) + ( cos * alignedPosition.y );\n\n\t\t\t} else {\n\n\t\t\t\trotatedPosition.copy( alignedPosition );\n\n\t\t\t}\n\n\n\t\t\tvertexPosition.copy( mvPosition );\n\t\t\tvertexPosition.x += rotatedPosition.x;\n\t\t\tvertexPosition.y += rotatedPosition.y;\n\n\t\t\t// transform to world space\n\t\t\tvertexPosition.applyMatrix4( viewWorldMatrix );\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tworldScale.setFromMatrixScale( this.matrixWorld );\n\t\t\tviewWorldMatrix.getInverse( this.modelViewMatrix ).premultiply( this.matrixWorld );\n\t\t\tmvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\t\tvar rotation = this.material.rotation;\n\t\t\tvar sin, cos;\n\t\t\tif ( rotation !== 0 ) {\n\n\t\t\t\tcos = Math.cos( rotation );\n\t\t\t\tsin = Math.sin( rotation );\n\n\t\t\t}\n\n\t\t\tvar center = this.center;\n\n\t\t\ttransformVertex( vA.set( - 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vB.set( 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\ttransformVertex( vC.set( 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\n\t\t\tuvA.set( 0, 0 );\n\t\t\tuvB.set( 1, 0 );\n\t\t\tuvC.set( 1, 1 );\n\n\t\t\t// check first triangle\n\t\t\tvar intersect = raycaster.ray.intersectTriangle( vA, vB, vC, false, intersectPoint );\n\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\t// check second triangle\n\t\t\t\ttransformVertex( vB.set( - 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\n\t\t\t\tuvB.set( 0, 1 );\n\n\t\t\t\tintersect = raycaster.ray.intersectTriangle( vA, vC, vB, false, intersectPoint );\n\t\t\t\tif ( intersect === null ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\tintersects.push( {\n\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\tuv: Triangle.getUV( intersectPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() ),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\n\t\t\t} );\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn levels[ i - 1 ].object;\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar matrixPosition = new Vector3();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t};\n\n\t}() ),\n\n\tupdate: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar levels = this.levels;\n\n\t\t\tif ( levels.length > 1 ) {\n\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: ( function () {\n\n\t\tvar offsetMatrix = new Matrix4();\n\t\tvar identityMatrix = new Matrix4();\n\n\t\treturn function update() {\n\n\t\t\tvar bones = this.bones;\n\t\t\tvar boneInverses = this.boneInverses;\n\t\t\tvar boneMatrices = this.boneMatrices;\n\t\t\tvar boneTexture = this.boneTexture;\n\n\t\t\t// flatten bone matrices to array\n\n\t\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t\t// compute the offset between the current and the original transform\n\n\t\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\n\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t\toffsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t\t}\n\n\t\t\tif ( boneTexture !== undefined ) {\n\n\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t}\n\n\t\t};\n\n\t} )(),\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i ] += start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() ),\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += precision;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [];\n\n\t\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t\tstart.copy( vertices[ i ] );\n\t\t\t\t\tend.copy( vertices[ i + 1 ] );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() )\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\t\t\tvar intersectPoint = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tray.closestPointToPoint( point, intersectPoint );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tappplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction appplyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.2)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\n\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\n\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start, again;\n\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\n\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear, prev, next;\n\n\t// iterate through ears, slicing them one by one\n\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertice leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\n\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\t// first look for points inside the triangle in increasing z-order\n\n\tvar p = ear.nextZ;\n\n\twhile ( p && p.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.nextZ;\n\n\t}\n\n\t// then look for points in decreasing z-order\n\n\tp = ear.prevZ;\n\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\n\t\tp = p.prevZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\n\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tvar a = p.prev, b = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\n\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\n\tvar a = start;\n\n\tdo {\n\n\t\tvar b = a.next.next;\n\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\n\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [], i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\n\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\n\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\n\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\n\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\n\nfunction getLeftmost( start ) {\n\n\tvar p = start, leftmost = start;\n\n\tdo {\n\n\t\tif ( p.x < leftmost.x ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\n\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\tlocallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\n\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\n\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\n\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, q1 ) && equals( p2, q2 ) ) ||\n\t\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t\t\t area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\n\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\t\t\tintersects( p, p.next, a, b ) ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\n\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\n\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) ) {\n\n\t\t\tinside = ! inside;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\n\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertice index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertice nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline is bevel\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 );\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float> // how far from text outline is bevel\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = thetaStart + thetaLength;\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.set( vertex.x, vertex.y, vertex.z ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 0.5;\n\tthis.metalness = 0.5;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearCoat: <float>\n *  clearCoatRoughness: <float>\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearCoat = 0.0;\n\tthis.clearCoatRoughness = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'PHYSICAL': '' };\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearCoat = source.clearCoat;\n\tthis.clearCoatRoughness = source.clearCoatRoughness;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  gradientMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMeshPhongMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.gradientMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMeshPhongMaterial.prototype.copy.call( this, source );\n\n\tthis.gradientMap = source.gradientMap;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\t\treturn this;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FileLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tCache.add( url, response );\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AnimationLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\tonLoad( animations );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( CompressedTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t// override in sub classes\n\tthis._parser = null;\n\n}\n\nObject.assign( DataTextureLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope._parser( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearMipMapLinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction ImageLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( ImageLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( CubeTextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction TextureLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( TextureLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.matrix = new Matrix4();\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdate: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = _Math.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow( ) {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.textures = {};\n\n}\n\nObject.assign( MaterialLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\n\t\tif ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\n\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\n\t\tif ( json.alphaMap !== undefined ) {\n\n\t\t\tmaterial.alphaMap = getTexture( json.alphaMap );\n\t\t\tmaterial.transparent = true;\n\n\t\t}\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\treturn material;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\t// Merges multi-byte utf-8 characters.\n\t\treturn decodeURIComponent( escape( s ) );\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( BufferGeometryLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\tgeometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === undefined ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( value ) {\n\n\t\tthis.resourcePath = value;\n\t\treturn this;\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tif ( 'THREE' in window && 'LegacyJSONLoader' in THREE ) {\n\n\t\t\t\t\t\t\tvar geometryLoader = new THREE.LegacyJSONLoader();\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data, this.resourcePath ).geometry;\n\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.drawMode !== undefined ) object.setDrawMode( data.drawMode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipMapNearestFilter: NearestMipMapNearestFilter,\n\tNearestMipMapLinearFilter: NearestMipMapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipMapNearestFilter: LinearMipMapNearestFilter,\n\tLinearMipMapLinearFilter: LinearMipMapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tthis.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t},\n\n\tsetCrossOrigin: function ( /* value */ ) {\n\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) return;\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( FontLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader() {}\n\nLoader.Handlers = {\n\n\thandlers: [],\n\n\tadd: function ( regex, loader ) {\n\n\t\tthis.handlers.push( regex, loader );\n\n\t},\n\n\tget: function ( file ) {\n\n\t\tvar handlers = this.handlers;\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n};\n\nObject.assign( Loader.prototype, {\n\n\tcrossOrigin: 'anonymous',\n\n\tonLoadStart: function () {},\n\n\tonLoadProgress: function () {},\n\n\tonLoadComplete: function () {},\n\n\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\n\t\tvar array = [];\n\n\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\n\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\n\t\t}\n\n\t\treturn array;\n\n\t},\n\n\tcreateMaterial: ( function () {\n\n\t\tvar BlendingMode = {\n\t\t\tNoBlending: NoBlending,\n\t\t\tNormalBlending: NormalBlending,\n\t\t\tAdditiveBlending: AdditiveBlending,\n\t\t\tSubtractiveBlending: SubtractiveBlending,\n\t\t\tMultiplyBlending: MultiplyBlending,\n\t\t\tCustomBlending: CustomBlending\n\t\t};\n\n\t\tvar color = new Color();\n\t\tvar textureLoader = new TextureLoader();\n\t\tvar materialLoader = new MaterialLoader();\n\n\t\treturn function createMaterial( m, texturePath, crossOrigin ) {\n\n\t\t\t// convert from old material format\n\n\t\t\tvar textures = {};\n\n\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\n\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\tvar loader = Loader.Handlers.get( fullPath );\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( loader !== null ) {\n\n\t\t\t\t\ttexture = loader.load( fullPath );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\n\t\t\t\t}\n\n\t\t\t\tif ( repeat !== undefined ) {\n\n\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\n\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( offset !== undefined ) {\n\n\t\t\t\t\ttexture.offset.fromArray( offset );\n\n\t\t\t\t}\n\n\t\t\t\tif ( wrap !== undefined ) {\n\n\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\n\n\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\n\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\n\n\t\t\t\t}\n\n\t\t\t\tif ( anisotropy !== undefined ) {\n\n\t\t\t\t\ttexture.anisotropy = anisotropy;\n\n\t\t\t\t}\n\n\t\t\t\tvar uuid = _Math.generateUUID();\n\n\t\t\t\ttextures[ uuid ] = texture;\n\n\t\t\t\treturn uuid;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tvar json = {\n\t\t\t\tuuid: _Math.generateUUID(),\n\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t};\n\n\t\t\tfor ( var name in m ) {\n\n\t\t\t\tvar value = m[ name ];\n\n\t\t\t\tswitch ( name ) {\n\n\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\tjson.blending = BlendingMode[ value ];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorAmbient':\n\t\t\t\t\tcase 'mapAmbient':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\tif ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissive':\n\t\t\t\t\t\tjson.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapEmissiveRepeat':\n\t\t\t\t\tcase 'mapEmissiveOffset':\n\t\t\t\t\tcase 'mapEmissiveWrap':\n\t\t\t\t\tcase 'mapEmissiveAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\tjson.normalScale = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalness':\n\t\t\t\t\t\tjson.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapMetalnessRepeat':\n\t\t\t\t\tcase 'mapMetalnessOffset':\n\t\t\t\t\tcase 'mapMetalnessWrap':\n\t\t\t\t\tcase 'mapMetalnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughness':\n\t\t\t\t\t\tjson.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapRoughnessRepeat':\n\t\t\t\t\tcase 'mapRoughnessOffset':\n\t\t\t\t\tcase 'mapRoughnessWrap':\n\t\t\t\t\tcase 'mapRoughnessAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\tjson.side = BackSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\tjson.side = DoubleSide;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\tconsole.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\n\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\tcase 'colorWrite':\n\t\t\t\t\tcase 'opacity':\n\t\t\t\t\tcase 'reflectivity':\n\t\t\t\t\tcase 'transparent':\n\t\t\t\t\tcase 'visible':\n\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\tif ( value === true ) json.vertexColors = VertexColors;\n\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = FaceColors;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\n\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\n\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\n\t\t\tmaterialLoader.setTextures( textures );\n\n\t\t\treturn materialLoader.parse( json );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( context === undefined ) {\n\n\t\t\tcontext = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\tcontext = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n}\n\nObject.assign( AudioLoader.prototype, {\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: ( function () {\n\n\t\tvar instance, focus, fov, aspect, near, far, zoom, eyeSep;\n\n\t\tvar eyeRight = new Matrix4();\n\t\tvar eyeLeft = new Matrix4();\n\n\t\treturn function update( camera ) {\n\n\t\t\tvar needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\n\t\t\t\t\t\t\t\t\t\t\t\taspect !== camera.aspect * this.aspect || near !== camera.near ||\n\t\t\t\t\t\t\t\t\t\t\t\tfar !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tinstance = this;\n\t\t\t\tfocus = camera.focus;\n\t\t\t\tfov = camera.fov;\n\t\t\t\taspect = camera.aspect * this.aspect;\n\t\t\t\tnear = camera.near;\n\t\t\t\tfar = camera.far;\n\t\t\t\tzoom = camera.zoom;\n\n\t\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\t\teyeSep = this.eyeSep / 2;\n\t\t\t\tvar eyeSepOnProjection = eyeSep * near / focus;\n\t\t\t\tvar ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\n\t\t\t\tvar xmin, xmax;\n\n\t\t\t\t// translate xOffset\n\n\t\t\t\teyeLeft.elements[ 12 ] = - eyeSep;\n\t\t\t\teyeRight.elements[ 12 ] = eyeSep;\n\n\t\t\t\t// for left eye\n\n\t\t\t\txmin = - ymax * aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect + eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t\t// for right eye\n\n\t\t\t\txmin = - ymax * aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * aspect - eyeSepOnProjection;\n\n\t\t\t\tprojectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\n\t\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\n\t\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar fov = 90, aspect = 1;\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderTarget.activeCubeFace = 0;\n\t\trenderer.render( scene, cameraPX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 1;\n\t\trenderer.render( scene, cameraNX, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 2;\n\t\trenderer.render( scene, cameraPY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 3;\n\t\trenderer.render( scene, cameraNY, renderTarget );\n\n\t\trenderTarget.activeCubeFace = 4;\n\t\trenderer.render( scene, cameraPZ, renderTarget );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderTarget.activeCubeFace = 5;\n\t\trenderer.render( scene, cameraNZ, renderTarget );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderTarget.activeCubeFace = i;\n\t\t\trenderer.setRenderTarget( renderTarget );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\t\tvar clock = new Clock();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\n\t\t\tthis.timeDelta = clock.getDelta();\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\n\t\t\tif ( listener.positionX ) {\n\n\t\t\t\t// code path for Chrome (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\t\tlistener.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tlistener.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tlistener.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tlistener.forwardX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tlistener.forwardY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tlistener.forwardZ.linearRampToValueAtTime( orientation.z, endTime );\n\t\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.startTime = 0;\n\tthis.offset = 0;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function () {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar source = this.context.createBufferSource();\n\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tthis.startTime = this.context.currentTime;\n\t\tsource.start( this.startTime, this.offset );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.offset = 0;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: ( function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\t\tvar scale = new Vector3();\n\n\t\tvar orientation = new Vector3();\n\n\t\treturn function updateMatrixWorld( force ) {\n\n\t\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\t\tif ( this.isPlaying === false ) return;\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\n\t\t\torientation.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\n\t\t\tvar panner = this.panner;\n\n\t\t\tif ( panner.positionX ) {\n\n\t\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\t\tpanner.positionX.linearRampToValueAtTime( position.x, endTime );\n\t\t\t\tpanner.positionY.linearRampToValueAtTime( position.y, endTime );\n\t\t\t\tpanner.positionZ.linearRampToValueAtTime( position.z, endTime );\n\t\t\t\tpanner.orientationX.linearRampToValueAtTime( orientation.x, endTime );\n\t\t\t\tpanner.orientationY.linearRampToValueAtTime( orientation.y, endTime );\n\t\t\t\tpanner.orientationZ.linearRampToValueAtTime( orientation.z, endTime );\n\n\t\t\t} else {\n\n\t\t\t\tpanner.setPosition( position.x, position.y, position.z );\n\t\t\t\tpanner.setOrientation( orientation.x, orientation.y, orientation.z );\n\n\t\t\t}\n\n\t\t};\n\n\t} )()\n\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param  {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: ( function () {\n\n\t\tvar reservedRe = new RegExp( '[' + RESERVED_CHARS_RE + ']', 'g' );\n\n\t\treturn function sanitizeNodeName( name ) {\n\n\t\t\treturn name.replace( /\\s/g, '_' ).replace( reservedRe, '' );\n\n\t\t};\n\n\t}() ),\n\n\tparseTrackName: function () {\n\n\t\t// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n\t\t// only latin characters, and the unicode \\p{L} is not yet supported. So\n\t\t// instead, we exclude reserved characters and match everything else.\n\t\tvar wordChar = '[^' + RESERVED_CHARS_RE + ']';\n\t\tvar wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n\t\t// Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t\t// be matched to parse the rest of the track name.\n\t\tvar directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', wordChar );\n\n\t\t// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\t\tvar nodeRe = /(WCOD+)?/.source.replace( 'WCOD', wordCharOrDot );\n\n\t\t// Object on target node, and accessor. May not contain reserved\n\t\t// characters. Accessor may contain any character except closing bracket.\n\t\tvar objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', wordChar );\n\n\t\t// Property and accessor. May not contain reserved characters. Accessor may\n\t\t// contain any non-bracket characters.\n\t\tvar propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', wordChar );\n\n\t\tvar trackRe = new RegExp( ''\n\t\t\t+ '^'\n\t\t\t+ directoryRe\n\t\t\t+ nodeRe\n\t\t\t+ objectRe\n\t\t\t+ propertyRe\n\t\t\t+ '$'\n\t\t);\n\n\t\tvar supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\n\t\treturn function parseTrackName( trackName ) {\n\n\t\t\tvar matches = trackRe.exec( trackName );\n\n\t\t\tif ( ! matches ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\tvar results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[ 2 ],\n\t\t\t\tobjectName: matches[ 3 ],\n\t\t\t\tobjectIndex: matches[ 4 ],\n\t\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\t\tpropertyIndex: matches[ 6 ]\n\t\t\t};\n\n\t\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\t\t\t\tif ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\t\tresults.objectName = objectName;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t\t}\n\n\t\t\treturn results;\n\n\t\t};\n\n\t}(),\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = _Math.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else break handle_stop;\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\tthis.time = time;\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.time = time;\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tremove_empty_map: {\n\n\t\t\tfor ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) return;\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axiz.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( _Math.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector2();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function () {\n\n\t\tvar startP = new Vector3();\n\t\tvar startEnd = new Vector3();\n\n\t\treturn function closestPointToPointParameter( point, clampToLine ) {\n\n\t\t\tstartP.subVectors( point, this.start );\n\t\t\tstartEnd.subVectors( this.end, this.start );\n\n\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\n\t\t\tvar t = startEnd_startP / startEnd2;\n\n\t\t\tif ( clampToLine ) {\n\n\t\t\t\tt = _Math.clamp( t, 0, 1 );\n\n\t\t\t}\n\n\t\t\treturn t;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction VertexNormalsHelper( object, size, hex, linewidth ) {\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length * 3;\n\n\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\tnNormals = objGeometry.attributes.normal.count;\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nVertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\nVertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\nVertexNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\t\tvar vertices = objGeometry.vertices;\n\n\t\t\tvar faces = objGeometry.faces;\n\n\t\t\tvar idx = 0;\n\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tvar face = faces[ i ];\n\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\n\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\n\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\n\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\t\tidx = idx + 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( objGeometry && objGeometry.isBufferGeometry ) {\n\n\t\t\tvar objPos = objGeometry.attributes.position;\n\n\t\t\tvar objNorm = objGeometry.attributes.normal;\n\n\t\t\tvar idx = 0;\n\n\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\n\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\n\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\n\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\n\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\t\tidx = idx + 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\treturn function update() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\tvector.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( vector );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t};\n\n}();\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.updateMatrixWorld = function () {\n\n\tvar vector = new Vector3();\n\n\tvar boneMatrix = new Matrix4();\n\tvar matrixWorldInv = new Matrix4();\n\n\treturn function updateMatrixWorld( force ) {\n\n\t\tvar bones = this.bones;\n\n\t\tvar geometry = this.geometry;\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tmatrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tvar bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j, vector.x, vector.y, vector.z );\n\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tvector.setFromMatrixPosition( boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, vector.x, vector.y, vector.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author abelnation / http://github.com/abelnation\n * @author Mugen87 / http://github.com/Mugen87\n * @author WestLangley / http://github.com/WestLangley\n *\n *  This helper must be added as a child of the light\n */\n\nfunction RectAreaLightHelper( light, color ) {\n\n\tthis.type = 'RectAreaLightHelper';\n\n\tthis.light = light;\n\n\tthis.color = color; // optional hardwired color for the helper\n\n\tvar positions = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, - 1, 0, 1, 1, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tLine.call( this, geometry, material );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 0, - 1, 1, 0, - 1, - 1, 0, 1, 1, 0, - 1, - 1, 0, 1, - 1, 0 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { side: BackSide, fog: false } ) ) );\n\n\tthis.update();\n\n}\n\nRectAreaLightHelper.prototype = Object.create( Line.prototype );\nRectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\n\nRectAreaLightHelper.prototype.update = function () {\n\n\tthis.scale.set( 0.5 * this.light.width, 0.5 * this.light.height, 1 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\t\tthis.children[ 0 ].material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\n\t\t// prevent hue shift\n\t\tvar c = this.material.color;\n\t\tvar max = Math.max( c.r, c.g, c.b );\n\t\tif ( max > 1 ) c.multiplyScalar( 1 / max );\n\n\t\tthis.children[ 0 ].material.color.copy( this.material.color );\n\n\t}\n\n};\n\nRectAreaLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = VertexColors;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar vector = new Vector3();\n\n\tvar color1 = new Color();\n\tvar color2 = new Color();\n\n\treturn function update() {\n\n\t\tvar mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\tcolor1.copy( this.light.color );\n\t\t\tcolor2.copy( this.light.groundColor );\n\n\t\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tvar color = ( i < ( l / 2 ) ) ? color1 : color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.create( LineSegments.prototype );\nGridHelper.prototype.constructor = GridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction FaceNormalsHelper( object, size, hex, linewidth ) {\n\n\t// FaceNormalsHelper only supports THREE.Geometry\n\n\tthis.object = object;\n\n\tthis.size = ( size !== undefined ) ? size : 1;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\n\t//\n\n\tvar nNormals = 0;\n\n\tvar objGeometry = this.object.geometry;\n\n\tif ( objGeometry && objGeometry.isGeometry ) {\n\n\t\tnNormals = objGeometry.faces.length;\n\n\t} else {\n\n\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\n\t}\n\n\t//\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\n\n\tgeometry.addAttribute( 'position', positions );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\n\n\t//\n\n\tthis.matrixAutoUpdate = false;\n\tthis.update();\n\n}\n\nFaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\nFaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\nFaceNormalsHelper.prototype.update = ( function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar normalMatrix = new Matrix3();\n\n\treturn function update() {\n\n\t\tthis.object.updateMatrixWorld( true );\n\n\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\n\t\tvar matrixWorld = this.object.matrixWorld;\n\n\t\tvar position = this.geometry.attributes.position;\n\n\t\t//\n\n\t\tvar objGeometry = this.object.geometry;\n\n\t\tvar vertices = objGeometry.vertices;\n\n\t\tvar faces = objGeometry.faces;\n\n\t\tvar idx = 0;\n\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar normal = face.normal;\n\n\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t.divideScalar( 3 )\n\t\t\t\t.applyMatrix4( matrixWorld );\n\n\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\n\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\n\t\t\tidx = idx + 1;\n\n\t\t}\n\n\t\tposition.needsUpdate = true;\n\n\t};\n\n}() );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\tvar v1 = new Vector3();\n\tvar v2 = new Vector3();\n\tvar v3 = new Vector3();\n\n\treturn function update() {\n\n\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\tv3.subVectors( v2, v1 );\n\n\t\tthis.lightPlane.lookAt( v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( v2 );\n\t\tthis.targetLine.scale.z = v3.length();\n\n\t};\n\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry, pointMap;\n\n\tvar vector = new Vector3();\n\tvar camera = new Camera();\n\n\tfunction setPoint( point, x, y, z ) {\n\n\t\tvector.set( x, y, z ).unproject( camera );\n\n\t\tvar points = pointMap[ point ];\n\n\t\tif ( points !== undefined ) {\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\t\tposition.setXYZ( points[ i ], vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn function update() {\n\n\t\tgeometry = this.geometry;\n\t\tpointMap = this.pointMap;\n\n\t\tvar w = 1, h = 1;\n\n\t\t// we need just camera projection matrix\n\t\t// world matrix must be identity\n\n\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', 0, 0, - 1 );\n\t\tsetPoint( 't', 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', - w, - h, - 1 );\n\t\tsetPoint( 'n2', w, - h, - 1 );\n\t\tsetPoint( 'n3', - w, h, - 1 );\n\t\tsetPoint( 'n4', w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', - w, - h, 1 );\n\t\tsetPoint( 'f2', w, - h, 1 );\n\t\tsetPoint( 'f3', - w, h, 1 );\n\t\tsetPoint( 'f4', w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', - w, 0, 1 );\n\t\tsetPoint( 'cf2', w, 0, 1 );\n\t\tsetPoint( 'cf3', 0, - h, 1 );\n\t\tsetPoint( 'cf4', 0, h, 1 );\n\n\t\tsetPoint( 'cn1', - w, 0, - 1 );\n\t\tsetPoint( 'cn2', w, 0, - 1 );\n\t\tsetPoint( 'cn3', 0, - h, - 1 );\n\t\tsetPoint( 'cn4', 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t};\n\n}();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = ( function () {\n\n\tvar box = new Box3();\n\n\treturn function update( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\tbox.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tvar min = box.min;\n\t\tvar max = box.max;\n\n\t\t/*\n\t\t  5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tvar position = this.geometry.attributes.position;\n\t\tvar array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t};\n\n} )();\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, hex ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar lineGeometry, coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( lineGeometry === undefined ) {\n\n\t\tlineGeometry = new BufferGeometry();\n\t\tlineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\tconeGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = ( function () {\n\n\tvar axis = new Vector3();\n\tvar radians;\n\n\treturn function setDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tradians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\n\t\t}\n\n\t};\n\n}() );\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.copy( color );\n\tthis.cone.material.color.copy( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: VertexColors } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\n\nvar LinePieces = 1;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setDynamic( true );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\tthis.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( _Math, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn _Math.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn _Math.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tvar v1;\n\n\t\treturn function getPosition() {\n\n\t\t\tif ( v1 === undefined ) v1 = new Vector3();\n\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\t\treturn v1.setFromMatrixColumn( this, 3 );\n\n\t\t};\n\n\t}(),\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBuffer: function ( buffer /*, offset, length */ ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\n\t\treturn this.applyToBufferAttribute( buffer );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebVRManager.prototype, {\n\n\tstanding: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .standing has been removed.' );\n\n\t\t}\n\t},\n\tuserHeight: {\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebVRManager: .userHeight has been removed.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tvar scope = this;\n\tvar audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction Projector() {\n\n\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\n\tthis.projectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n\t\tvector.project( camera );\n\n\t};\n\n\tthis.unprojectVector = function ( vector, camera ) {\n\n\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n\t\tvector.unproject( camera );\n\n\t};\n\n\tthis.pickingRay = function () {\n\n\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\n\t};\n\n}\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\n\n}\n\nexport { WebGLMultisampleRenderTarget, WebGLRenderTargetCube, WebGLRenderTarget, WebGLRenderer, ShaderLib, UniformsLib, UniformsUtils, ShaderChunk, FogExp2, Fog, Scene, Sprite, LOD, SkinnedMesh, Skeleton, Bone, Mesh, LineSegments, LineLoop, Line, Points, Group, VideoTexture, DataTexture, DataTexture3D, CompressedTexture, CubeTexture, CanvasTexture, DepthTexture, Texture, AnimationLoader, CompressedTextureLoader, DataTextureLoader, CubeTextureLoader, TextureLoader, ObjectLoader, MaterialLoader, BufferGeometryLoader, DefaultLoadingManager, LoadingManager, ImageLoader, ImageBitmapLoader, FontLoader, FileLoader, Loader, LoaderUtils, Cache, AudioLoader, SpotLightShadow, SpotLight, PointLight, RectAreaLight, HemisphereLight, DirectionalLightShadow, DirectionalLight, AmbientLight, LightShadow, Light, StereoCamera, PerspectiveCamera, OrthographicCamera, CubeCamera, ArrayCamera, Camera, AudioListener, PositionalAudio, AudioContext, AudioAnalyser, Audio, VectorKeyframeTrack, StringKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, ColorKeyframeTrack, BooleanKeyframeTrack, PropertyMixer, PropertyBinding, KeyframeTrack, AnimationUtils, AnimationObjectGroup, AnimationMixer, AnimationClip, Uniform, InstancedBufferGeometry, BufferGeometry, Geometry, InterleavedBufferAttribute, InstancedInterleavedBuffer, InterleavedBuffer, InstancedBufferAttribute, Face3, Object3D, Raycaster, Layers, EventDispatcher, Clock, QuaternionLinearInterpolant, LinearInterpolant, DiscreteInterpolant, CubicInterpolant, Interpolant, Triangle, _Math as Math, Spherical, Cylindrical, Plane, Frustum, Sphere, Ray, Matrix4, Matrix3, Box3, Box2, Line3, Euler, Vector4, Vector3, Vector2, Quaternion, Color, ImmediateRenderObject, VertexNormalsHelper, SpotLightHelper, SkeletonHelper, PointLightHelper, RectAreaLightHelper, HemisphereLightHelper, GridHelper, PolarGridHelper, FaceNormalsHelper, DirectionalLightHelper, CameraHelper, BoxHelper, Box3Helper, PlaneHelper, ArrowHelper, AxesHelper, Shape, Path, ShapePath, Font, CurvePath, Curve, ImageUtils, ShapeUtils, WebGLUtils, WireframeGeometry, ParametricGeometry, ParametricBufferGeometry, TetrahedronGeometry, TetrahedronBufferGeometry, OctahedronGeometry, OctahedronBufferGeometry, IcosahedronGeometry, IcosahedronBufferGeometry, DodecahedronGeometry, DodecahedronBufferGeometry, PolyhedronGeometry, PolyhedronBufferGeometry, TubeGeometry, TubeBufferGeometry, TorusKnotGeometry, TorusKnotBufferGeometry, TorusGeometry, TorusBufferGeometry, TextGeometry, TextBufferGeometry, SphereGeometry, SphereBufferGeometry, RingGeometry, RingBufferGeometry, PlaneGeometry, PlaneBufferGeometry, LatheGeometry, LatheBufferGeometry, ShapeGeometry, ShapeBufferGeometry, ExtrudeGeometry, ExtrudeBufferGeometry, EdgesGeometry, ConeGeometry, ConeBufferGeometry, CylinderGeometry, CylinderBufferGeometry, CircleGeometry, CircleBufferGeometry, BoxGeometry, BoxGeometry as CubeGeometry, BoxBufferGeometry, ShadowMaterial, SpriteMaterial, RawShaderMaterial, ShaderMaterial, PointsMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshPhongMaterial, MeshToonMaterial, MeshNormalMaterial, MeshLambertMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshBasicMaterial, MeshMatcapMaterial, LineDashedMaterial, LineBasicMaterial, Material, Float64BufferAttribute, Float32BufferAttribute, Uint32BufferAttribute, Int32BufferAttribute, Uint16BufferAttribute, Int16BufferAttribute, Uint8ClampedBufferAttribute, Uint8BufferAttribute, Int8BufferAttribute, BufferAttribute, ArcCurve, CatmullRomCurve3, CubicBezierCurve, CubicBezierCurve3, EllipseCurve, LineCurve, LineCurve3, QuadraticBezierCurve, QuadraticBezierCurve3, SplineCurve, REVISION, MOUSE, CullFaceNone, CullFaceBack, CullFaceFront, CullFaceFrontBack, FrontFaceDirectionCW, FrontFaceDirectionCCW, BasicShadowMap, PCFShadowMap, PCFSoftShadowMap, FrontSide, BackSide, DoubleSide, FlatShading, SmoothShading, NoColors, FaceColors, VertexColors, NoBlending, NormalBlending, AdditiveBlending, SubtractiveBlending, MultiplyBlending, CustomBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor, NeverDepth, AlwaysDepth, LessDepth, LessEqualDepth, EqualDepth, GreaterEqualDepth, GreaterDepth, NotEqualDepth, MultiplyOperation, MixOperation, AddOperation, NoToneMapping, LinearToneMapping, ReinhardToneMapping, Uncharted2ToneMapping, CineonToneMapping, ACESFilmicToneMapping, UVMapping, CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping, SphericalReflectionMapping, CubeUVReflectionMapping, CubeUVRefractionMapping, RepeatWrapping, ClampToEdgeWrapping, MirroredRepeatWrapping, NearestFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter, UnsignedByteType, ByteType, ShortType, UnsignedShortType, IntType, UnsignedIntType, FloatType, HalfFloatType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedInt248Type, AlphaFormat, RGBFormat, RGBAFormat, LuminanceFormat, LuminanceAlphaFormat, RGBEFormat, DepthFormat, DepthStencilFormat, RedFormat, RGB_S3TC_DXT1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGB_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_PVRTC_2BPPV1_Format, RGB_ETC1_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_10x10_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, LoopOnce, LoopRepeat, LoopPingPong, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, ZeroCurvatureEnding, ZeroSlopeEnding, WrapAroundEnding, TrianglesDrawMode, TriangleStripDrawMode, TriangleFanDrawMode, LinearEncoding, sRGBEncoding, GammaEncoding, RGBEEncoding, LogLuvEncoding, RGBM7Encoding, RGBM16Encoding, RGBDEncoding, BasicDepthPacking, RGBADepthPacking, TangentSpaceNormalMap, ObjectSpaceNormalMap, Face4, LineStrip, LinePieces, MeshFaceMaterial, MultiMaterial, PointCloud, Particle, ParticleSystem, PointCloudMaterial, ParticleBasicMaterial, ParticleSystemMaterial, Vertex, DynamicBufferAttribute, Int8Attribute, Uint8Attribute, Uint8ClampedAttribute, Int16Attribute, Uint16Attribute, Int32Attribute, Uint32Attribute, Float32Attribute, Float64Attribute, ClosedSplineCurve3, SplineCurve3, Spline, AxisHelper, BoundingBoxHelper, EdgesHelper, WireframeHelper, XHRLoader, BinaryTextureLoader, GeometryUtils, Projector, CanvasRenderer, JSONLoader, SceneUtils, LensFlare };\n","/**\n* @author Rich Tibbett / https://github.com/richtr\n* @author mrdoob / http://mrdoob.com/\n* @author Tony Parisi / http://www.tonyparisi.com/\n* @author Takahiro / https://github.com/takahirox\n* @author Don McCurdy / https://www.donmccurdy.com\n*/\n\nimport {\n\tDirectionalLight, PointLight, SpotLight, PerspectiveCamera, OrthographicCamera,\n\tSkinnedMesh, Mesh, LineSegments, Line, LineLoop, Points, Group, Bone, Skeleton, Scene,\n\tBufferGeometry, Object3D, //BufferGeometryUtils,\n\tMaterial, MeshBasicMaterial, MeshStandardMaterial, ShaderMaterial, PointsMaterial, LineBasicMaterial,\n\tLoader, TextureLoader, FileLoader, LoaderUtils, DefaultLoadingManager, //DDSLoader, DRACOLoader,\n\tColor, Interpolant, Matrix3, Matrix4, Vector2, Vector3, Vector4, Texture, sRGBEncoding, VertexColors, Math as THREE_Math,\n\tNearestFilter, LinearFilter, NearestMipMapNearestFilter, NearestMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipMapLinearFilter,\n\tClampToEdgeWrapping, MirroredRepeatWrapping, RepeatWrapping,\n\tBackSide, FrontSide, DoubleSide,\n\tNeverDepth, LessDepth, EqualDepth, LessEqualDepth, GreaterDepth, NotEqualDepth, GreaterEqualDepth, AlwaysDepth,\n\tAddEquation, SubtractEquation, ReverseSubtractEquation,\n\tZeroFactor, OneFactor, SrcColorFactor, OneMinusSrcColorFactor, SrcAlphaFactor, OneMinusSrcAlphaFactor, DstAlphaFactor, OneMinusDstAlphaFactor, DstColorFactor, OneMinusDstColorFactor, SrcAlphaSaturateFactor,\n\tInterpolateLinear, InterpolateSmooth, InterpolateDiscrete,\n\tRGBAFormat, RGBFormat,\n\tTriangleStripDrawMode, TriangleFanDrawMode,\n\tNumberKeyframeTrack, QuaternionKeyframeTrack, VectorKeyframeTrack,\n\tShaderLib, UniformsUtils, InterleavedBuffer, InterleavedBufferAttribute, BufferAttribute, AnimationUtils, AnimationClip, PropertyBinding\n} from \"three\";\n\nexport default function GLTFLoader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\tthis.dracoLoader = null;\n\n}\n\nconst BINARY_EXTENSION_BUFFER_NAME = 'binary_glTF';\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n};\n\nGLTFLoader.prototype = {\n\n\tconstructor: GLTFLoader,\n\n\tcrossOrigin: 'anonymous',\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar resourcePath;\n\n\t\tif ( this.resourcePath !== undefined ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== undefined ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tscope.manager.itemStart( url );\n\n\t\tvar _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tvar loader = new FileLoader( scope.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t},\n\n\tsetCrossOrigin: function ( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( value ) {\n\n\t\tthis.path = value;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( value ) {\n\n\t\tthis.resourcePath = value;\n\t\treturn this;\n\n\t},\n\n\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t},\n\n\tparse: function ( data, path, onLoad, onError ) {\n\n\t\tvar content;\n\t\tvar extensions = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension( json );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension( json );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\textensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] = new GLTFTextureDDSExtension( json );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\textensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] = new GLTFTextureTransformExtension( json );\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\tmanager: this.manager\n\n\t\t} );\n\n\t\tparser.parse( function ( scene, scenes, cameras, animations, json ) {\n\n\t\t\tvar glTF = {\n\t\t\t\tscene: scene,\n\t\t\t\tscenes: scenes,\n\t\t\t\tcameras: cameras,\n\t\t\t\tanimations: animations,\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, glTF, json );\n\n\t\t\tonLoad( glTF );\n\n\t\t}, onError );\n\n\t}\n\n};\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tvar objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\n/**\n* DDS Texture Extension\n*\n* Specification:\n* https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n*\n*/\nfunction GLTFTextureDDSExtension() {\n\n\tif ( ! DDSLoader ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader' );\n\n\t}\n\n\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\tthis.ddsLoader = new DDSLoader();\n\n}\n\n/**\n* Lights Extension\n*\n* Specification: PENDING\n*/\nfunction GLTFLightsExtension( json ) {\n\n\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\tthis.lightDefs = extension.lights || [];\n\n}\n\nGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\tvar lightDef = this.lightDefs[ lightIndex ];\n\tvar lightNode;\n\n\tvar color = new Color( 0xffffff );\n\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\tswitch ( lightDef.type ) {\n\n\t\tcase 'directional':\n\t\tlightNode = new DirectionalLight( color );\n\t\tlightNode.target.position.set( 0, 0, -1 );\n\t\tlightNode.add( lightNode.target );\n\t\tbreak;\n\n\t\tcase 'point':\n\t\tlightNode = new PointLight( color );\n\t\tlightNode.distance = range;\n\t\tbreak;\n\n\t\tcase 'spot':\n\t\tlightNode = new SpotLight( color );\n\t\tlightNode.distance = range;\n\t\t// Handle spotlight properties.\n\t\tlightDef.spot = lightDef.spot || {};\n\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\tlightNode.target.position.set( 0, 0, -1 );\n\t\tlightNode.add( lightNode.target );\n\t\tbreak;\n\n\t\tdefault:\n\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t}\n\n\tlightNode.decay = 2;\n\n\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\treturn Promise.resolve( lightNode );\n\n};\n\n/**\n* Unlit Materials Extension (pending)\n*\n* PR: https://github.com/KhronosGroup/glTF/pull/1163\n*/\nfunction GLTFMaterialsUnlitExtension( json ) {\n\n\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n}\n\nGLTFMaterialsUnlitExtension.prototype.getMaterialType = function ( material ) {\n\n\treturn MeshBasicMaterial;\n\n};\n\nGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, material, parser ) {\n\n\tvar pending = [];\n\n\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\tmaterialParams.opacity = 1.0;\n\n\tvar metallicRoughness = material.pbrMetallicRoughness;\n\n\tif ( metallicRoughness ) {\n\n\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( pending );\n\n};\n\n/* BINARY EXTENSION */\n\nfunction GLTFBinaryExtension( data ) {\n\n\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\tthis.content = null;\n\tthis.body = null;\n\n\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\tthis.header = {\n\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\tversion: headerView.getUint32( 4, true ),\n\t\tlength: headerView.getUint32( 8, true )\n\t};\n\n\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t} else if ( this.header.version < 2.0 ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.' );\n\n\t}\n\n\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\tvar chunkIndex = 0;\n\n\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\tchunkIndex += 4;\n\n\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\tchunkIndex += 4;\n\n\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t}\n\n\t\t// Clients must ignore chunks with unknown types.\n\n\t\tchunkIndex += chunkLength;\n\n\t}\n\n\tif ( this.content === null ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t}\n\n}\n\n/**\n* DRACO Mesh Compression Extension\n*\n* Specification: https://github.com/KhronosGroup/glTF/pull/874\n*/\nfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\tif ( ! dracoLoader ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t}\n\n\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\tthis.json = json;\n\tthis.dracoLoader = dracoLoader;\n\tDRACOLoader.getDecoderModule();\n\n}\n\nGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\tvar json = this.json;\n\tvar dracoLoader = this.dracoLoader;\n\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\tvar threeAttributeMap = {};\n\tvar attributeNormalizedMap = {};\n\tvar attributeTypeMap = {};\n\n\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\tif ( ! ( attributeName in ATTRIBUTES ) ) continue;\n\n\t\tthreeAttributeMap[ ATTRIBUTES[ attributeName ] ] = gltfAttributeMap[ attributeName ];\n\n\t}\n\n\tfor ( attributeName in primitive.attributes ) {\n\n\t\tif ( ATTRIBUTES[ attributeName ] !== undefined && gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\tattributeTypeMap[ ATTRIBUTES[ attributeName ] ] = componentType;\n\t\t\tattributeNormalizedMap[ ATTRIBUTES[ attributeName ] ] = accessorDef.normalized === true;\n\n\t\t}\n\n\t}\n\n\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\treturn new Promise( function ( resolve ) {\n\n\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t}\n\n\t\t\t\tresolve( geometry );\n\n\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t} );\n\n\t} );\n\n};\n\n/**\n* Texture Transform Extension\n*\n* Specification:\n*/\nfunction GLTFTextureTransformExtension( json ) {\n\n\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n}\n\nGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\ttexture = texture.clone();\n\n\tif ( transform.offset !== undefined ) {\n\n\t\ttexture.offset.fromArray( transform.offset );\n\n\t}\n\n\tif ( transform.rotation !== undefined ) {\n\n\t\ttexture.rotation = transform.rotation;\n\n\t}\n\n\tif ( transform.scale !== undefined ) {\n\n\t\ttexture.repeat.fromArray( transform.scale );\n\n\t}\n\n\tif ( transform.texCoord !== undefined ) {\n\n\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t}\n\n\ttexture.needsUpdate = true;\n\n\treturn texture;\n\n};\n\n/**\n* Specular-Glossiness Extension\n*\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n*/\nfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\treturn {\n\n\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\tspecularGlossinessParams: [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t],\n\n\t\tgetMaterialType: function () {\n\n\t\t\treturn ShaderMaterial;\n\n\t\t},\n\n\t\textendParams: function ( params, material, parser ) {\n\n\t\t\tvar pbrSpecularGlossiness = material.extensions[ this.name ];\n\n\t\t\tvar shader = ShaderLib[ 'standard' ];\n\n\t\t\tvar uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tvar specularMapParsFragmentChunk = [\n\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t\t'#endif'\n\t\t\t].join( '\\n' );\n\n\t\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t\t'#endif'\n\t\t\t].join( '\\n' );\n\n\t\t\tvar specularMapFragmentChunk = [\n\t\t\t\t'vec3 specularFactor = specular;',\n\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t\t'#endif'\n\t\t\t].join( '\\n' );\n\n\t\t\tvar glossinessMapFragmentChunk = [\n\t\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t\t'#endif'\n\t\t\t].join( '\\n' );\n\n\t\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t\t'PhysicalMaterial material;',\n\t\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t\t'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\n\t\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t\t].join( '\\n' );\n\n\t\t\tvar fragmentShader = shader.fragmentShader\n\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t\tdelete uniforms.roughness;\n\t\t\tdelete uniforms.metalness;\n\t\t\tdelete uniforms.roughnessMap;\n\t\t\tdelete uniforms.metalnessMap;\n\n\t\t\tuniforms.specular = { value: new Color().setHex( 0x111111 ) };\n\t\t\tuniforms.glossiness = { value: 0.5 };\n\t\t\tuniforms.specularMap = { value: null };\n\t\t\tuniforms.glossinessMap = { value: null };\n\n\t\t\tparams.vertexShader = shader.vertexShader;\n\t\t\tparams.fragmentShader = fragmentShader;\n\t\t\tparams.uniforms = uniforms;\n\t\t\tparams.defines = { 'STANDARD': '' };\n\n\t\t\tparams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tparams.opacity = 1.0;\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\tparams.color.fromArray( array );\n\t\t\t\tparams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( params, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t}\n\n\t\t\tparams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\tparams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\tparams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\tparams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t}\n\n\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\tpending.push( parser.assignTexture( params, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\tpending.push( parser.assignTexture( params, 'specularMap', specGlossMapDef ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t},\n\n\t\tcreateMaterial: function ( params ) {\n\n\t\t\t// setup material properties based on MeshStandardMaterial for Specular-Glossiness\n\n\t\t\tvar material = new ShaderMaterial( {\n\t\t\t\tdefines: params.defines,\n\t\t\t\tvertexShader: params.vertexShader,\n\t\t\t\tfragmentShader: params.fragmentShader,\n\t\t\t\tuniforms: params.uniforms,\n\t\t\t\tfog: true,\n\t\t\t\tlights: true,\n\t\t\t\topacity: params.opacity,\n\t\t\t\ttransparent: params.transparent\n\t\t\t} );\n\n\t\t\tmaterial.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\tmaterial.color = params.color;\n\n\t\t\tmaterial.map = params.map === undefined ? null : params.map;\n\n\t\t\tmaterial.lightMap = null;\n\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\tmaterial.aoMap = params.aoMap === undefined ? null : params.aoMap;\n\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\tmaterial.emissive = params.emissive;\n\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\tmaterial.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\n\n\t\t\tmaterial.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\n\t\t\tmaterial.bumpScale = 1;\n\n\t\t\tmaterial.normalMap = params.normalMap === undefined ? null : params.normalMap;\n\t\t\tif ( params.normalScale ) material.normalScale = params.normalScale;\n\n\t\t\tmaterial.displacementMap = null;\n\t\t\tmaterial.displacementScale = 1;\n\t\t\tmaterial.displacementBias = 0;\n\n\t\t\tmaterial.specularMap = params.specularMap === undefined ? null : params.specularMap;\n\t\t\tmaterial.specular = params.specular;\n\n\t\t\tmaterial.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\n\t\t\tmaterial.glossiness = params.glossiness;\n\n\t\t\tmaterial.alphaMap = null;\n\n\t\t\tmaterial.envMap = params.envMap === undefined ? null : params.envMap;\n\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\tmaterial.extensions.derivatives = true;\n\n\t\t\treturn material;\n\n\t\t},\n\n\t\t/**\n\t\t* Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\n\t\t* copy only properties it knows about or inherits, and misses many properties that would\n\t\t* normally be defined by MeshStandardMaterial.\n\t\t*\n\t\t* This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\n\t\t* loading a glTF model, but cloning later (e.g. by the user) would require these changes\n\t\t* AND also updating `.onBeforeRender` on the parent mesh.\n\t\t*\n\t\t* @param  {THREE.ShaderMaterial} source\n\t\t* @return {THREE.ShaderMaterial}\n\t\t*/\n\t\tcloneMaterial: function ( source ) {\n\n\t\t\tvar target = source.clone();\n\n\t\t\ttarget.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\tvar params = this.specularGlossinessParams;\n\n\t\t\tfor ( var i = 0, il = params.length; i < il; i ++ ) {\n\n\t\t\t\ttarget[ params[ i ] ] = source[ params[ i ] ];\n\n\t\t\t}\n\n\t\t\treturn target;\n\n\t\t},\n\n\t\t// Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\n\t\trefreshUniforms: function ( renderer, scene, camera, geometry, material, group ) {\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial !== true ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar uniforms = material.uniforms;\n\t\t\tvar defines = material.defines;\n\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t\tuniforms.map.value = material.map;\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t\t// uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. specular map\n\t\t\t// 3. normal map\n\t\t\t// 4. bump map\n\t\t\t// 5. alpha map\n\t\t\t// 6. emissive map\n\n\t\t\tvar uvScaleMap;\n\n\t\t\tif ( material.map ) {\n\n\t\t\t\tuvScaleMap = material.map;\n\n\t\t\t} else if ( material.specularMap ) {\n\n\t\t\t\tuvScaleMap = material.specularMap;\n\n\t\t\t} else if ( material.displacementMap ) {\n\n\t\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t\t} else if ( material.normalMap ) {\n\n\t\t\t\tuvScaleMap = material.normalMap;\n\n\t\t\t} else if ( material.bumpMap ) {\n\n\t\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t\t} else if ( material.glossinessMap ) {\n\n\t\t\t\tuvScaleMap = material.glossinessMap;\n\n\t\t\t} else if ( material.alphaMap ) {\n\n\t\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t\t} else if ( material.emissiveMap ) {\n\n\t\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t\t// backwards compatibility\n\t\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t\t}\n\n\t\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t\t}\n\n\t\t\tif ( material.envMap ) {\n\n\t\t\t\tuniforms.envMap.value = material.envMap;\n\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\t\tuniforms.maxMipLevel.value = renderer.properties.get( material.envMap ).__maxMipLevel;\n\t\t\t}\n\n\t\t\tuniforms.specular.value.copy( material.specular );\n\t\t\tuniforms.glossiness.value = material.glossiness;\n\n\t\t\tuniforms.glossinessMap.value = material.glossinessMap;\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t\tif ( uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined ) {\n\n\t\t\t\tdefines.USE_GLOSSINESSMAP = '';\n\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\tdefines.USE_ROUGHNESSMAP = '';\n\n\t\t\t}\n\n\t\t\tif ( uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined ) {\n\n\t\t\t\tdelete defines.USE_GLOSSINESSMAP;\n\t\t\t\tdelete defines.USE_ROUGHNESSMAP;\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\nGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\nGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t// Copies a sample value to the result buffer. See description of glTF\n\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\tvar result = this.resultBuffer,\n\tvalues = this.sampleValues,\n\tvalueSize = this.valueSize,\n\toffset = index * valueSize * 3 + valueSize;\n\n\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\tresult[ i ] = values[ offset + i ];\n\n\t}\n\n\treturn result;\n\n};\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tvar result = this.resultBuffer;\n\tvar values = this.sampleValues;\n\tvar stride = this.valueSize;\n\n\tvar stride2 = stride * 2;\n\tvar stride3 = stride * 3;\n\n\tvar td = t1 - t0;\n\n\tvar p = ( t - t0 ) / td;\n\tvar pp = p * p;\n\tvar ppp = pp * p;\n\n\tvar offset1 = i1 * stride3;\n\tvar offset0 = offset1 - stride3;\n\n\tvar s2 = - 2 * ppp + 3 * pp;\n\tvar s3 = ppp - pp;\n\tvar s0 = 1 - s2;\n\tvar s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nvar WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nvar WEBGL_TYPE = {\n\t5126: Number,\n\t//35674: Matrix2,\n\t35675: Matrix3,\n\t35676: Matrix4,\n\t35664: Vector2,\n\t35665: Vector3,\n\t35666: Vector4,\n\t35678: Texture\n};\n\nvar WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nvar WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipMapNearestFilter,\n\t9985: LinearMipMapNearestFilter,\n\t9986: NearestMipMapLinearFilter,\n\t9987: LinearMipMapLinearFilter\n};\n\nvar WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nvar WEBGL_SIDES = {\n\t1028: BackSide, // Culling front\n\t1029: FrontSide // Culling back\n\t//1032: NoSide   // Culling front and back, what to do?\n};\n\nvar WEBGL_DEPTH_FUNCS = {\n\t512: NeverDepth,\n\t513: LessDepth,\n\t514: EqualDepth,\n\t515: LessEqualDepth,\n\t516: GreaterDepth,\n\t517: NotEqualDepth,\n\t518: GreaterEqualDepth,\n\t519: AlwaysDepth\n};\n\nvar WEBGL_BLEND_EQUATIONS = {\n\t32774: AddEquation,\n\t32778: SubtractEquation,\n\t32779: ReverseSubtractEquation\n};\n\nvar WEBGL_BLEND_FUNCS = {\n\t0: ZeroFactor,\n\t1: OneFactor,\n\t768: SrcColorFactor,\n\t769: OneMinusSrcColorFactor,\n\t770: SrcAlphaFactor,\n\t771: OneMinusSrcAlphaFactor,\n\t772: DstAlphaFactor,\n\t773: OneMinusDstAlphaFactor,\n\t774: DstColorFactor,\n\t775: OneMinusDstColorFactor,\n\t776: SrcAlphaSaturateFactor\n\t// The followings are not supported by Three.js yet\n\t//32769: CONSTANT_COLOR,\n\t//32770: ONE_MINUS_CONSTANT_COLOR,\n\t//32771: CONSTANT_ALPHA,\n\t//32772: ONE_MINUS_CONSTANT_COLOR\n};\n\nvar WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nvar ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nvar PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nvar INTERPOLATION = {\n\tCUBICSPLINE: InterpolateSmooth, // We use custom interpolation GLTFCubicSplineInterpolation for CUBICSPLINE.\n\t// KeyframeTrack.optimize() can't handle glTF Cubic Spline output values layout,\n\t// using THREE.InterpolateSmooth for KeyframeTrack instantiation to prevent optimization.\n\t// See KeyframeTrack.optimize() for the detail.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nvar STATES_ENABLES = {\n\t2884: 'CULL_FACE',\n\t2929: 'DEPTH_TEST',\n\t3042: 'BLEND',\n\t3089: 'SCISSOR_TEST',\n\t32823: 'POLYGON_OFFSET_FILL',\n\t32926: 'SAMPLE_ALPHA_TO_COVERAGE'\n};\n\nvar ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\nvar MIME_TYPE_FORMATS = {\n\t'image/png': RGBAFormat,\n\t'image/jpeg': RGBFormat\n};\n\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL( url, path ) {\n\n\t// Invalid URL\n\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t// Absolute URL http://,https://,//\n\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t// Data URI\n\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t// Blob URL\n\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t// Relative URL\n\treturn path + url;\n\n}\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n*/\nfunction createDefaultMaterial() {\n\n\treturn new MeshStandardMaterial( {\n\t\tcolor: 0xFFFFFF,\n\t\temissive: 0x000000,\n\t\tmetalness: 1,\n\t\troughness: 1,\n\t\ttransparent: false,\n\t\tdepthTest: true,\n\t\tside: FrontSide\n\t} );\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( var name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n* @param {THREE.Object3D|THREE.Material|THREE.BufferGeometry} object\n* @param {GLTF.definition} gltfDef\n*/\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tobject.userData = gltfDef.extras;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n*\n* @param {THREE.BufferGeometry} geometry\n* @param {Array<GLTF.Target>} targets\n* @param {GLTFParser} parser\n* @return {Promise<THREE.BufferGeometry>}\n*/\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tvar hasMorphPosition = false;\n\tvar hasMorphNormal = false;\n\n\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tvar target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\tvar pendingPositionAccessors = [];\n\tvar pendingNormalAccessors = [];\n\n\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tvar target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\t// TODO: Error-prone use of a callback inside a loop.\n\t\t\tvar accessor = target.POSITION !== undefined\n\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t.then( function ( accessor ) {\n\t\t\t\t// Cloning not to pollute original accessor below\n\t\t\t\treturn cloneBufferAttribute( accessor );\n\t\t\t} )\n\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( accessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\t// TODO: Error-prone use of a callback inside a loop.\n\t\t\tvar accessor = target.NORMAL !== undefined\n\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t.then( function ( accessor ) {\n\t\t\t\treturn cloneBufferAttribute( accessor );\n\t\t\t} )\n\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( accessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tvar morphPositions = accessors[ 0 ];\n\t\tvar morphNormals = accessors[ 1 ];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\t\t\tvar attributeName = 'morphTarget' + i;\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\t// Three.js morph position is absolute value. The formula is\n\t\t\t\t//   basePosition\n\t\t\t\t//     + weight0 * ( morphPosition0 - basePosition )\n\t\t\t\t//     + weight1 * ( morphPosition1 - basePosition )\n\t\t\t\t//     ...\n\t\t\t\t// while the glTF one is relative\n\t\t\t\t//   basePosition\n\t\t\t\t//     + weight0 * glTFmorphPosition0\n\t\t\t\t//     + weight1 * glTFmorphPosition1\n\t\t\t\t//     ...\n\t\t\t\t// then we need to convert from relative to absolute here.\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar positionAttribute = morphPositions[ i ];\n\t\t\t\t\tpositionAttribute.name = attributeName;\n\n\t\t\t\t\tvar position = geometry.attributes.position;\n\n\t\t\t\t\tfor ( var j = 0, jl = positionAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\tpositionAttribute.setXYZ(\n\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\tpositionAttribute.getX( j ) + position.getX( j ),\n\t\t\t\t\t\t\tpositionAttribute.getY( j ) + position.getY( j ),\n\t\t\t\t\t\t\tpositionAttribute.getZ( j ) + position.getZ( j )\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\t// see target.POSITION's comment\n\n\t\t\t\tif ( target.NORMAL !== undefined ) {\n\n\t\t\t\t\tvar normalAttribute = morphNormals[ i ];\n\t\t\t\t\tnormalAttribute.name = attributeName;\n\n\t\t\t\t\tvar normal = geometry.attributes.normal;\n\n\t\t\t\t\tfor ( var j = 0, jl = normalAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\tnormalAttribute.setXYZ(\n\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\tnormalAttribute.getX( j ) + normal.getX( j ),\n\t\t\t\t\t\t\tnormalAttribute.getY( j ) + normal.getY( j ),\n\t\t\t\t\t\t\tnormalAttribute.getZ( j ) + normal.getZ( j )\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n* @param {THREE.Mesh} mesh\n* @param {GLTF.Mesh} meshDef\n*/\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction isPrimitiveEqual( a, b ) {\n\n\tvar dracoExtA = a.extensions ? a.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] : undefined;\n\tvar dracoExtB = b.extensions ? b.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] : undefined;\n\n\tif ( dracoExtA && dracoExtB ) {\n\n\t\tif ( dracoExtA.bufferView !== dracoExtB.bufferView ) return false;\n\n\t\treturn isObjectEqual( dracoExtA.attributes, dracoExtB.attributes );\n\n\t}\n\n\tif ( a.indices !== b.indices ) {\n\n\t\treturn false;\n\n\t}\n\n\treturn isObjectEqual( a.attributes, b.attributes );\n\n}\n\nfunction isObjectEqual( a, b ) {\n\n\tif ( Object.keys( a ).length !== Object.keys( b ).length ) return false;\n\n\tfor ( var key in a ) {\n\n\t\tif ( a[ key ] !== b[ key ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isArrayEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, il = a.length; i < il; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction getCachedGeometry( cache, newPrimitive ) {\n\n\tfor ( var i = 0, il = cache.length; i < il; i ++ ) {\n\n\t\tvar cached = cache[ i ];\n\n\t\tif ( isPrimitiveEqual( cached.primitive, newPrimitive ) ) return cached.promise;\n\n\t}\n\n\treturn null;\n\n}\n\nfunction getCachedCombinedGeometry( cache, geometries ) {\n\n\tfor ( var i = 0, il = cache.length; i < il; i ++ ) {\n\n\t\tvar cached = cache[ i ];\n\n\t\tif ( isArrayEqual( geometries, cached.baseGeometries ) ) return cached.geometry;\n\n\t}\n\n\treturn null;\n\n}\n\nfunction getCachedMultiPassGeometry( cache, geometry, primitives ) {\n\n\tfor ( var i = 0, il = cache.length; i < il; i ++ ) {\n\n\t\tvar cached = cache[ i ];\n\n\t\tif ( geometry === cached.baseGeometry && isArrayEqual( primitives, cached.primitives ) ) return cached.geometry;\n\n\t}\n\n\treturn null;\n\n}\n\nfunction cloneBufferAttribute( attribute ) {\n\n\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\tvar count = attribute.count;\n\t\tvar itemSize = attribute.itemSize;\n\t\tvar array = attribute.array.slice( 0, count * itemSize );\n\n\t\tfor ( var i = 0; i < count; ++ i ) {\n\n\t\t\tarray[ i ] = attribute.getX( i );\n\t\t\tif ( itemSize >= 2 ) array[ i + 1 ] = attribute.getY( i );\n\t\t\tif ( itemSize >= 3 ) array[ i + 2 ] = attribute.getZ( i );\n\t\t\tif ( itemSize >= 4 ) array[ i + 3 ] = attribute.getW( i );\n\n\t\t}\n\n\t\treturn new BufferAttribute( array, itemSize, attribute.normalized );\n\n\t}\n\n\treturn attribute.clone();\n\n}\n\n/**\n* Checks if we can build a single Mesh with MultiMaterial from multiple primitives.\n* Returns true if all primitives use the same attributes/morphAttributes/mode\n* and also have index. Otherwise returns false.\n*\n* @param {Array<GLTF.Primitive>} primitives\n* @return {Boolean}\n*/\nfunction isMultiPassGeometry( primitives ) {\n\n\tif ( primitives.length < 2 ) return false;\n\n\tvar primitive0 = primitives[ 0 ];\n\tvar targets0 = primitive0.targets || [];\n\n\tif ( primitive0.indices === undefined ) return false;\n\n\tfor ( var i = 1, il = primitives.length; i < il; i ++ ) {\n\n\t\tvar primitive = primitives[ i ];\n\n\t\tif ( primitive0.mode !== primitive.mode ) return false;\n\t\tif ( primitive.indices === undefined ) return false;\n\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) return false;\n\t\tif ( ! isObjectEqual( primitive0.attributes, primitive.attributes ) ) return false;\n\n\t\tvar targets = primitive.targets || [];\n\n\t\tif ( targets0.length !== targets.length ) return false;\n\n\t\tfor ( var j = 0, jl = targets0.length; j < jl; j ++ ) {\n\n\t\t\tif ( ! isObjectEqual( targets0[ j ], targets[ j ] ) ) return false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\n/* GLTF PARSER */\n\nfunction GLTFParser( json, extensions, options ) {\n\n\tthis.json = json || {};\n\tthis.extensions = extensions || {};\n\tthis.options = options || {};\n\n\t// loader object cache\n\tthis.cache = new GLTFRegistry();\n\n\t// BufferGeometry caching\n\tthis.primitiveCache = [];\n\tthis.multiplePrimitivesCache = [];\n\tthis.multiPassGeometryCache = [];\n\n\tthis.textureLoader = new TextureLoader( this.options.manager );\n\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\tthis.fileLoader = new FileLoader( this.options.manager );\n\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n}\n\nGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\tvar json = this.json;\n\n\t// Clear the loader cache\n\tthis.cache.removeAll();\n\n\t// Mark the special nodes/meshes in json for efficient parse\n\tthis.markDefs();\n\n\t// Fire the callback on complete\n\tthis.getMultiDependencies( [\n\n\t\t'scene',\n\t\t'animation',\n\t\t'camera'\n\n\t] ).then( function ( dependencies ) {\n\n\t\tvar scenes = dependencies.scenes || [];\n\t\tvar scene = scenes[ json.scene || 0 ];\n\t\tvar animations = dependencies.animations || [];\n\t\tvar cameras = dependencies.cameras || [];\n\n\t\tonLoad( scene, scenes, cameras, animations, json );\n\n\t} ).catch( onError );\n\n};\n\n/**\n* Marks the special nodes/meshes in json for efficient parse.\n*/\nGLTFParser.prototype.markDefs = function () {\n\n\tvar nodeDefs = this.json.nodes || [];\n\tvar skinDefs = this.json.skins || [];\n\tvar meshDefs = this.json.meshes || [];\n\n\tvar meshReferences = {};\n\tvar meshUses = {};\n\n\t// Nothing in the node definition indicates whether it is a Bone or an\n\t// Object3D. Use the skins' joint references to mark bones.\n\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t}\n\n\t}\n\n\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t// avoid having more than one THREE.Mesh with the same name, count\n\t// references and rename instances below.\n\t//\n\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t}\n\n\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tthis.json.meshReferences = meshReferences;\n\tthis.json.meshUses = meshUses;\n\n};\n\n/**\n* Requests the specified dependency asynchronously, with caching.\n* @param {string} type\n* @param {number} index\n* @return {Promise<THREE.Object3D|THREE.Material|THREE.Texture|THREE.AnimationClip|ArrayBuffer|Object>}\n*/\nGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\tvar cacheKey = type + ':' + index;\n\tvar dependency = this.cache.get( cacheKey );\n\n\tif ( ! dependency ) {\n\n\t\tswitch ( type ) {\n\n\t\t\tcase 'scene':\n\t\t\tdependency = this.loadScene( index );\n\t\t\tbreak;\n\n\t\t\tcase 'node':\n\t\t\tdependency = this.loadNode( index );\n\t\t\tbreak;\n\n\t\t\tcase 'mesh':\n\t\t\tdependency = this.loadMesh( index );\n\t\t\tbreak;\n\n\t\t\tcase 'accessor':\n\t\t\tdependency = this.loadAccessor( index );\n\t\t\tbreak;\n\n\t\t\tcase 'bufferView':\n\t\t\tdependency = this.loadBufferView( index );\n\t\t\tbreak;\n\n\t\t\tcase 'buffer':\n\t\t\tdependency = this.loadBuffer( index );\n\t\t\tbreak;\n\n\t\t\tcase 'material':\n\t\t\tdependency = this.loadMaterial( index );\n\t\t\tbreak;\n\n\t\t\tcase 'texture':\n\t\t\tdependency = this.loadTexture( index );\n\t\t\tbreak;\n\n\t\t\tcase 'skin':\n\t\t\tdependency = this.loadSkin( index );\n\t\t\tbreak;\n\n\t\t\tcase 'animation':\n\t\t\tdependency = this.loadAnimation( index );\n\t\t\tbreak;\n\n\t\t\tcase 'camera':\n\t\t\tdependency = this.loadCamera( index );\n\t\t\tbreak;\n\n\t\t\tcase 'light':\n\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\tbreak\n\n\t\t\tdefault:\n\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t}\n\n\t\tthis.cache.add( cacheKey, dependency );\n\n\t}\n\n\treturn dependency;\n\n};\n\n/**\n* Requests all dependencies of the specified type asynchronously, with caching.\n* @param {string} type\n* @return {Promise<Array<Object>>}\n*/\nGLTFParser.prototype.getDependencies = function ( type ) {\n\n\tvar dependencies = this.cache.get( type );\n\n\tif ( ! dependencies ) {\n\n\t\tvar parser = this;\n\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\treturn parser.getDependency( type, index );\n\n\t\t} ) );\n\n\t\tthis.cache.add( type, dependencies );\n\n\t}\n\n\treturn dependencies;\n\n};\n\n/**\n* Requests all multiple dependencies of the specified types asynchronously, with caching.\n* @param {Array<string>} types\n* @return {Promise<Object<Array<Object>>>}\n*/\nGLTFParser.prototype.getMultiDependencies = function ( types ) {\n\n\tvar results = {};\n\tvar pending = [];\n\n\tfor ( var i = 0, il = types.length; i < il; i ++ ) {\n\n\t\tvar type = types[ i ];\n\t\tvar value = this.getDependencies( type );\n\n\t\t// TODO: Error-prone use of a callback inside a loop.\n\t\tvalue = value.then( function ( key, value ) {\n\n\t\t\tresults[ key ] = value;\n\n\t\t}.bind( this, type + ( type === 'mesh' ? 'es' : 's' ) ) );\n\n\t\tpending.push( value );\n\n\t}\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn results;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n* @param {number} bufferIndex\n* @return {Promise<ArrayBuffer>}\n*/\nGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\tvar loader = this.fileLoader;\n\n\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t}\n\n\t// If present, GLB container is required to be the first buffer.\n\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t}\n\n\tvar options = this.options;\n\n\treturn new Promise( function ( resolve, reject ) {\n\n\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t} );\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n* @param {number} bufferViewIndex\n* @return {Promise<ArrayBuffer>}\n*/\nGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n* @param {number} accessorIndex\n* @return {Promise<THREE.BufferAttribute|THREE.InterleavedBufferAttribute>}\n*/\nGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\tvar parser = this;\n\tvar json = this.json;\n\n\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t// information about attributes coming from another source (e.g. Draco\n\t\t// compression extension).\n\t\treturn Promise.resolve( null );\n\n\t}\n\n\tvar pendingBufferViews = [];\n\n\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t} else {\n\n\t\tpendingBufferViews.push( null );\n\n\t}\n\n\tif ( accessorDef.sparse !== undefined ) {\n\n\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t}\n\n\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\tvar itemBytes = elementBytes * itemSize;\n\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\tvar normalized = accessorDef.normalized === true;\n\t\tvar array, bufferAttribute;\n\n\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType;\n\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\tif ( ! ib ) {\n\n\t\t\t\t// Use the full buffer if it's interleaved.\n\t\t\t\tarray = new TypedArray( bufferView );\n\n\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t}\n\n\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, byteOffset / elementBytes, normalized );\n\n\t\t} else {\n\n\t\t\tif ( bufferView === null ) {\n\n\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t} else {\n\n\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t}\n\n\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t}\n\n\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\tbufferAttribute.setArray( bufferAttribute.array.slice() );\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn bufferAttribute;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n* @param {number} textureIndex\n* @return {Promise<THREE.Texture>}\n*/\nGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\tvar parser = this;\n\tvar json = this.json;\n\tvar options = this.options;\n\tvar textureLoader = this.textureLoader;\n\n\tvar URL = window.URL || window.webkitURL;\n\n\tvar textureDef = json.textures[ textureIndex ];\n\n\tvar textureExtensions = textureDef.extensions || {};\n\n\tvar source;\n\n\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t} else {\n\n\t\tsource = json.images[ textureDef.source ];\n\n\t}\n\n\tvar sourceURI = source.uri;\n\tvar isObjectURL = false;\n\n\tif ( source.bufferView !== undefined ) {\n\n\t\t// Load binary image data from bufferView, if provided.\n\n\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\tisObjectURL = true;\n\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\treturn sourceURI;\n\n\t\t} );\n\n\t}\n\n\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t// Load Texture resource.\n\n\t\tvar loader = Loader.Handlers.get( sourceURI );\n\n\t\tif ( ! loader ) {\n\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t: textureLoader;\n\n\t\t}\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\n\n\t\t} );\n\n\t} ).then( function ( texture ) {\n\n\t\t// Clean up resources and configure Texture.\n\n\t\tif ( isObjectURL === true ) {\n\n\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t}\n\n\t\ttexture.flipY = false;\n\n\t\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\n\n\t\t// Ignore unknown mime types, like DDS files.\n\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t}\n\n\t\tvar samplers = json.samplers || {};\n\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipMapLinearFilter;\n\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\treturn texture;\n\n\t} );\n\n};\n\n/**\n* Asynchronously assigns a texture to the given material parameters.\n* @param {Object} materialParams\n* @param {string} mapName\n* @param {Object} mapDef\n* @return {Promise}\n*/\nGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\tvar parser = this;\n\n\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\tif ( transform ) {\n\n\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\n\t\t\t}\n\n\t\t}\n\n\t\tmaterialParams[ mapName ] = texture;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n* @param {number} materialIndex\n* @return {Promise<THREE.Material>}\n*/\nGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\tvar parser = this;\n\tvar json = this.json;\n\tvar extensions = this.extensions;\n\tvar materialDef = json.materials[ materialIndex ];\n\n\tvar materialType;\n\tvar materialParams = {};\n\tvar materialExtensions = materialDef.extensions || {};\n\n\tvar pending = [];\n\n\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\tmaterialType = sgExtension.getMaterialType( materialDef );\n\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\tmaterialType = kmuExtension.getMaterialType( materialDef );\n\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t} else {\n\n\t\t// Specification:\n\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\tmaterialType = MeshStandardMaterial;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t}\n\n\t}\n\n\tif ( materialDef.doubleSided === true ) {\n\n\t\tmaterialParams.side = DoubleSide;\n\n\t}\n\n\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\tmaterialParams.transparent = true;\n\n\t} else {\n\n\t\tmaterialParams.transparent = false;\n\n\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t}\n\n\t}\n\n\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t}\n\n\t}\n\n\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t}\n\n\t}\n\n\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t}\n\n\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t}\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\tvar material;\n\n\t\tif ( materialType === ShaderMaterial ) {\n\n\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t} else {\n\n\t\t\tmaterial = new materialType( materialParams );\n\n\t\t}\n\n\t\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\n\n\t\t// Normal map textures use OpenGL conventions:\n\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#materialnormaltexture\n\t\tif ( material.normalScale ) {\n\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\n\n\t\t}\n\n\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\t\tif ( material.specularMap ) material.specularMap.encoding = sRGBEncoding;\n\n\t\tassignExtrasToUserData( material, materialDef );\n\n\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\treturn material;\n\n\t} );\n\n};\n\n/**\n* @param {THREE.BufferGeometry} geometry\n* @param {GLTF.Primitive} primitiveDef\n* @param {GLTFParser} parser\n* @return {Promise<THREE.BufferGeometry>}\n*/\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tvar attributes = primitiveDef.attributes;\n\n\tvar pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t.then( function ( accessor ) {\n\n\t\t\tgeometry.addAttribute( attributeName, accessor );\n\n\t\t} );\n\n\t}\n\n\tfor ( var gltfAttributeName in attributes ) {\n\n\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ];\n\n\t\tif ( ! threeAttributeName ) continue;\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n*\n* Creates BufferGeometries from primitives.\n* If we can build a single BufferGeometry with .groups from multiple primitives, returns one BufferGeometry.\n* Otherwise, returns BufferGeometries without .groups as many as primitives.\n*\n* @param {Array<GLTF.Primitive>} primitives\n* @return {Promise<Array<THREE.BufferGeometry>>}\n*/\nGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\tvar parser = this;\n\tvar extensions = this.extensions;\n\tvar cache = this.primitiveCache;\n\n\tvar isMultiPass = isMultiPassGeometry( primitives );\n\tvar originalPrimitives;\n\n\tif ( isMultiPass ) {\n\n\t\toriginalPrimitives = primitives; // save original primitives and use later\n\n\t\t// We build a single BufferGeometry with .groups from multiple primitives\n\t\t// because all primitives share the same attributes/morph/mode and have indices.\n\n\t\tprimitives = [ primitives[ 0 ] ];\n\n\t\t// Sets .groups and combined indices to a geometry later in this method.\n\n\t}\n\n\tfunction createDracoPrimitive( primitive ) {\n\n\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t.decodePrimitive( primitive, parser )\n\t\t.then( function ( geometry ) {\n\n\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t} );\n\n\t}\n\n\tvar pending = [];\n\n\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\tvar primitive = primitives[ i ];\n\n\t\t// See if we've already created this geometry\n\t\tvar cached = getCachedGeometry( cache, primitive );\n\n\t\tif ( cached ) {\n\n\t\t\t// Use the cached geometry if it exists\n\t\t\tpending.push( cached );\n\n\t\t} else {\n\n\t\t\tvar geometryPromise;\n\n\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t// Use DRACO geometry if available\n\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise create a new geometry\n\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t}\n\n\t\t\t// Cache this geometry\n\t\t\tcache.push( { primitive: primitive, promise: geometryPromise } );\n\n\t\t\tpending.push( geometryPromise );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( pending ).then( function ( geometries ) {\n\n\t\tif ( isMultiPass ) {\n\n\t\t\tvar baseGeometry = geometries[ 0 ];\n\n\t\t\t// See if we've already created this combined geometry\n\t\t\tvar cache = parser.multiPassGeometryCache;\n\t\t\tvar cached = getCachedMultiPassGeometry( cache, baseGeometry, originalPrimitives );\n\n\t\t\tif ( cached !== null ) return [ cached.geometry ];\n\n\t\t\t// Cloning geometry because of index override.\n\t\t\t// Attributes can be reused so cloning by myself here.\n\t\t\tvar geometry = new BufferGeometry();\n\n\t\t\tgeometry.name = baseGeometry.name;\n\t\t\tgeometry.userData = baseGeometry.userData;\n\n\t\t\tfor ( var key in baseGeometry.attributes ) geometry.addAttribute( key, baseGeometry.attributes[ key ] );\n\t\t\tfor ( var key in baseGeometry.morphAttributes ) geometry.morphAttributes[ key ] = baseGeometry.morphAttributes[ key ];\n\n\t\t\tvar pendingIndices = [];\n\n\t\t\tfor ( var i = 0, il = originalPrimitives.length; i < il; i ++ ) {\n\n\t\t\t\tpendingIndices.push( parser.getDependency( 'accessor', originalPrimitives[ i ].indices ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingIndices ).then( function ( accessors ) {\n\n\t\t\t\tvar indices = [];\n\t\t\t\tvar offset = 0;\n\n\t\t\t\tfor ( var i = 0, il = originalPrimitives.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar accessor = accessors[ i ];\n\n\t\t\t\t\tfor ( var j = 0, jl = accessor.count; j < jl; j ++ ) indices.push( accessor.array[ j ] );\n\n\t\t\t\t\tgeometry.addGroup( offset, accessor.count, i );\n\n\t\t\t\t\toffset += accessor.count;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\n\t\t\t\tcache.push( { geometry: geometry, baseGeometry: baseGeometry, primitives: originalPrimitives } );\n\n\t\t\t\treturn [ geometry ];\n\n\t\t\t} );\n\n\t\t} else if ( geometries.length > 1 && BufferGeometryUtils !== undefined ) {\n\n\t\t\t// Tries to merge geometries with BufferGeometryUtils if possible\n\n\t\t\tfor ( var i = 1, il = primitives.length; i < il; i ++ ) {\n\n\t\t\t\t// can't merge if draw mode is different\n\t\t\t\tif ( primitives[ 0 ].mode !== primitives[ i ].mode ) return geometries;\n\n\t\t\t}\n\n\t\t\t// See if we've already created this combined geometry\n\t\t\tvar cache = parser.multiplePrimitivesCache;\n\t\t\tvar cached = getCachedCombinedGeometry( cache, geometries );\n\n\t\t\tif ( cached ) {\n\n\t\t\t\tif ( cached.geometry !== null ) return [ cached.geometry ];\n\n\t\t\t} else {\n\n\t\t\t\tvar geometry = BufferGeometryUtils.mergeBufferGeometries( geometries, true );\n\n\t\t\t\tcache.push( { geometry: geometry, baseGeometries: geometries } );\n\n\t\t\t\tif ( geometry !== null ) return [ geometry ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n* @param {number} meshIndex\n* @return {Promise<THREE.Group|THREE.Mesh|THREE.SkinnedMesh>}\n*/\nGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\tvar parser = this;\n\tvar json = this.json;\n\tvar extensions = this.extensions;\n\n\tvar meshDef = json.meshes[ meshIndex ];\n\tvar primitives = meshDef.primitives;\n\n\tvar pending = [];\n\n\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\tvar material = primitives[ i ].material === undefined\n\t\t? createDefaultMaterial()\n\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\tpending.push( material );\n\n\t}\n\n\treturn Promise.all( pending ).then( function ( originalMaterials ) {\n\n\t\treturn parser.loadGeometries( primitives ).then( function ( geometries ) {\n\n\t\t\tvar isMultiMaterial = geometries.length === 1 && geometries[ 0 ].groups.length > 0;\n\n\t\t\tvar meshes = [];\n\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tvar material = isMultiMaterial ? originalMaterials : originalMaterials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true ) mesh.normalizeSkinWeights(); // #15319\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.drawMode = TriangleStripDrawMode;\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.drawMode = TriangleFanDrawMode;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t\t// 2. update Material depending on Mesh and BufferGeometry\n\n\t\t\t\tvar materials = isMultiMaterial ? mesh.material : [ mesh.material ];\n\n\t\t\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\t\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\t\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\t\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\t\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\t\t\tfor ( var j = 0, jl = materials.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar material = materials[ j ];\n\n\t\t\t\t\tif ( mesh.isPoints ) {\n\n\t\t\t\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\t\t\t\tvar pointsMaterial = parser.cache.get( cacheKey );\n\n\t\t\t\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\t\t\t\tpointsMaterial.lights = false; // PointsMaterial doesn't support lights yet\n\n\t\t\t\t\t\t\tparser.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial = pointsMaterial;\n\n\t\t\t\t\t} else if ( mesh.isLine ) {\n\n\t\t\t\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\t\t\t\tvar lineMaterial = parser.cache.get( cacheKey );\n\n\t\t\t\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\t\t\t\tlineMaterial.color.copy( material.color );\n\t\t\t\t\t\t\tlineMaterial.lights = false; // LineBasicMaterial doesn't support lights yet\n\n\t\t\t\t\t\t\tparser.cache.add( cacheKey, lineMaterial );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial = lineMaterial;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Clone the material if it will be modified\n\t\t\t\t\tif ( useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\t\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\t\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\t\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\t\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\t\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\t\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\t\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\t\t\t\tvar cachedMaterial = parser.cache.get( cacheKey );\n\n\t\t\t\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\t\t\t\tcachedMaterial = material.isGLTFSpecularGlossinessMaterial\n\t\t\t\t\t\t\t? extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].cloneMaterial( material )\n\t\t\t\t\t\t\t: material.clone();\n\n\t\t\t\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = VertexColors;\n\t\t\t\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\t\t\t\tparser.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial = cachedMaterial;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ j ] = material;\n\n\t\t\t\t\t// workarounds for mesh and geometry\n\n\t\t\t\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\t\t\t\tconsole.log( 'THREE.GLTFLoader: Duplicating UVs to support aoMap.' );\n\t\t\t\t\t\tgeometry.addAttribute( 'uv2', new BufferAttribute( geometry.attributes.uv.array, 2 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) {\n\n\t\t\t\t\t\t// for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update\n\t\t\t\t\t\tmesh.onBeforeRender = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].refreshUniforms;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.material = isMultiMaterial ? materials : materials[ 0 ];\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tvar group = new Group();\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n* @param {number} cameraIndex\n* @return {Promise<THREE.Camera>}\n*/\nGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\tvar camera;\n\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\tvar params = cameraDef[ cameraDef.type ];\n\n\tif ( ! params ) {\n\n\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\treturn;\n\n\t}\n\n\tif ( cameraDef.type === 'perspective' ) {\n\n\t\tcamera = new PerspectiveCamera( THREE_Math.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\tcamera = new OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\n\n\t}\n\n\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\n\n\tassignExtrasToUserData( camera, cameraDef );\n\n\treturn Promise.resolve( camera );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n* @param {number} skinIndex\n* @return {Promise<Object>}\n*/\nGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\tvar skinDef = this.json.skins[ skinIndex ];\n\n\tvar skinEntry = { joints: skinDef.joints };\n\n\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\treturn Promise.resolve( skinEntry );\n\n\t}\n\n\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\treturn skinEntry;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n* @param {number} animationIndex\n* @return {Promise<THREE.AnimationClip>}\n*/\nGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\tvar json = this.json;\n\n\tvar animationDef = json.animations[ animationIndex ];\n\n\tvar pendingNodes = [];\n\tvar pendingInputAccessors = [];\n\tvar pendingOutputAccessors = [];\n\tvar pendingSamplers = [];\n\tvar pendingTargets = [];\n\n\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\tvar channel = animationDef.channels[ i ];\n\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\tvar target = channel.target;\n\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\tpendingSamplers.push( sampler );\n\t\tpendingTargets.push( target );\n\n\t}\n\n\treturn Promise.all( [\n\n\t\tPromise.all( pendingNodes ),\n\t\tPromise.all( pendingInputAccessors ),\n\t\tPromise.all( pendingOutputAccessors ),\n\t\tPromise.all( pendingSamplers ),\n\t\tPromise.all( pendingTargets )\n\n\t] ).then( function ( dependencies ) {\n\n\t\tvar nodes = dependencies[ 0 ];\n\t\tvar inputAccessors = dependencies[ 1 ];\n\t\tvar outputAccessors = dependencies[ 2 ];\n\t\tvar samplers = dependencies[ 3 ];\n\t\tvar targets = dependencies[ 4 ];\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\tvar node = nodes[ i ];\n\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\tvar sampler = samplers[ i ];\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( node === undefined ) continue;\n\n\t\t\tnode.updateMatrix();\n\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\tvar TypedKeyframeTrack;\n\n\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\tdefault:\n\n\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\tvar targetNames = [];\n\n\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t// node can be THREE.Group here but\n\t\t\t\t// PATH_PROPERTIES.weights(morphTargetInfluences) should be\n\t\t\t\t// the property of a mesh object under group.\n\n\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t} else {\n\n\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t}\n\n\t\t\t// KeyframeTrack.optimize() will modify given 'times' and 'values'\n\t\t\t// buffers before creating a truncated copy to keep. Because buffers may\n\t\t\t// be reused by other tracks, make copies here.\n\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\tAnimationUtils.arraySlice( inputAccessor.array, 0 ),\n\t\t\t\t\tAnimationUtils.arraySlice( outputAccessor.array, 0 ),\n\t\t\t\t\tinterpolation\n\t\t\t\t);\n\n\t\t\t\t// Here is the trick to enable custom interpolation.\n\t\t\t\t// Overrides .createInterpolant in a factory method which creates custom interpolation.\n\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t};\n\n\t\t\t\t\t// Workaround, provide an alternate way to know if the interpolant type is cubis spline to track.\n\t\t\t\t\t// track.getInterpolation() doesn't return valid value for custom interpolant.\n\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t}\n\n\t\t\t\ttracks.push( track );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\n\n\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n* @param {number} nodeIndex\n* @return {Promise<THREE.Object3D>}\n*/\nGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\tvar json = this.json;\n\tvar extensions = this.extensions;\n\tvar parser = this;\n\n\tvar meshReferences = json.meshReferences;\n\tvar meshUses = json.meshUses;\n\n\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\treturn new Promise( function ( resolve ) {\n\n\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\tresolve( new Bone() );\n\n\t\t} else if ( nodeDef.mesh !== undefined ) {\n\n\t\t\tparser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\tvar node;\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t// onBeforeRender copy for Specular-Glossiness\n\t\t\t\t\tnode.onBeforeRender = mesh.onBeforeRender;\n\n\t\t\t\t\tfor ( var i = 0, il = node.children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tnode.children[ i ].name += '_instance_' + instanceNum;\n\t\t\t\t\t\tnode.children[ i ].onBeforeRender = mesh.children[ i ].onBeforeRender;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnode = mesh;\n\n\t\t\t\t}\n\n\t\t\t\tresolve( node );\n\n\t\t\t} );\n\n\t\t} else if ( nodeDef.camera !== undefined ) {\n\n\t\t\tparser.getDependency( 'camera', nodeDef.camera ).then( resolve );\n\n\t\t} else if ( nodeDef.extensions\n\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\tparser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light ).then( resolve );\n\n\t\t} else {\n\n\t\t\tresolve( new Object3D() );\n\n\t\t}\n\n\t} ).then( function ( node ) {\n\n\t\tif ( nodeDef.name !== undefined ) {\n\n\t\t\tnode.name = PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t}\n\n\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\tvar matrix = new Matrix4();\n\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\tnode.applyMatrix( matrix );\n\n\t\t} else {\n\n\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn node;\n\n\t} );\n\n};\n\n/**\n* Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n* @param {number} sceneIndex\n* @return {Promise<THREE.Scene>}\n*/\nGLTFParser.prototype.loadScene = function () {\n\n\t// scene node hierachy builder\n\n\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t// build skeleton here as well\n\n\t\t\tvar skinEntry;\n\n\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\tskinEntry = skin;\n\n\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\tvar meshes = node.isGroup === true ? node.children : [ node ];\n\n\t\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar mesh = meshes[ i ];\n\n\t\t\t\t\tvar bones = [];\n\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\treturn node;\n\n\t\t\t} );\n\n\t\t} ).then( function ( node ) {\n\n\t\t\t// build node hierachy\n\n\t\t\tparentObject.add( node );\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t} );\n\n\t}\n\n\treturn function loadScene( sceneIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\tvar parser = this;\n\n\t\tvar scene = new Scene();\n\t\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t};\n\n}();\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import {Texture, LoaderUtils} from \"three\";\n\nimport GLTFLoader from \"./GLTFLoader\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nconst glTFLoader = new GLTFLoader();\nexport const fileParsers = {\n\t/*THREE_Model_JSON(json, url) {\n\t\tconst data = new JSONLoader().parse(json, LoaderUtils.extractUrlBase(url));\n\t\treturn new Mesh(data.geometry, data.materials);\n\t},*/\n\tasync THREE_Model_GLTF(response, url) {\n\t\tconst arrayBuffer = await response.arrayBuffer();\n\t\tconst gltf = await new Promise((resolve, reject) => {\n\t\t\tglTFLoader.parse(arrayBuffer, LoaderUtils.extractUrlBase(url), resolve, reject);\n\t\t});\n\t\treturn gltf.scene.children[0];\n\t},\n\tasync THREE_Texture(response) {\n\t\tconst blob = await response.blob();\n\t\tconst image = document.createElement('img');\n\t\timage.src = URL.createObjectURL(blob);\n\t\tconst texture = new Texture(image);\n\t\ttexture.needsUpdate = true;\n\t\treturn texture;\n\t},\n\tasync TEXT(response) {\n\t\treturn response.text();\n\t}\n}\n\nfileParsers.GLSL = fileParsers.TEXT;\n\nconst urlList = {};\n\nexport function addFile(type, name, url) {\n\tif (!urlList[type]) urlList[type] = {};\n\turlList[type][name] = url;\n}\n\nconst assets = {};\nconst loadingResources = new Map();\n\nfunction forEachResourse(list, callback) {\n\tfunction callbackInside(innerList) {\n\t\tif (innerList.constructor === Object) {\n\t\t\tObject.keys(innerList).forEach(type => {\n\t\t\t\tfunction callbackSimpleList(list) {\n\t\t\t\t\tif (typeof list === \"string\") callback(type, list, urlList[type][list]);\n\t\t\t\t\telse Object.keys(list).forEach(name => callback(type, name, list[name]));\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(innerList[type])) innerList[type].forEach(callbackSimpleList);\n\t\t\t\telse callbackSimpleList(innerList[type]);\n\t\t\t});\n\t\t} else forEachResourse(innerList.requiredResources, callback);\n\t}\n\tif (Array.isArray(list)) list.forEach(callbackInside);\n\telse callbackInside(list);\n}\n\nexport async function loadResources(list, onProgress) {\n\tconst promises = [];\n\tforEachResourse(list, (type, name, url) => {\n\t\tconst promise = loadResource(type, name, url);\n\t\tpromises.push(onProgress ? promise.then(onProgress) : promise);\n\t});\n\treturn Promise.all(promises);\n}\n\nexport function loadResource(type, name, url) {\n\tconst key = `${type}.${name}`;\n\t// Don't load already loaded resource\n\tif (assets[type] && assets[type][name]) return Promise.resolve();\n\tif (!loadingResources.has(key)) {\n\t\tloadingResources.set(key, (async () => {\n\t\t\tif (!fileParsers[type]) throw new Error(`fileParsers[${type}] does not exist`);\n\t\t\tif (!url) url = urlList[type][name];\n\t\t\tif (!url) throw new Error(`URL for resource ${key} is not registered`);\n\t\t\tconst response = await fetch(new Request(url, {}));\n\t\t\tif (!response.ok) throw new Error(`HTTP error, status = ${response.status}`);\n\t\t\tif (!assets[type]) assets[type] = [];\n\t  \tassets[type][name] = await fileParsers[type](response, url);\n\t\t\t//console.log(`done ${key} (${url})`);\n\n\t\t\tloadingResources.delete(key);\n\t\t})());\n\t}\n\treturn loadingResources.get(key);\n}\n\nexport function countResources(list) {\n\tlet count = 0;\n\tforEachResourse(list, (type, name) => {\n\t\tif (!(assets[type] && assets[type][name])) count++;\n\t});\n\treturn count;\n}\n\nexport default assets;\n","\nimport {addFile} from \"../loading\";\n\naddFile('GLSL', 'identicalVertex', \"/node_modules/w3g/three-effect/identicalVertex.min.glsl\");\n","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nimport assets, {addFile} from \"../loading\";\nimport \"./identicalVertex\";\n\naddFile('GLSL', 'copyFragment', \"/node_modules/w3g/three-effect/copyFragment.min.glsl\");\n\nexport default class CopyShader {\n\tconstructor() {\n\t\tthis.uniforms = {\n\t\t\t\"tDiffuse\": {value: null},\n\t\t\t\"opacity\":  {value: 1.0}\n\t\t};\n\t\tthis.vertexShader = assets.GLSL.identicalVertex;\n\t\tthis.fragmentShader = assets.GLSL.copyFragment;\n\t}\n}\n\nCopyShader.requiredResources = {GLSL: ['identicalVertex', 'copyFragment']};\n","\nexport default function Pass() {\n\tthis.enabled = true; // if set to true, the pass is processed by the composer\n\tthis.needsSwap = true; // if set to true, the pass indicates to swap read and write buffer after rendering\n\tthis.clear = false; // if set to true, the pass clears its buffer before rendering\n\tthis.renderToScreen = false; // if set to true, the result of the pass is rendered to screen\n};\n\nObject.assign(Pass.prototype, {\n\tsetSize: function(width, height) {},\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\t\tconsole.error('THREE.Pass: .render() must be implemented in derived pass.');\n\t}\n});\n","import {ShaderMaterial, OrthographicCamera, Scene, Mesh, PlaneBufferGeometry, UniformsUtils} from \"three\";\nimport Pass from \"./Pass\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nexport default function ShaderPass(shader, textureID) {\n\tPass.call(this);\n\n\tthis.textureID = (textureID !== undefined) ? textureID : \"tDiffuse\";\n\n\tif (shader instanceof ShaderMaterial) {\n\t\tthis.uniforms = shader.uniforms;\n\t\tthis.material = shader;\n\t} else if (shader) {\n\t\tthis.uniforms = UniformsUtils.clone(shader.uniforms);\n\t\tthis.material = new ShaderMaterial( {\n\t\t\tdefines: shader.defines || {},\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader\n\t\t});\n\t}\n\n\tthis.camera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\tthis.scene = new Scene();\n\n\tthis.quad = new Mesh(new PlaneBufferGeometry(2, 2), null);\n\tthis.quad.frustumCulled = false; // Avoid getting clipped\n\tthis.scene.add(this.quad);\n};\n\nShaderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n\tconstructor: ShaderPass,\n\n\trender(renderer, writeBuffer, readBuffer, delta, maskActive) {\n\t\tif (this.uniforms[this.textureID]) this.uniforms[this.textureID].value = readBuffer.texture;\n\n\t\tthis.quad.material = this.material;\n\n\t\tif (this.renderToScreen) renderer.render(this.scene, this.camera);\n\t\telse renderer.render(this.scene, this.camera, writeBuffer, this.clear);\n\t}\n});\n","import Pass from \"./Pass\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nexport function MaskPass(scene, camera) {\n\tPass.call(this);\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.clear = true;\n\tthis.needsSwap = false;\n\n\tthis.inverse = false;\n};\n\nMaskPass.prototype = Object.assign(Object.create(Pass.prototype), {\n\tconstructor: MaskPass,\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\t\tconst context = renderer.context;\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\t\tstate.buffers.color.setMask(false);\n\t\tstate.buffers.depth.setMask(false);\n\n\t\t// lock buffers\n\t\tstate.buffers.color.setLocked(true);\n\t\tstate.buffers.depth.setLocked(true);\n\n\t\t// set up stencil\n\t\tlet writeValue, clearValue;\n\n\t\tif (this.inverse) {\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\t\t} else {\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\t\t}\n\n\t\tstate.buffers.stencil.setTest(true);\n\t\tstate.buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n\t\tstate.buffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff);\n\t\tstate.buffers.stencil.setClear(clearValue);\n\n\t\t// draw into the stencil buffer\n\t\trenderer.render(this.scene, this.camera, readBuffer, this.clear);\n\t\trenderer.render(this.scene, this.camera, writeBuffer, this.clear);\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\t\tstate.buffers.color.setLocked(false);\n\t\tstate.buffers.depth.setLocked(false);\n\n\t\t// only render where stencil is set to 1\n\t\tstate.buffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n\t\tstate.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n\t}\n});\n\n\nexport function ClearMaskPass() {\n\tPass.call(this);\n\n\tthis.needsSwap = false;\n};\n\nClearMaskPass.prototype = Object.assign(Object.create(Pass.prototype), {\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\t\trenderer.state.buffers.stencil.setTest(false);\n\t}\n});\n","import {LinearFilter, RGBAFormat, WebGLRenderTarget} from \"three\";\nimport CopyShader from \"./CopyShader\";\nimport ShaderPass from \"./ShaderPass\";\nimport {MaskPass, ClearMaskPass} from \"./MaskPass\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nexport default function EffectComposer(renderer, renderTarget) {\n\tthis.renderer = renderer;\n\n\tif ( renderTarget === undefined ) {\n\t\tconst size = renderer.getDrawingBufferSize();\n\t\trenderTarget = new WebGLRenderTarget(size.width, size.height, {\n\t\t\tminFilter: LinearFilter,\n\t\t\tmagFilter: LinearFilter,\n\t\t\tformat: RGBAFormat,\n\t\t\tstencilBuffer: false\n\t\t});\n\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.passes = [];\n\n\tthis.copyPass = new ShaderPass(new CopyShader());\n};\n\nEffectComposer.requiredResources = CopyShader;\n\nObject.assign(EffectComposer.prototype, {\n\tswapBuffers: function() {\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\t},\n\n\trender: function(delta) {\n\t\tlet maskActive = false;\n\n\t\tconst il = this.passes.length;\n\n\t\tfor (let i = 0; i < il; i++) {\n\t\t\tconst pass = this.passes[i];\n\n\t\t\tif (pass.enabled === false) continue;\n\n\t\t\tpass.render(this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive);\n\n\t\t\tif (pass.needsSwap) {\n\t\t\t\tif (maskActive) {\n\t\t\t\t\tvar context = this.renderer.context;\n\n\t\t\t\t\tcontext.stencilFunc(context.NOTEQUAL, 1, 0xffffffff);\n\n\t\t\t\t\tthis.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, delta);\n\n\t\t\t\t\tcontext.stencilFunc(context.EQUAL, 1, 0xffffffff);\n\t\t\t\t}\n\t\t\t\tthis.swapBuffers();\n\t\t\t}\n\n\t\t\tif (pass instanceof MaskPass) {\n\t\t\t\tmaskActive = true;\n\t\t\t} else if (pass instanceof ClearMaskPass) {\n\t\t\t\tmaskActive = false;\n\t\t\t}\n\t\t}\n\t},\n\n\treset: function (renderTarget) {\n\t\tif (renderTarget === undefined) {\n\t\t\tvar size = this.renderer.getDrawingBufferSize();\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize(size.width, size.height);\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\t},\n\n\tsetSize: function (width, height) {\n\t\tthis.renderTarget1.setSize(width, height);\n\t\tthis.renderTarget2.setSize(width, height);\n\n\t\tfor (var i = 0; i < this.passes.length; i++) {\n\t\t\tthis.passes[i].setSize(width, height);\n\t\t}\n\t}\n});\n","export function createCustomEvent(name, detail) {\n\tlet event = null;\n\ttry {\n\t  event = new CustomEvent(name, {detail: detail});\n\t} catch (e) {\n\t  event = document.createEvent('CustomEvent');\n\t  event.initCustomEvent(name, false, false, detail);\n\t}\n\treturn event;\n}\n\nexport let mouseX = null;\nexport let mouseY = null;\nexport let pointing = false;\n\nexport const keys = {};\nexport const keyDown = {};\n\nexport function processEvent(newname, olde) {\n\tconst rect = olde.currentTarget.getBoundingClientRect();\n\tconst newe = createCustomEvent(newname, olde);\n\tnewe.x = olde.clientX - rect.left;\n\tnewe.y = olde.clientY - rect.top;\n\treturn newe;\n}\n\nexport function initPointerEvents(element) {\n\tfunction updateMousePosition(e) {\n\t\tmouseX = e.x;\n\t\tmouseY = e.y;\n\t}\n\telement.addEventListener('touchstart', e => {\n\t\te.preventDefault();\n\t\telement.dispatchEvent(processEvent('pointstart', e));\n\t});\n\telement.addEventListener('touchmove', e => {\n\t\te.preventDefault();\n\t\telement.dispatchEvent(processEvent('pointmove', e));\n\t});\n\telement.addEventListener('touchend', e => {\n\t\te.preventDefault();\n\t\telement.dispatchEvent(processEvent('pointend', e));\n\t});\n\telement.addEventListener('mousedown', e => {\n\t\te = processEvent('pointstart', e);\n\t\tupdateMousePosition(e);\n\t\tpointing = true;\n\t\telement.dispatchEvent(e);\n\t});\n\telement.addEventListener('mousemove', e => {\n\t\te = processEvent('pointmove', e);\n\t\tupdateMousePosition(e);\n\t\telement.dispatchEvent(e);\n\t});\n\telement.addEventListener('mouseup', e => {\n\t\tpointing = false;\n\t\telement.dispatchEvent(processEvent('pointend', e));\n\t});\n}\n\nexport function initKeyEvents() {\n\tdocument.addEventListener('keydown', e => keys[e.code] = keyDown[e.code] = true);\n\tdocument.addEventListener('keyup', e => keys[e.code] = keyDown[e.code] = false);\n}\n","import {WebGLRenderer, Color} from \"three\";\n\nimport EffectComposer from \"./three-effect/EffectComposer\";\n\nimport {initPointerEvents, initKeyEvents, keyDown, processEvent} from \"./input\";\nimport {loadResources} from \"./loading\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nexport let loopRate = 60;\nexport let frameRate = 60;\n\nlet threeRenderer;\nexport let threeComposer;\n\nexport let currentScene;\n\nexport let currentFPS = 0;\n\nexport let vw = 640;\nexport let vh = 960;\nexport let resized = false;\nlet updated = false;\nlet running = false;\n\nexport function setCurrentScene(scene) {\n\tcurrentScene = scene;\n\tif (threeComposer) threeComposer.passes = scene.threePasses;\n\tscene.updateCameras();\n}\n\nexport function renderScreen() {\n\tif (resized) threeRenderer.setSize(vw, vh);\n\tcurrentScene.prepareForRendering();\n\tthreeComposer.render();\n\tresized = false;\n\tupdated = false;\n}\n\nexport function setGameLoopfrequency(r) {\n\tloopRate = r;\n}\nconst frameTimes = [];\nframeTimes.fill(0, 0, 60);\nconst renderLoop = () => {\n\tconst currentTime = performance.now();\n\tframeTimes.push(currentTime);\n\tcurrentFPS = 60000 / (currentTime - frameTimes.shift());\n\tif (updated) renderScreen();\n};\n\nexport function resize(width, height) {\n\tvw = width;\n\tvh = height;\n\tresized = true;\n}\n\nlet breakRenderLoop = false;\nexport function setFrameRate(v) {\n\tframeRate = v;\n\tif (!running) return;\n\tif (frameRate === 60) {\n\t\tthreeRenderer.setAnimationLoop(renderLoop);\n\t\tbreakRenderLoop = true;\n\t} else {\n\t\tthreeRenderer.setAnimationLoop(null);\n\t\t(() => {\n\t\t\tif (breakRenderLoop) {\n\t\t\t\tbreakRenderLoop = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.setTimeout(loop, 1000 / frameRate);\n\t\t\trenderLoop();\n\t\t})();\n\t}\n}\n\nlet canvas;\n\nexport async function init(options) {\n\tif (!options) options = {};\n\tif (options.fitScreen) {\n\t\tresize(window.innerWidth, window.innerHeight);\n\t\twindow.addEventListener('resize', () => {\n\t\t\tresize(window.innerWidth, window.innerHeight);\n\t\t});\n\t} else if (options.width && options.height) resize(options.width, options.height);\n\tconst canvaspresented = options.canvas;\n\tcanvas = canvaspresented ? options.canvas : document.createElement(\"canvas\");\n\tthreeRenderer = new WebGLRenderer({canvas: canvas, antialias: true});\n\tthreeRenderer.setSize(vw, vh);\n\tthreeRenderer.setPixelRatio(window.devicePixelRatio);\n\tthreeRenderer.setClearColor(new Color(0xffffff), 1.0);\n\tawait loadResources(EffectComposer);\n\tthreeComposer = new EffectComposer(threeRenderer);\n\tif (currentScene) threeComposer.passes = currentScene.threePasses;\n\n\twindow.addEventListener('unload', () => threeRenderer.forceContextLoss());\n\n\tinitPointerEvents(canvas);\n\tinitKeyEvents();\n\n\tif (!canvaspresented) return canvas;\n}\n\nexport function run() {\n\t['pointstart', 'pointmove', 'pointend'].forEach(name => {\n\t\tcanvas.addEventListener(name, e => currentScene.dispatchEvent(Object.assign({type: e.type}, e)));\n\t});\n\n\t['touchend', 'click'].forEach(name => {\n\t\tcanvas.addEventListener(name, e => {\n\t\t\tcurrentScene.dispatchEvent(Object.assign({type: e.type}, processEvent('click', e)));\n\t\t});\n\t});\n\n\tlet previous = performance.now();\n\t(function loop() {\n\t\twindow.setTimeout(loop, 1000 / loopRate);\n\t\tconst current = performance.now();\n\t\tif (currentScene.update) currentScene.update(current - previous);\n\t\tObject.keys(keyDown).forEach(key => keyDown[key] = false);\n\t\tprevious = current;\n\t\tupdated = true;\n\t})();\n\n\trunning = true;\n\tsetFrameRate(frameRate); // Run the Render Loop\n}\n","import Pass from \"./Pass\"\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nexport default function RenderPass(scene, camera, options) {\n\tPass.call(this);\n\toptions = options || {};\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.overrideMaterial = options.overrideMaterial;\n\n\tthis.clearColor = options.clearColor;\n\tthis.clearAlpha = (options.clearAlpha !== undefined) ? options.clearAlpha : 1;\n\n\tthis.clear = options.clear !== undefined ? options.clear : true;\n\tthis.clearDepth = false;\n\t//this.needsSwap = false;\n\n\tthis.renderToScreen = options.renderToScreen !== undefined ? options.renderToScreen : false;\n};\n\nRenderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n\tconstructor: RenderPass,\n\n\trender: function (renderer, writeBuffer, readBuffer, delta, maskActive) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\tlet oldClearColor, oldClearAlpha;\n\n\t\tif (this.clearColor) {\n\t\t\toldClearColor = renderer.getClearColor().getHex();\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor(this.clearColor, this.clearAlpha);\n\t\t}\n\n\t\tif (this.clearDepth) {\n\t\t\trenderer.clearDepth();\n\t\t}\n\n\t\trenderer.render(this.scene, this.camera, this.renderToScreen ? null : writeBuffer, this.clear);\n\n\t\tif (this.clearColor) {\n\t\t\trenderer.setClearColor(oldClearColor, oldClearAlpha);\n\t\t}\n\n\t\tthis.scene.overrideMaterial = null;\n\t\trenderer.autoClear = oldAutoClear;\n\t}\n});\n","\n/*\n *\n *\tEasing changes properties of the object passed as target smoothly.\n *\n */\nexport default class Easing {\n\tconstructor(target) {\n\t\tif (!target) throw new Error(\"target is not specified\");\n\t\tthis.target = target;\n\t\tthis.queue = [];\n\t}\n\n\t/*\n\t *\n\t *\tadd easing order.\n\t *\n\t */\n\tadd(changes, time, func) {\n\t\tthis.queue.push({changes, time, func, currentTime: 0});\n\t\treturn this;\n\t}\n\n\t/*\n\t *\n\t *\tadd waiting order.\n\t *\n\t */\n\twait(time) {\n\t\tthis.queue.push({time, currentTime: 0});\n\t\treturn this;\n\t}\n\n\t/*\n\t *\n\t *\tthe function passed will be invoked when the latest easing ends.\n\t *\n\t */\n\ttrigger(func) {\n\t\tthis.queue.push(func);\n\t\treturn this;\n\t}\n\n\t/*\n\t *\n\t *\tupdate the properties accordingly.\n\t *\n\t */\n\tupdate(delta) {\n\t\tconst order = this.queue[0];\n\t\tif (order === undefined) return;\n\t\tif (typeof order === \"function\") {\n\t\t\torder.call(this.target);\n\t\t\tthis.queue.shift();\n\t\t\tthis.update(delta);\n\t\t} else {\n\t\t\tconst timeleft = order.time - order.currentTime;\n\t\t\torder.currentTime += Math.min(delta, timeleft);\n\t\t\tif (order.changes) {\n\t\t\t\tif (order.initialValue === undefined) {\n\t\t\t\t\torder.initialValue = {};\n\t\t\t\t\tObject.keys(order.changes).forEach(key => {\n\t\t\t\t\t\torder.initialValue[key] = this.target[key];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst place = order.func(order.currentTime / order.time);\n\t\t\t\tObject.keys(order.changes).forEach(key => {\n\t\t\t\t\tthis.target[key] = order.initialValue[key] * (1 - place) + order.changes[key] * place;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (timeleft <= delta) {\n\t\t\t\tthis.queue.shift();\n\t\t\t\tthis.update(delta - timeleft);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t *\n\t *\tlet a scene prepare to manage multiple easings.\n\t *\n\t */\n\tstatic initIn(scene) {\n\t\tscene._easings = new Set();\n\t\tscene.addEasing = function(easing) {\n\t\t\teasing.trigger(() => this._easings.delete(easing));\n\t\t\tthis._easings.add(easing);\n\t\t}\n\t\tscene.updateEasings = function(delta) {\n\t\t\tthis._easings.forEach(easing => easing.update(delta));\n\t\t}\n\t}\n\n\t// Easing functions\n\n\tstatic LINEAR(t) {\n\t\treturn t;\n\t}\n\n\tstatic in(d) {\n\t\treturn t => Math.pow(t, d);\n\t}\n\n\tstatic out(d) {\n\t\treturn t => 1 - Math.pow(1 - t, d);\n\t}\n\n\tstatic inOut(d) {\n\t\treturn t => t < 0.5 ? Math.pow(t * 2, d) / 2 : 1 - Math.pow(2 - t * 2, d) / 2;\n\t}\n}\n",";(function() {\n\n\"use strict\";\n\nvar root = this\n\nvar has_require = typeof require !== 'undefined'\n\nvar THREE = root.THREE || has_require && require('three')\nif( !THREE )\n\tthrow new Error( 'MeshLine requires three.js' )\n\nfunction MeshLine() {\n\n\tthis.positions = [];\n\n\tthis.previous = [];\n\tthis.next = [];\n\tthis.side = [];\n\tthis.width = [];\n\tthis.indices_array = [];\n\tthis.uvs = [];\n\tthis.counters = [];\n\tthis.geometry = new THREE.BufferGeometry();\n\n\tthis.widthCallback = null;\n\n}\n\nMeshLine.prototype.setGeometry = function( g, c ) {\n\n\tthis.widthCallback = c;\n\n\tthis.positions = [];\n\tthis.counters = [];\n\n\tif( g instanceof THREE.Geometry ) {\n\t\tfor( var j = 0; j < g.vertices.length; j++ ) {\n\t\t\tvar v = g.vertices[ j ];\n\t\t\tvar c = j/g.vertices.length;\n\t\t\tthis.positions.push( v.x, v.y, v.z );\n\t\t\tthis.positions.push( v.x, v.y, v.z );\n\t\t\tthis.counters.push(c);\n\t\t\tthis.counters.push(c);\n\t\t}\n\t}\n\n\tif( g instanceof THREE.BufferGeometry ) {\n\t\t// read attribute positions ?\n\t}\n\n\tif( g instanceof Float32Array || g instanceof Array ) {\n\t\tfor( var j = 0; j < g.length; j += 3 ) {\n\t\t\tvar c = j/g.length;\n\t\t\tthis.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n\t\t\tthis.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n\t\t\tthis.counters.push(c);\n\t\t\tthis.counters.push(c);\n\t\t}\n\t}\n\n\tthis.process();\n\n}\n\nMeshLine.prototype.compareV3 = function( a, b ) {\n\n\tvar aa = a * 6;\n\tvar ab = b * 6;\n\treturn ( this.positions[ aa ] === this.positions[ ab ] ) && ( this.positions[ aa + 1 ] === this.positions[ ab + 1 ] ) && ( this.positions[ aa + 2 ] === this.positions[ ab + 2 ] );\n\n}\n\nMeshLine.prototype.copyV3 = function( a ) {\n\n\tvar aa = a * 6;\n\treturn [ this.positions[ aa ], this.positions[ aa + 1 ], this.positions[ aa + 2 ] ];\n\n}\n\nMeshLine.prototype.process = function() {\n\n\tvar l = this.positions.length / 6;\n\n\tthis.previous = [];\n\tthis.next = [];\n\tthis.side = [];\n\tthis.width = [];\n\tthis.indices_array = [];\n\tthis.uvs = [];\n\n\tfor( var j = 0; j < l; j++ ) {\n\t\tthis.side.push( 1 );\n\t\tthis.side.push( -1 );\n\t}\n\n\tvar w;\n\tfor( var j = 0; j < l; j++ ) {\n\t\tif( this.widthCallback ) w = this.widthCallback( j / ( l -1 ) );\n\t\telse w = 1;\n\t\tthis.width.push( w );\n\t\tthis.width.push( w );\n\t}\n\n\tfor( var j = 0; j < l; j++ ) {\n\t\tthis.uvs.push( j / ( l - 1 ), 0 );\n\t\tthis.uvs.push( j / ( l - 1 ), 1 );\n\t}\n\n\tvar v;\n\n\tif( this.compareV3( 0, l - 1 ) ){\n\t\tv = this.copyV3( l - 2 );\n\t} else {\n\t\tv = this.copyV3( 0 );\n\t}\n\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tfor( var j = 0; j < l - 1; j++ ) {\n\t\tv = this.copyV3( j );\n\t\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t}\n\n\tfor( var j = 1; j < l; j++ ) {\n\t\tv = this.copyV3( j );\n\t\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t}\n\n\tif( this.compareV3( l - 1, 0 ) ){\n\t\tv = this.copyV3( 1 );\n\t} else {\n\t\tv = this.copyV3( l - 1 );\n\t}\n\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\n\tfor( var j = 0; j < l - 1; j++ ) {\n\t\tvar n = j * 2;\n\t\tthis.indices_array.push( n, n + 1, n + 2 );\n\t\tthis.indices_array.push( n + 2, n + 1, n + 3 );\n\t}\n\n\tif (!this.attributes) {\n\t\tthis.attributes = {\n\t\t\tposition: new THREE.BufferAttribute( new Float32Array( this.positions ), 3 ),\n\t\t\tprevious: new THREE.BufferAttribute( new Float32Array( this.previous ), 3 ),\n\t\t\tnext: new THREE.BufferAttribute( new Float32Array( this.next ), 3 ),\n\t\t\tside: new THREE.BufferAttribute( new Float32Array( this.side ), 1 ),\n\t\t\twidth: new THREE.BufferAttribute( new Float32Array( this.width ), 1 ),\n\t\t\tuv: new THREE.BufferAttribute( new Float32Array( this.uvs ), 2 ),\n\t\t\tindex: new THREE.BufferAttribute( new Uint16Array( this.indices_array ), 1 ),\n\t\t\tcounters: new THREE.BufferAttribute( new Float32Array( this.counters ), 1 )\n\t\t}\n\t} else {\n\t\tthis.attributes.position.copyArray(new Float32Array(this.positions));\n\t\tthis.attributes.position.needsUpdate = true;\n\t\tthis.attributes.previous.copyArray(new Float32Array(this.previous));\n\t\tthis.attributes.previous.needsUpdate = true;\n\t\tthis.attributes.next.copyArray(new Float32Array(this.next));\n\t\tthis.attributes.next.needsUpdate = true;\n\t\tthis.attributes.side.copyArray(new Float32Array(this.side));\n\t\tthis.attributes.side.needsUpdate = true;\n\t\tthis.attributes.width.copyArray(new Float32Array(this.width));\n\t\tthis.attributes.width.needsUpdate = true;\n\t\tthis.attributes.uv.copyArray(new Float32Array(this.uvs));\n\t\tthis.attributes.uv.needsUpdate = true;\n\t\tthis.attributes.index.copyArray(new Uint16Array(this.indices_array));\n\t\tthis.attributes.index.needsUpdate = true;\n    }\n\n\tthis.geometry.addAttribute( 'position', this.attributes.position );\n\tthis.geometry.addAttribute( 'previous', this.attributes.previous );\n\tthis.geometry.addAttribute( 'next', this.attributes.next );\n\tthis.geometry.addAttribute( 'side', this.attributes.side );\n\tthis.geometry.addAttribute( 'width', this.attributes.width );\n\tthis.geometry.addAttribute( 'uv', this.attributes.uv );\n\tthis.geometry.addAttribute( 'counters', this.attributes.counters );\n\n\tthis.geometry.setIndex( this.attributes.index );\n\n}\n\nfunction memcpy (src, srcOffset, dst, dstOffset, length) {\n\tvar i\n\n\tsrc = src.subarray || src.slice ? src : src.buffer\n\tdst = dst.subarray || dst.slice ? dst : dst.buffer\n\n\tsrc = srcOffset ? src.subarray ?\n\tsrc.subarray(srcOffset, length && srcOffset + length) :\n\tsrc.slice(srcOffset, length && srcOffset + length) : src\n\n\tif (dst.set) {\n\t\tdst.set(src, dstOffset)\n\t} else {\n\t\tfor (i=0; i<src.length; i++) {\n\t\t\tdst[i + dstOffset] = src[i]\n\t\t}\n\t}\n\n\treturn dst\n}\n\n/**\n * Fast method to advance the line by one position.  The oldest position is removed.\n * @param position\n */\nMeshLine.prototype.advance = function(position) {\n\n\tvar positions = this.attributes.position.array;\n\tvar previous = this.attributes.previous.array;\n\tvar next = this.attributes.next.array;\n\tvar l = positions.length;\n\n\t// PREVIOUS\n\tmemcpy( positions, 0, previous, 0, l );\n\n\t// POSITIONS\n\tmemcpy( positions, 6, positions, 0, l - 6 );\n\n\tpositions[l - 6] = position.x;\n\tpositions[l - 5] = position.y;\n\tpositions[l - 4] = position.z;\n\tpositions[l - 3] = position.x;\n\tpositions[l - 2] = position.y;\n\tpositions[l - 1] = position.z;\n\n    // NEXT\n\tmemcpy( positions, 6, next, 0, l - 6 );\n\n\tnext[l - 6]  = position.x;\n\tnext[l - 5]  = position.y;\n\tnext[l - 4]  = position.z;\n\tnext[l - 3]  = position.x;\n\tnext[l - 2]  = position.y;\n\tnext[l - 1]  = position.z;\n\n\tthis.attributes.position.needsUpdate = true;\n\tthis.attributes.previous.needsUpdate = true;\n\tthis.attributes.next.needsUpdate = true;\n\n};\n\nfunction MeshLineMaterial( parameters ) {\n\n\tvar vertexShaderSource = [\n'precision highp float;',\n'',\n'attribute vec3 position;',\n'attribute vec3 previous;',\n'attribute vec3 next;',\n'attribute float side;',\n'attribute float width;',\n'attribute vec2 uv;',\n'attribute float counters;',\n'',\n'uniform mat4 projectionMatrix;',\n'uniform mat4 modelViewMatrix;',\n'uniform vec2 resolution;',\n'uniform float lineWidth;',\n'uniform vec3 color;',\n'uniform float opacity;',\n'uniform float near;',\n'uniform float far;',\n'uniform float sizeAttenuation;',\n'',\n'varying vec2 vUV;',\n'varying vec4 vColor;',\n'varying float vCounters;',\n'',\n'vec2 fix( vec4 i, float aspect ) {',\n'',\n'    vec2 res = i.xy / i.w;',\n'    res.x *= aspect;',\n'\t vCounters = counters;',\n'    return res;',\n'',\n'}',\n'',\n'void main() {',\n'',\n'    float aspect = resolution.x / resolution.y;',\n'',\n'    vColor = vec4( color, opacity );',\n'    vUV = uv;',\n'',\n'    mat4 m = projectionMatrix * modelViewMatrix;',\n'    vec4 finalPosition = m * vec4( position, 1.0 );',\n'    vec4 prevPos = m * vec4( previous, 1.0 );',\n'    vec4 nextPos = m * vec4( next, 1.0 );',\n'',\n'    vec2 currentP = fix( finalPosition, aspect );',\n'    vec2 prevP = fix( prevPos, aspect );',\n'    vec2 nextP = fix( nextPos, aspect );',\n'',\n'    float w = lineWidth * width;',\n'',\n'    vec2 dir;',\n'    if( nextP == currentP ) dir = normalize( currentP - prevP );',\n'    else if( prevP == currentP ) dir = normalize( nextP - currentP );',\n'    else {',\n'        vec2 dir1 = normalize( currentP - prevP );',\n'        vec2 dir2 = normalize( nextP - currentP );',\n'        dir = normalize( dir1 + dir2 );',\n'',\n'        vec2 perp = vec2( -dir1.y, dir1.x );',\n'        vec2 miter = vec2( -dir.y, dir.x );',\n'        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );',\n'',\n'    }',\n'',\n'    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;',\n'    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );',\n'    normal.xy *= .5 * w;',\n'    normal *= projectionMatrix;',\n'    if( sizeAttenuation == 0. ) {',\n'        normal.xy *= finalPosition.w;',\n'        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;',\n'    }',\n'',\n'    vec4 offset = vec4( normal.xy * side, 0.0, 1.0 );',\n'    finalPosition.xy += offset.xy;',\n'',\n'    gl_Position = finalPosition;',\n'',\n'}' ];\n\n\tvar fragmentShaderSource = [\n\t\t'#extension GL_OES_standard_derivatives : enable',\n'precision mediump float;',\n'',\n'uniform sampler2D map;',\n'uniform sampler2D alphaMap;',\n'uniform float useMap;',\n'uniform float useAlphaMap;',\n'uniform float useDash;',\n'uniform float dashArray;',\n'uniform float dashOffset;',\n'uniform float dashRatio;',\n'uniform float visibility;',\n'uniform float alphaTest;',\n'uniform vec2 repeat;',\n'',\n'varying vec2 vUV;',\n'varying vec4 vColor;',\n'varying float vCounters;',\n'',\n'void main() {',\n'',\n'    vec4 c = vColor;',\n'    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );',\n'    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;',\n'    if( c.a < alphaTest ) discard;',\n'    if( useDash == 1. ){',\n'        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));',\n'    }',\n'    gl_FragColor = c;',\n'    gl_FragColor.a *= step(vCounters, visibility);',\n'}' ];\n\n\tfunction check( v, d ) {\n\t\tif( v === undefined ) return d;\n\t\treturn v;\n\t}\n\n\tTHREE.Material.call( this );\n\n\tparameters = parameters || {};\n\n\tthis.lineWidth = check( parameters.lineWidth, 1 );\n\tthis.map = check( parameters.map, null );\n\tthis.useMap = check( parameters.useMap, 0 );\n\tthis.alphaMap = check( parameters.alphaMap, null );\n\tthis.useAlphaMap = check( parameters.useAlphaMap, 0 );\n\tthis.color = check( parameters.color, new THREE.Color( 0xffffff ) );\n\tthis.opacity = check( parameters.opacity, 1 );\n\tthis.resolution = check( parameters.resolution, new THREE.Vector2( 1, 1 ) );\n\tthis.sizeAttenuation = check( parameters.sizeAttenuation, 1 );\n\tthis.near = check( parameters.near, 1 );\n\tthis.far = check( parameters.far, 1 );\n\tthis.dashArray = check( parameters.dashArray, 0 );\n\tthis.dashOffset = check( parameters.dashOffset, 0 );\n\tthis.dashRatio = check( parameters.dashRatio, 0.5 );\n\tthis.useDash = ( this.dashArray !== 0 ) ? 1 : 0;\n\tthis.visibility = check( parameters.visibility, 1 );\n\tthis.alphaTest = check( parameters.alphaTest, 0 );\n\tthis.repeat = check( parameters.repeat, new THREE.Vector2( 1, 1 ) );\n\n\tvar material = new THREE.RawShaderMaterial( {\n\t\tuniforms:{\n\t\t\tlineWidth: { type: 'f', value: this.lineWidth },\n\t\t\tmap: { type: 't', value: this.map },\n\t\t\tuseMap: { type: 'f', value: this.useMap },\n\t\t\talphaMap: { type: 't', value: this.alphaMap },\n\t\t\tuseAlphaMap: { type: 'f', value: this.useAlphaMap },\n\t\t\tcolor: { type: 'c', value: this.color },\n\t\t\topacity: { type: 'f', value: this.opacity },\n\t\t\tresolution: { type: 'v2', value: this.resolution },\n\t\t\tsizeAttenuation: { type: 'f', value: this.sizeAttenuation },\n\t\t\tnear: { type: 'f', value: this.near },\n\t\t\tfar: { type: 'f', value: this.far },\n\t\t\tdashArray: { type: 'f', value: this.dashArray },\n\t\t\tdashOffset: { type: 'f', value: this.dashOffset },\n\t\t\tdashRatio: { type: 'f', value: this.dashRatio },\n\t\t\tuseDash: { type: 'f', value: this.useDash },\n\t\t\tvisibility: {type: 'f', value: this.visibility},\n\t\t\talphaTest: {type: 'f', value: this.alphaTest},\n\t\t\trepeat: { type: 'v2', value: this.repeat }\n\t\t},\n\t\tvertexShader: vertexShaderSource.join( '\\r\\n' ),\n\t\tfragmentShader: fragmentShaderSource.join( '\\r\\n' )\n\t});\n\n\tdelete parameters.lineWidth;\n\tdelete parameters.map;\n\tdelete parameters.useMap;\n\tdelete parameters.alphaMap;\n\tdelete parameters.useAlphaMap;\n\tdelete parameters.color;\n\tdelete parameters.opacity;\n\tdelete parameters.resolution;\n\tdelete parameters.sizeAttenuation;\n\tdelete parameters.near;\n\tdelete parameters.far;\n\tdelete parameters.dashArray;\n\tdelete parameters.dashOffset;\n\tdelete parameters.dashRatio;\n\tdelete parameters.visibility;\n\tdelete parameters.alphaTest;\n\tdelete parameters.repeat;\n\n\tmaterial.type = 'MeshLineMaterial';\n\n\tmaterial.setValues( parameters );\n\n\treturn material;\n\n};\n\nMeshLineMaterial.prototype = Object.create( THREE.Material.prototype );\nMeshLineMaterial.prototype.constructor = MeshLineMaterial;\n\nMeshLineMaterial.prototype.copy = function ( source ) {\n\n\tTHREE.Material.prototype.copy.call( this, source );\n\n\tthis.lineWidth = source.lineWidth;\n\tthis.map = source.map;\n\tthis.useMap = source.useMap;\n\tthis.alphaMap = source.alphaMap;\n\tthis.useAlphaMap = source.useAlphaMap;\n\tthis.color.copy( source.color );\n\tthis.opacity = source.opacity;\n\tthis.resolution.copy( source.resolution );\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\tthis.near = source.near;\n\tthis.far = source.far;\n\tthis.dashArray.copy( source.dashArray );\n\tthis.dashOffset.copy( source.dashOffset );\n\tthis.dashRatio.copy( source.dashRatio );\n\tthis.useDash = source.useDash;\n\tthis.visibility = source.visibility;\n\tthis.alphaTest = source.alphaTest;\n\tthis.repeat.copy( source.repeat );\n\n\treturn this;\n\n};\n\nif( typeof exports !== 'undefined' ) {\n\tif( typeof module !== 'undefined' && module.exports ) {\n\t\texports = module.exports = { MeshLine: MeshLine, MeshLineMaterial: MeshLineMaterial };\n\t}\n\texports.MeshLine = MeshLine;\n\texports.MeshLineMaterial = MeshLineMaterial;\n}\nelse {\n\troot.MeshLine = MeshLine;\n\troot.MeshLineMaterial = MeshLineMaterial;\n}\n\n}).call(this);\n","export function opt(base, key) {\n\tif (base[key] === undefined) return function() {};\n\tif (base[key] instanceof Function) return base[key].bind(base);\n\treturn base[key];\n}\n\nexport function define(base, key, value) {\n\tObject.defineProperty(base, key, {\n\t\tvalue: value,\n\t\tenumerable: true,\n\t\tconfigurable: true,\n\t\twritable: true\n\t});\n}\n\nexport function defineAccessor(base, key, descriptor) {\n\tObject.defineProperty(base, key, Object.assign(descriptor, {\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t}));\n}\n\nexport function connect(base, key, targetbase, targetkey) {\n\tif (targetkey === undefined) targetkey = key;\n\tdefineAccessor(base, key, {\n\t\tget: () => targetbase[targetkey],\n\t\tset: v => targetbase[targetkey] = v\n\t});\n}\n\nexport function connectMulti(base, key, targetbase, targetkey) {\n\tif (targetkey === undefined) targetkey = [key];\n\tdefineAccessor(base, key, {\n\t\tget: () => targetbase[0][targetkey[0] || key],\n\t\tset: v => {\n\t\t\tfor (let i = 0; i < targetbase.length; i++) targetbase[i][targetkey[i] || ley] = v;\n\t\t}\n\t});\n}\n\nconst pools = {};\n\nexport function get(type) {\n\tif (pools[type] !== undefined) {\n\t\tif (pools[type].length !== 0) return pools[type].pop();\n\t} else pools[type] = [];\n\treturn new type();\n}\n\nexport function free() {\n\tfor (let i = 0; i < arguments.length; i++) pools[arguments[i].constructor].push(arguments[i]);\n}\n\nexport function normalizeAngle(t) {\n\tt %= Math.PI * 2;\n\tif (t > Math.PI) t -= Math.PI * 2;\n\tif (t < -Math.PI) t += Math.PI * 2;\n\treturn t;\n}\n","import {Mesh, Object3D, Quaternion, MultiMaterial, Vector2, Vector3, Color} from \"three\";\nimport {MeshLine, MeshLineMaterial} from \"three.meshline\";\n\nimport {vw, vh, resized} from \"./main\";\nimport {get, free, defineAccessor} from \"./utils\";\n\n//3軸\nexport const Axis = {x: new Vector3(1, 0, 0), y: new Vector3(0, 1, 0), z: new Vector3(0, 0, 1)};\n\nexport function rotate(o, a, r) {\n\tconst tempquaternion = get(Quaternion);\n\to.multiply(tempquaternion.setFromAxisAngle(a, r));\n\tfree(tempquaternion);\n\treturn o;\n}\n\nexport function rotateAbs(o, a, r) {\n\tconst tempquaternion = get(Quaternion);\n\to.premultiply(tempquaternion.setFromAxisAngle(a, r));\n\tfree(tempquaternion);\n\treturn o;\n}\n\nexport function rotateX(o, r) {\n\treturn rotate(o, Axis.x, r);\n}\n\nexport function rotateY(o, r) {\n\treturn rotate(o, Axis.y, r);\n}\n\nexport function rotateZ(o, r) {\n\treturn rotate(o, Axis.z, r);\n}\n\nexport function rotateAbsX(o, r) {\n\treturn rotateAbs(o, Axis.x, r);\n}\n\nexport function rotateAbsY(o, r) {\n\treturn rotateAbs(o, Axis.y, r);\n}\n\nexport function rotateAbsZ(o, r) {\n\treturn rotateAbs(o, Axis.z, r);\n}\n\nexport function deepclone(object, clonegeometry, clonematerial) {\n\treturn new object.constructor(clonegeometry ? object.geometry.clone() : object.geometry, clonematerial ? object.material.clone(true) : object.material).copy(object);\n}\n\nexport function applyToAllMaterials(m, f) {\n\tif (Array.isArray(m)) m.forEach(f);\n\telse f(m);\n}\n\nconst children = [];\nexport function modifySafeTraverse(t, f, d) {\n\tif (!d) d = 0;\n\tf(t);\n\tif (children[d]) children[d].length = 0;\n\telse children.push([]);\n\n\t// May not work for element with tens of thousands of childrens\n\tArray.prototype.push.apply(children[d], t.children);\n\n\tfor (let i = 0, l = children[d].length; i < l; i++) modifySafeTraverse(children[d][i], f, d + 1);\n}\n\nexport function connectColor(base, key, targetbase, targetkey, target) {\n\tif (targetkey === undefined) targetkey = key;\n\tdefineAccessor(base, key, {\n\t\tget: () => targetbase[targetkey],\n\t\tset: v => {\n\t\t\ttarget.visible = Boolean(v);\n\t\t\tif (v) targetbase[targetkey].set(v);\n\t\t}\n\t});\n}\n\nexport function connectColorMulti(base, key, targetbase, targetkey, target) {\n\tif (targetkey === undefined) targetkey = [key];\n\tdefineAccessor(base, key, {\n\t\tget: () => targetbase[0][targetkey[0] || key],\n\t\tset: v => {\n\t\t\ttarget.visible = v;\n\t\t\tif (v) for (let i = 0; i < targetbase.length; i++) targetbase[i][targetkey[i] || key].set(v);\n\t\t}\n\t});\n}\n\nexport function setMeshLineGeometry(mesh, geometry, flat) {\n\tif (geometry[0].isVector2) {\n\t\tconst newarray = [];\n\t\tfor (let i = 0; i < geometry.length; i++) {\n\t\t\tnewarray.push(geometry[i].x);\n\t\t\tnewarray.push(geometry[i].y);\n\t\t\tnewarray.push(0);\n\t\t}\n\t\tgeometry = newarray;\n\t} else if (geometry[0].isVector3) {\n\t\tconst newarray = [];\n\t\tfor (let i = 0; i < geometry.length; i++) {\n\t\t\tnewarray.push(geometry[i].x);\n\t\t\tnewarray.push(geometry[i].y);\n\t\t\tnewarray.push(geometry[i].z);\n\t\t}\n\t\tgeometry = newarray;\n\t} else if (flat) {\n\t\tconst newarray = [];\n\t\tfor (let i = 0; i < geometry.length; i += 2) {\n\t\t\tnewarray.push(geometry[i]);\n\t\t\tnewarray.push(geometry[i + 1]);\n\t\t\tnewarray.push(0);\n\t\t}\n\t\tgeometry = newarray;\n\t}\n\tmesh.geometryGenerator.setGeometry(geometry);\n}\n\nexport function createMeshLine(geometry, material, flat) {\n\tif (!(material.color instanceof Color)) material.color = new Color(material.color);\n\tconst geometryGenerator = new MeshLine();\n\tconst mesh = new Mesh(\n\t\tgeometryGenerator.geometry,\n\t\tnew MeshLineMaterial(Object.assign({resolution: new Vector2(vw, vh), sizeAttenuation: 0}, material))\n\t);\n\tmesh.geometryGenerator = geometryGenerator;\n\tsetMeshLineGeometry(mesh, geometry, flat);\n\tmesh.addEventListener(\"render\", () => {\n\t\tif (resized) mesh.material.uniforms.resolution.value.set(vw, vh); // the uniform variable resolution must be kept up to date\n\t});\n\treturn mesh;\n}\n\nexport function toString(o) {\n\tif (o instanceof Vector3) return `{x: ${o.x.toFixed(2)}, y: ${o.y.toFixed(2)}, z: ${o.z.toFixed(2)}}`;\n\tif (o instanceof Vector2) return `{x: ${o.x.toFixed(2)}, y: ${o.y.toFixed(2)}}`;\n\tif (o instanceof Quaternion) return `{x: ${o.x.toFixed(2)}, y: ${o.y.toFixed(2)}, z: ${o.z.toFixed(2)}, w: ${o.w.toFixed(2)}}`;\n\tif (o instanceof Matrix4) {\n\t\tlet str = \"\";\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tstr += \"| \";\n\t\t\tfor (let j = 0; j < 4; j++) str += o.elements[i + j * 4] + \" \";\n\t\t\tstr += \"|\\n\";\n\t\t}\n\t\treturn str;\n\t}\n}\n\nexport default function extend() {\n\t/*THREE.$extend = function(a, o) {\n\t\tvar arg = Array.prototype.slice.call(arguments);\n\t\targ.shift();\n\t\tArray.prototype.forEach.call(arg, function(source) {\n\t\t\tfor (var property in source) {\n\t\t\t\tif (a[property] && o[property] && o[property].className && o[property].className.substr(0, 6) === 'THREE.') {\n\t\t\t\t\ta[property].copy(o[property]);\n\t\t\t\t} else {\n\t\t\t\t\ta[property] = o[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\t\treturn a;\n\t};\n\tTHREE.$add = function(a, o) {\n\t\tvar arg = Array.prototype.slice.call(arguments);\n\t\targ.shift();\n\t\tArray.prototype.forEach.call(arg, function(source) {\n\t\t\tfor (var property in source) {\n\t\t\t\tif (o[property]) {\n\t\t\t\t} else {\n\t\t\t\t\tif (a[property] && o[property] && o[property].className && o[property].className.substr(0, 6) === 'THREE.') {\n\t\t\t\t\t\ta[property].add(o[property]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta[property] += o[property];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\t\treturn a;\n\t};\n\tTHREE.applyToAllMaterial = */\n\tObject.defineProperty(MultiMaterial.prototype, 'opacity', {\n\t\tset(p) {\n\t\t\tfor (var i = 0; i < this.materials.length; i++) {\n\t\t\t\tthis.materials[i].opacity = p;\n\t\t\t}\n\t\t},\n\t\tget() {return this.materials[0].opacity;}\n  });\n};\n","import {EventDispatcher, Scene as THREEScene, PerspectiveCamera, OrthographicCamera, Vector3} from \"three\";\n\nimport RenderPass from \"./three-effect/RenderPass\";\n\nimport {setCurrentScene, vw, vh, resized} from \"./main\";\nimport Easing from \"./easing\";\nimport {modifySafeTraverse} from \"./threeutil\";\n\nconst pos = new Vector3();\n\nconst updateEvent = {type: \"update\"};\nconst renderEvent = {type: \"render\"};\n\nexport default class Scene extends EventDispatcher {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.threeScene = new THREEScene();\n\t\tthis.threeScene._meta = this;\n\t\tthis.camera = new PerspectiveCamera(45, vw / vh, 1, 10000);\n\t\tthis.UIScene = new THREEScene();\n\t\tthis.UIScene._meta = this;\n\t\tthis.UICamera = new OrthographicCamera(-vw / 2, vw / 2, vh / 2, -vh / 2, 1, 10000);\n\t\tthis.threeScene.add(this.camera);\n\t\tthis.UICamera.position.z = 5;\n\t\tthis.UIScene.add(this.UICamera);\n\t\tthis.threePasses = [\n\t\t\tnew RenderPass(this.threeScene, this.camera, {}),\n\t\t\tnew RenderPass(this.UIScene, this.UICamera, {})\n\t\t];\n\n\t\tEasing.initIn(this);\n\n\t\tconst updateInteractivity = target => target._interactive = target.interactive;\n\n\t\tfunction hitTest(scene, camera) {\n\t\t\treturn e => {\n\t\t\t\tscene.traverse(children => {\n\t\t\t\t\tif (children.visible === false || children._interactive === false || !children.hitTest) return;\n\t\t\t\t\tpos.copy(children.position).project(camera);\n\t\t\t\t\tif (children.hitTest(e.x - (pos.x + 1) * vw / 2, e.y - (1 - pos.y) * vh / 2)) {\n\t\t\t\t\t\tchildren.dispatchEvent(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tconst hitTestThreeScene = hitTest(this.threeScene, this.camera);\n\t\tconst hitTestUIScene = hitTest(this.UIScene, this.UICamera);\n\n\t\t['pointstart', 'pointmove', 'pointend', 'click'].forEach(name => {\n\t\t\tthis.addEventListener(name, e => {\n\t\t\t\t/*\n\t\t\t\t * Don't change actual interactivity of objects anywhere else, so that changeing their\n\t\t\t\t * interactivity inside a event listener don't affect targets the event triggers on.\n\t\t\t   */\n\t\t\t\tthis.threeScene.traverse(updateInteractivity);\n\t\t\t\tthis.UIScene.traverse(updateInteractivity);\n\n\t\t\t\thitTestThreeScene(e);\n\t\t\t\thitTestUIScene(e);\n\t\t\t});\n\t\t});\n\t}\n\n\tupdate(deltaTime) {\n\t\tupdateEvent.deltaTime = deltaTime;\n\t\tfunction updateChild(children) {\n\t\t\tchildren.dispatchEvent(updateEvent);\n\t\t\tif (children.update) children.update(deltaTime);\n\t\t}\n\t\tthis.updateEasings(deltaTime);\n\t\tthis.dispatchEvent(updateEvent);\n\t\tmodifySafeTraverse(this.threeScene, updateChild);\n\t\tmodifySafeTraverse(this.UIScene, updateChild);\n\t}\n\n\tenterThisScene() {\n\t\tsetCurrentScene(this);\n\t}\n\n\tupdateCameras() {\n\t\tthis.camera.aspect = vw / vh;\n\t\tthis.camera.zoom = Math.sqrt(this.camera.aspect);\n\t\tthis.camera.updateProjectionMatrix();\n\t\tthis.UICamera.left = -vw / 2;\n\t\tthis.UICamera.right = vw / 2;\n\t\tthis.UICamera.top = vh / 2;\n\t\tthis.UICamera.bottom = -vh / 2;\n\t\tthis.UICamera.updateProjectionMatrix();\n\t}\n\n\tupdatePasses() {\n\t\tthis.threePasses[0].clear = true;\n\t\tthis.threePasses[this.threePasses.length - 1].clear = false;\n\t\tthis.threePasses[this.threePasses.length - 1].renderToScreen = true;\n\t\tfor (let i = this.threePasses.length - 2; i >= 1; i--) {\n\t\t\tthis.threePasses[i].renderToScreen =\n\t\t\t\t!(this.threePasses[i] instanceof RenderPass) && this.threePasses[i + 1].clear ||\n\t\t\t\tthis.threePasses[i + 1] instanceof RenderPass && this.threePasses[i + 1].renderToScreen;\n\t\t\tthis.threePasses[i].clear =\n\t\t\t\tthis.threePasses[i - 1].renderToScreen && !this.threePasses[i].renderToScreen;\n\t\t\tthis.threePasses[i].needsSwap =\n\t\t\t\t!(this.threePasses[i] instanceof RenderPass && this.threePasses[i + 1] instanceof RenderPass);\n\t\t}\n\t\tthis.threePasses[0].renderToScreen =\n\t\t\tthis.threePasses[1] instanceof RenderPass && this.threePasses[1].renderToScreen;\n\t\tthis.threePasses[0].needsSwap = !(this.threePasses[1] instanceof RenderPass);\n\t}\n\n\tprepareForRendering() {\n\t\tif (resized) this.updateCameras();\n\t\tthis.UIScene.traverse(children => {\n\t\t\tchildren.dispatchEvent(renderEvent);\n\t\t\tif (children.material && children.material.opacity !== undefined) {\n\t\t\t\tlet opacity = 1;\n\t\t\t\tfor (let obj = children; obj.parent; obj = obj.parent) opacity *= obj.opacity === undefined ? 1 : obj.opacity;\n\t\t\t\tchildren.material.opacity = (children.selfOpacity === undefined ? 1 : children.selfOpacity) * opacity;\n\t\t\t\tchildren.material.visible = children.material.opacity !== 0;\n\t\t\t\tif (children.material.opacity !== 1) children.material.transparent = true;\n\t\t\t}\n\t\t});\n\t\tthis.updatePasses();\n\t}\n\n\tstatic createAndEnter() {\n\t\tconst scene = new this(...arguments);\n\t\tscene.enterThisScene();\n\t\treturn scene;\n\t}\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar three_1 = require(\"three\");\nexports.textAlign = {\n    center: new three_1.Vector2(0, 0),\n    left: new three_1.Vector2(1, 0),\n    topLeft: new three_1.Vector2(1, -1),\n    topRight: new three_1.Vector2(-1, -1),\n    right: new three_1.Vector2(-1, 0),\n    bottomLeft: new three_1.Vector2(1, 1),\n    bottomRight: new three_1.Vector2(-1, 1),\n};\nvar fontHeightCache = {};\nfunction getFontHeight(fontStyle) {\n    var result = fontHeightCache[fontStyle];\n    if (!result) {\n        var body = document.getElementsByTagName('body')[0];\n        var dummy = document.createElement('div');\n        var dummyText = document.createTextNode('MÉq');\n        dummy.appendChild(dummyText);\n        dummy.setAttribute('style', \"font:\" + fontStyle + \";position:absolute;top:0;left:0\");\n        body.appendChild(dummy);\n        result = dummy.offsetHeight;\n        fontHeightCache[fontStyle] = result;\n        body.removeChild(dummy);\n    }\n    return result;\n}\nexports.getFontHeight = getFontHeight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar THREE = require(\"three\");\nvar utils_1 = require(\"./utils\");\nvar CanvasText = /** @class */ (function () {\n    function CanvasText() {\n        this.textWidth = null;\n        this.textHeight = null;\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n    }\n    Object.defineProperty(CanvasText.prototype, \"width\", {\n        get: function () { return this.canvas.width; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CanvasText.prototype, \"height\", {\n        get: function () { return this.canvas.height; },\n        enumerable: true,\n        configurable: true\n    });\n    CanvasText.prototype.drawText = function (text, ctxOptions) {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.ctx.font = ctxOptions.font;\n        this.textWidth = Math.ceil(this.ctx.measureText(text).width);\n        this.textHeight = utils_1.getFontHeight(this.ctx.font);\n        this.canvas.width = THREE.Math.ceilPowerOfTwo(this.textWidth);\n        this.canvas.height = THREE.Math.ceilPowerOfTwo(this.textHeight);\n        this.ctx.font = ctxOptions.font;\n        this.ctx.fillStyle = ctxOptions.fillStyle;\n        this.ctx.textAlign = 'left';\n        this.ctx.textBaseline = 'top';\n        this.ctx.shadowColor = ctxOptions.shadowColor;\n        this.ctx.shadowBlur = ctxOptions.shadowBlur;\n        this.ctx.shadowOffsetX = ctxOptions.shadowOffsetX;\n        this.ctx.shadowOffsetY = ctxOptions.shadowOffsetY;\n        this.ctx.fillText(text, 0, 0);\n        return this.canvas;\n    };\n    return CanvasText;\n}());\nexports.CanvasText = CanvasText;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar THREE = require(\"three\");\nvar utils_1 = require(\"./utils\");\nvar CanvasText_1 = require(\"./CanvasText\");\nvar Text2D = /** @class */ (function (_super) {\n    __extends(Text2D, _super);\n    function Text2D(text, options) {\n        if (text === void 0) { text = ''; }\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this._align = new THREE.Vector2();\n        _this._font = options.font || '30px Arial';\n        _this._fillStyle = options.fillStyle || '#FFFFFF';\n        _this._shadowColor = options.shadowColor || 'rgba(0, 0, 0, 0)';\n        _this._shadowBlur = options.shadowBlur || 0;\n        _this._shadowOffsetX = options.shadowOffsetX || 0;\n        _this._shadowOffsetY = options.shadowOffsetY || 0;\n        _this.canvas = new CanvasText_1.CanvasText();\n        _this.align = options.align || utils_1.textAlign.center;\n        _this.side = options.side || THREE.DoubleSide;\n        // this.anchor = Label.fontAlignAnchor[ this._textAlign ]\n        _this.antialias = (typeof options.antialias === \"undefined\") ? true : options.antialias;\n        _this.text = text;\n        return _this;\n    }\n    Object.defineProperty(Text2D.prototype, \"width\", {\n        get: function () { return this.canvas.textWidth; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text2D.prototype, \"height\", {\n        get: function () { return this.canvas.textHeight; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text2D.prototype, \"text\", {\n        get: function () { return this._text; },\n        set: function (value) {\n            if (this._text !== value) {\n                this._text = value;\n                this.updateText();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text2D.prototype, \"font\", {\n        get: function () { return this._font; },\n        set: function (value) {\n            if (this._font !== value) {\n                this._font = value;\n                this.updateText();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text2D.prototype, \"fillStyle\", {\n        get: function () {\n            return this._fillStyle;\n        },\n        set: function (value) {\n            if (this._fillStyle !== value) {\n                this._fillStyle = value;\n                this.updateText();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Text2D.prototype, \"align\", {\n        get: function () {\n            return this._align;\n        },\n        set: function (value) {\n            this._align.copy(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Text2D.prototype.cleanUp = function () {\n        if (this.texture) {\n            this.texture.dispose();\n        }\n    };\n    Text2D.prototype.applyAntiAlias = function () {\n        if (this.antialias === false) {\n            this.texture.magFilter = THREE.NearestFilter;\n            this.texture.minFilter = THREE.LinearMipMapLinearFilter;\n        }\n    };\n    return Text2D;\n}(THREE.Object3D));\nexports.Text2D = Text2D;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar THREE = require(\"three\");\nvar Text2D_1 = require(\"./Text2D\");\nvar SpriteText2D = /** @class */ (function (_super) {\n    __extends(SpriteText2D, _super);\n    function SpriteText2D() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SpriteText2D.prototype.raycast = function () {\n        return this.sprite.raycast.apply(this.sprite, arguments);\n    };\n    SpriteText2D.prototype.updateText = function () {\n        this.canvas.drawText(this._text, {\n            font: this._font,\n            fillStyle: this._fillStyle\n        });\n        // cleanup previous texture\n        this.cleanUp();\n        this.texture = new THREE.Texture(this.canvas.canvas);\n        this.texture.needsUpdate = true;\n        this.applyAntiAlias();\n        if (!this.material) {\n            this.material = new THREE.SpriteMaterial({ map: this.texture });\n        }\n        else {\n            this.material.map = this.texture;\n        }\n        if (!this.sprite) {\n            this.sprite = new THREE.Sprite(this.material);\n            this.add(this.sprite);\n        }\n        this.sprite.scale.set(this.canvas.width, this.canvas.height, 1);\n        this.updateAlign();\n    };\n    SpriteText2D.prototype.updateAlign = function () {\n        if (this.sprite) {\n            this.sprite.center.x = (1 - this._align.x) * this.canvas.textWidth / this.canvas.width;\n            this.sprite.center.y = 1 - this._align.y * this.canvas.textHeight / this.canvas.height;\n        }\n    };\n    Object.defineProperty(SpriteText2D.prototype, \"align\", {\n        set: function (value) {\n            this._align.copy(value);\n            this._align.multiplyScalar(0.5);\n            this._align.addScalar(0.5);\n            this.updateAlign();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpriteText2D;\n}(Text2D_1.Text2D));\nexports.SpriteText2D = SpriteText2D;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar THREE = require(\"three\");\nvar Text2D_1 = require(\"./Text2D\");\nvar MeshText2D = /** @class */ (function (_super) {\n    __extends(MeshText2D, _super);\n    function MeshText2D(text, options) {\n        if (text === void 0) { text = ''; }\n        if (options === void 0) { options = {}; }\n        return _super.call(this, text, options) || this;\n    }\n    MeshText2D.prototype.raycast = function () {\n        this.mesh.raycast.apply(this.mesh, arguments);\n    };\n    MeshText2D.prototype.updateText = function () {\n        this.cleanUp(); // cleanup previous texture\n        this.canvas.drawText(this._text, {\n            font: this._font,\n            fillStyle: this._fillStyle,\n            shadowBlur: this._shadowBlur,\n            shadowColor: this._shadowColor,\n            shadowOffsetX: this._shadowOffsetX,\n            shadowOffsetY: this._shadowOffsetY,\n        });\n        this.texture = new THREE.Texture(this.canvas.canvas);\n        this.texture.needsUpdate = true;\n        this.applyAntiAlias();\n        if (!this.material) {\n            this.material = new THREE.MeshBasicMaterial({ map: this.texture, side: this.side });\n            this.material.transparent = true;\n        }\n        else {\n            this.material.map = this.texture;\n        }\n        if (!this.mesh) {\n            this.geometry = new THREE.PlaneGeometry(this.canvas.width, this.canvas.height);\n            this.mesh = new THREE.Mesh(this.geometry, this.material);\n            this.add(this.mesh);\n        }\n        this.mesh.position.x = ((this.canvas.width / 2) - (this.canvas.textWidth / 2)) + ((this.canvas.textWidth / 2) * this.align.x);\n        this.mesh.position.y = (-this.canvas.height / 2) + ((this.canvas.textHeight / 2) * this.align.y);\n        // manually update geometry vertices\n        this.geometry.vertices[0].x = this.geometry.vertices[2].x = -this.canvas.width / 2;\n        this.geometry.vertices[1].x = this.geometry.vertices[3].x = this.canvas.width / 2;\n        this.geometry.vertices[0].y = this.geometry.vertices[1].y = this.canvas.height / 2;\n        this.geometry.vertices[2].y = this.geometry.vertices[3].y = -this.canvas.height / 2;\n        this.geometry.verticesNeedUpdate = true;\n    };\n    return MeshText2D;\n}(Text2D_1.Text2D));\nexports.MeshText2D = MeshText2D;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SpriteText2D_1 = require(\"./SpriteText2D\");\nexports.SpriteText2D = SpriteText2D_1.SpriteText2D;\nvar MeshText2D_1 = require(\"./MeshText2D\");\nexports.MeshText2D = MeshText2D_1.MeshText2D;\nvar utils_1 = require(\"./utils\");\nexports.textAlign = utils_1.textAlign;\n","\"use strict\";\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // commonjs\n    module.exports = factory();\n  } else {\n    // Browser globals\n    root.Mikan = factory();\n  }\n})(this, function() {\n\n  var joshi = /(でなければ|について|かしら|くらい|けれど|なのか|ばかり|ながら|ことよ|こそ|こと|さえ|しか|した|たり|だけ|だに|だの|つつ|ても|てよ|でも|とも|から|など|なり|ので|のに|ほど|まで|もの|やら|より|って|で|と|な|に|ね|の|も|は|ば|へ|や|わ|を|か|が|さ|し|ぞ|て)/g;\n  var keywords = /(\\&nbsp;|[a-zA-Z0-9]+\\.[a-z]{2,}|[一-龠々〆ヵヶゝ]+|[ぁ-んゝ]+|[ァ-ヴー]+|[a-zA-Z0-9]+|[ａ-ｚＡ-Ｚ０-９]+)/g;\n  var periods = /([\\.\\,。、！\\!？\\?]+)$/g\n  var bracketsBegin = /([〈《「『｢（(\\[【〔〚〖〘❮❬❪❨(<{❲❰｛❴])/g\n  var bracketsEnd = /([〉》」』｣)）\\]】〕〗〙〛}>\\)❩❫❭❯❱❳❵｝])/g\n\n\n\n  function SimpleAnalyze(str) {\n    var words = str.split(keywords).reduce(function(prev, word) {\n      return [].concat(prev, word.split(joshi));\n    }).reduce(function(prev, word) {\n      return [].concat(prev, word.split(bracketsBegin));\n    }).reduce(function(prev, word) {\n      return [].concat(prev, word.split(bracketsEnd));\n    }).filter(function(word) {\n      return word;\n    });\n    var result = [];\n    var prevType = '';\n    var prevWord = '';\n    words.forEach(function(word) {\n      var token = word.match(periods) || word.match(joshi)\n\n      if (word.match(bracketsBegin)) {\n        prevType = 'bracketBegin';\n        prevWord = word;\n        return\n      }\n      if (word.match(bracketsEnd)) {\n        result[result.length - 1] += word;\n        prevType = 'bracketEnd';\n        prevWord = word;\n        return\n      }\n\n      if (prevType === 'bracketBegin') {\n        word = prevWord + word\n        prevWord = ''\n        prevType = ''\n      }\n\n      // すでに文字が入っている上で助詞が続く場合は結合する\n      if (result.length > 0 && token && prevType === '') {\n        result[result.length - 1] += word;\n        prevType = 'keyword';\n        prevWord = word;\n        return\n      }\n\n      // 単語のあとの文字がひらがななら結合する\n      if (result.length > 1 && token || (prevType === 'keyword' && word.match(/[ぁ-んゝ]+/g))) {\n        result[result.length - 1] += word;\n        prevType = ''\n        prevWord = word;\n        return;\n      }\n      result.push(word);\n      prevType = 'keyword';\n      prevWord = word;\n    });\n\n    return result;\n  }\n\n  function Mikan() {\n    var text = arguments.length <= 0 || arguments[0] === undefined\n      ? ''\n      : arguments[0];\n    var userOption = arguments.length <= 1 || arguments[1] === undefined\n      ? {}\n      : arguments[1];\n\n    var defaultOption = {\n      style: 'display:inline-block',\n      role: 'presentation',\n      className: ''\n    };\n    var option = {};\n    Object.keys(defaultOption).forEach(function(key) {\n      option[key] = (typeof userOption[key] === 'undefined')\n        ? defaultOption[key]\n        : userOption[key];\n    });\n\n    var attr = '';\n    option.style && (attr += \" style=\\\"\" + option.style + \"\\\"\");\n    option.role && (attr += \" role=\\\"\" + option.role + \"\\\"\");\n    option.className && (attr += \" class=\\\"\" + option.className + \"\\\"\");\n\n    var words = SimpleAnalyze(text);\n\n    var html = words.map(function(word) {\n      return '<span' + attr + '>' + word + '</span>'\n    }).join('');\n    return html;\n  }\n  Mikan.split = SimpleAnalyze;\n  return Mikan;\n});\n","import {Group} from \"three\";\n\nimport {defineAccessor} from \"./utils\";\n\nexport default class Element extends Group {\n\tconstructor(nativeContent, options) {\n\t\tsuper();\n\t\tthis.add(nativeContent);\n\t\tthis.nativeContent = nativeContent;\n\t\tthis.opacity = options.opacity;\n\t\tif (options.visible !== undefined) this.visible = options.visible;\n\t\tthis.selfOpacity = options.selfOpacity;\n\t\tif (options.width) this.width = options.width;\n\t\tif (options.height) this.height = options.height;\n\n\t\t// Can't put this in prototype because Object3D defines this in the constructor\n\t\tdefineAccessor(this, \"rotation\", {\n\t\t\tget() {return this._rotation},\n\t\t\tset(v) {\n\t\t\t\tthis._rotation = v;\n\t\t\t\tthis.quaternion.set(0, 0, 0, 1);\n\t\t\t\tthis.rotateZ(v);\n\t\t\t}\n\t\t});\n\t\tthis.rotation = options.rotation || 0;\n\t\tif (options.x) this.x = options.x;\n\t\tif (options.y) this.y = options.y;\n\t\tif (options.z) this.z = options.z;\n\t}\n\n\tget x() {return this.position.x}\n\tset x(v) {this.position.x = v}\n\n\tget y() {return this.position.y}\n\tset y(v) {this.position.y = v}\n\n\tget z() {return this.position.z}\n\tset z(v) {this.position.z = v}\n\n\tget width() {throw new Error(\"not implemented\");}\n\tset width(v) {throw new Error(\"not implemented\");}\n\n\tget height() {throw new Error(\"not implemented\");}\n\tset height(v) {throw new Error(\"not implemented\");}\n\n\tget selfOpacity() {return this.nativeContent.opacity}\n\tset selfOpacity(v) {this.nativeContent.opacity = v}\n}\n","export function hitTestCircle(dx, dy) {\n\treturn Math.hypot(dx, dy) < this.radius;\n}\n\nexport function hitTestEllipse(dx, dy) {\n\tif (this.width === this.height) return hitTestCircle.call(this, dx, dy);\n\treturn Math.hypot(dx / (this.width / 2), dy / (this.height / 2)) < 1;\n}\n\nexport function hitTestRectangle(dx, dy) {\n\treturn Math.abs(dx) < this.width / 2 && Math.abs(dy) < this.height / 2\n}\n","import {\n\tMesh, Group,\n\tGeometry, ShapeBufferGeometry, PlaneBufferGeometry, CircleBufferGeometry,\n\tMeshBasicMaterial,\n\tShape, Vector3\n} from \"three\";\n\nimport {createMeshLine, setMeshLineGeometry} from \"./threeutil\";\nimport Element from \"./element\";\nimport {hitTestRectangle, hitTestEllipse} from './hittest';\n\nconst rectgeometry = new PlaneBufferGeometry(1, 1);\nconst rectlinegeometry = (w, h) => [-w, h, w, h, w, -h, -w, -h, -w, h];\nexport class Rectangle extends Element {\n\tconstructor(options) {\n\t\toptions = options || {};\n\t\tconst group = new Group();\n\t\tgroup.fill = new Mesh(rectgeometry, new MeshBasicMaterial());\n\t\tgroup.fill.material.color.set(options.fillColor);\n\t\tgroup.fill.visible = !!options.fillColor;\n\t\tgroup.fill.opacity = options.fillOpacity;\n\t\tgroup.add(group.fill);\n\n\t\tgroup.stroke = createMeshLine(\n\t\t\trectlinegeometry(options.width / 2, options.height / 2),\n\t\t\t{\n\t\t\t\tcolor: options.strokeColor,\n\t\t\t\tlineWidth: options.strokeWidth !== undefined ? options.strokeWidth : 2\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\t\tgroup.stroke.visible = !!options.strokeColor;\n\t\tgroup.stroke.opacity = options.strokeOpacity;\n\t\tgroup.add(group.stroke);\n\n\t\tsuper(group, Object.assign(options, {customScale: true}));\n\n\t\tthis.hitTest = hitTestRectangle;\n\n\t\tthis.addEventListener(\"render\", () => {\n\t\t\tif (this._dirty) setMeshLineGeometry(group.stroke, rectlinegeometry(group.fill.scale.x / 2, group.fill.scale.y / 2), true);\n\t\t\tthis._dirty = false;\n\t\t});\n\t}\n\tget width() {return this.nativeContent.fill.scale.x}\n\tset width(v) {\n\t\tthis.nativeContent.fill.scale.x = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget height() {return this.nativeContent.fill.scale.y}\n\tset height(v) {\n\t\tthis.nativeContent.fill.scale.y = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget fillOpacity() {return this.nativeContent.fill.opacity}\n\tset fillOpacity(v) {this.nativeContent.fill.opacity = v}\n\n\tget strokeOpacity() {return this.nativeContent.stroke.opacity}\n\tset strokeOpacity(v) {this.nativeContent.stroke.opacity = v}\n\n\tget strokeWidth() {return this.nativeContent.stroke.material.uniforms.lineWidth.value}\n\tset strokeWidth(v) {this.nativeContent.stroke.material.uniforms.lineWidth.value = v}\n\n\tget fillColor() {return this.nativeContent.fill.material.color}\n\tset fillColor(v) {\n\t\tthis.nativeContent.fill.visible = Boolean(v);\n\t\tthis.nativeContent.fill.material.color.set(v);\n\t}\n\n\tget strokeColor() {return this.nativeContent.stroke.material.uniforms.color.value}\n\tset strokeColor(v) {\n\t\tthis.nativeContent.stroke.visible = Boolean(v);\n\t\tthis.nativeContent.stroke.material.uniforms.color.value.set(v);\n\t}\n}\n\nconst circlegeometries = {};\nfunction getCircleGeometry(segments) {\n\tif (!circlegeometries[segments]) circlegeometries[segments] = new CircleBufferGeometry(0.5, segments);\n\treturn circlegeometries[segments];\n}\nconst ellipselinegeometry = (w, h, s) => {\n\tw /= 2;\n\th /= 2;\n\tconst g = [];\n\tfor (let i = 0; i <= s; i++) {\n\t\tconst r = i / s * Math.PI * 2;\n\t\tg.push(Math.cos(r) * w, Math.sin(r) * h);\n\t}\n\treturn g;\n};\nexport class Ellipse extends Element {\n\tconstructor(options) {\n\t\toptions = options || {};\n\n\t\tif (options.segments === undefined) options.segments = 32;\n\t\tif (options.radius) options.width = options.height = options.radius * 2;\n\n\t\tconst group = new Group();\n\t\tgroup.fill = new Mesh(getCircleGeometry(options.segments), new MeshBasicMaterial());\n\t\tgroup.fill.material.color.set(options.fillColor);\n\t\tgroup.fill.visible = !!options.fillColor;\n\t\tgroup.fill.opacity = options.fillOpacity;\n\t\tgroup.add(group.fill);\n\n\t\tgroup.stroke = createMeshLine(\n\t\t\tellipselinegeometry(options.width, options.height, options.segments),\n\t\t\t{\n\t\t\t\tcolor: options.strokeColor,\n\t\t\t\tlineWidth: options.strokeWidth !== undefined ? options.strokeWidth : 2\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\t\tgroup.stroke.visible = !!options.strokeColor;\n\t\tgroup.stroke.opacity = options.strokeOpacity;\n\t\tgroup.add(group.stroke);\n\n\t\tsuper(group, options);\n\n\t\tthis._segments = options.segments;\n\n\t\tthis.hitTest = hitTestEllipse;\n\n\t\tthis.addEventListener(\"render\", () => {\n\t\t\tif (this._dirty) setMeshLineGeometry(group.stroke, ellipselinegeometry(group.fill.scale.x, group.fill.scale.y, this._segments), true);\n\t\t\tthis._dirty = false;\n\t\t});\n\t}\n\tget width() {return this.nativeContent.fill.scale.x}\n\tset width(v) {\n\t\tthis.nativeContent.fill.scale.x = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget height() {return this.nativeContent.fill.scale.y}\n\tset height(v) {\n\t\tthis.nativeContent.fill.scale.y = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget fillOpacity() {return this.nativeContent.fill.opacity}\n\tset fillOpacity(v) {this.nativeContent.fill.opacity = v}\n\n\tget strokeOpacity() {return this.nativeContent.stroke.opacity}\n\tset strokeOpacity(v) {this.nativeContent.stroke.opacity = v}\n\n\tget fillColor() {return this.nativeContent.fill.material.color}\n\tset fillColor(v) {\n\t\tthis.nativeContent.fill.visible = Boolean(v);\n\t\tthis.nativeContent.fill.material.color.set(v);\n\t}\n\n\tget strokeColor() {return this.nativeContent.stroke.material.uniforms.color.value}\n\tset strokeColor(v) {\n\t\tthis.nativeContent.stroke.visible = Boolean(v);\n\t\tthis.nativeContent.stroke.material.uniforms.color.value.set(v);\n\t}\n\n\tget radius() {\n\t\tif (this.width !== this.height)\n\t\t\tthrow new Error(\"Attempted to access radius property of a ellipse whose width and height is different\");\n\t\treturn this.width / 2;\n\t}\n\tset radius(v) {this.width = this.height = v * 2}\n\n\tget segments() {return this._segments}\n\tset segments(v) {\n\t\tthis.nativeContent.fill.geometry = getCircleGeometry(v);\n\t\tthis._segments = v;\n\t\tthis._dirty = true;\n\t}\n}\n\nconst shape = new Shape();\nshape.moveTo(0, 0.5);\nshape.lineTo(0.5, -0.5);\nshape.lineTo(-0.5, -0.5);\nshape.lineTo(0, 0.5);\nconst symmetrictrianglegeometry = new ShapeBufferGeometry(shape);\nconst symmetrictrianglelinegeometry = (w, h) => [0, h, w, -h, -w, -h, 0, h];\nexport class SymmetricTriangle extends Element {\n\tconstructor(options) {\n\t\toptions = options || {};\n\t\tconst group = new Group();\n\t\tgroup.fill = new Mesh(\n\t\t\tsymmetrictrianglegeometry,\n\t\t\tnew MeshBasicMaterial({color: options.fillColor})\n\t\t);\n\t\tgroup.fill.visible = !!options.fillColor;\n\t\tgroup.fill.opacity = options.fillOpacity;\n\t\tgroup.add(group.fill);\n\n\t\tgroup.stroke = createMeshLine(\n\t\t\tsymmetrictrianglelinegeometry(options.width / 2, options.height / 2),\n\t\t\t{\n\t\t\t\tcolor: options.strokeColor,\n\t\t\t\tlineWidth: options.strokeWidth !== undefined ? options.strokeWidth : 2\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\t\tgroup.stroke.visible = !!options.strokeColor;\n\t\tgroup.stroke.opacity = options.strokeOpacity;\n\t\tgroup.add(group.stroke);\n\n\t\tsuper(group, options);\n\n\t\tthis.addEventListener(\"render\", () => {\n\t\t\tif (this._dirty) setMeshLineGeometry(group.stroke, symmetrictrianglelinegeometry(group.fill.scale.x / 2, group.fill.scale.y / 2), true);\n\t\t\tthis._dirty = false;\n\t\t});\n\t}\n\tget width() {return this.nativeContent.fill.scale.x}\n\tset width(v) {\n\t\tthis.nativeContent.fill.scale.x = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget height() {return this.nativeContent.fill.scale.y}\n\tset height(v) {\n\t\tthis.nativeContent.fill.scale.y = v;\n\t\tthis._dirty = true;\n\t}\n\n\tget fillOpacity() {return this.nativeContent.fill.opacity}\n\tset fillOpacity(v) {this.nativeContent.fill.opacity = v}\n\n\tget strokeOpacity() {return this.nativeContent.stroke.opacity}\n\tset strokeOpacity(v) {this.nativeContent.stroke.opacity = v}\n\n\tget strokeWidth() {return this.nativeContent.stroke.material.uniforms.lineWidth.value}\n\tset strokeWidth(v) {this.nativeContent.stroke.material.uniforms.lineWidth.value = v}\n\n\tget fillColor() {return this.nativeContent.fill.material.color}\n\tset fillColor(v) {\n\t\tthis.nativeContent.fill.visible = Boolean(v);\n\t\tthis.nativeContent.fill.material.color.set(v);\n\t}\n\n\tget strokeColor() {return this.nativeContent.stroke.material.uniforms.color.value}\n\tset strokeColor(v) {\n\t\tthis.nativeContent.stroke.visible = Boolean(v);\n\t\tthis.nativeContent.stroke.material.uniforms.color.value.set(v);\n\t}\n}\n","import {Group, Math as THREE_Math} from \"three\";\n\nimport {SpriteText2D, textAlign} from \"three-text2d\";\n\nimport Mikan from \"mikan.js\";\n\nimport {Rectangle} from \"./geometries\";\nimport {define, defineAccessor} from \"./utils\";\nimport Element from \"./element\";\nimport {hitTestRectangle} from './hittest';\n\nconst fontHeightCache = {};\nfunction getFontHeight(fontStyle) {\n  let result = fontHeightCache[fontStyle];\n  if (!result) {\n    const body = document.getElementsByTagName('body')[0];\n    const dummy = document.createElement('div');\n    const dummyText = document.createTextNode('MÉq');\n    dummy.appendChild(dummyText);\n    dummy.setAttribute('style', \"font:\" + fontStyle + \";position:absolute;top:0;left:0\");\n    body.appendChild(dummy);\n    result = dummy.offsetHeight;\n    fontHeightCache[fontStyle] = result;\n    body.removeChild(dummy);\n  }\n  return result;\n}\n\nclass ModifiedSpriteText2D extends SpriteText2D {\n\tconstructor(text, options) {\n\t\toptions = options || {};\n\t\tsuper(text || \" \", Object.assign({\n\t\t\talign: textAlign.center,\n\t\t\tfillStyle: 'hsla(0, 0%, 0%, 0.6)',\n\t\t\tfont: \"32px 'HiraKakuProN-W3'\"\n\t\t}, options));\n\t\t// Can't put this in prototype because Object3D defines this in the constructor\n\t\tdefineAccessor(this, \"rotation\", {\n\t\t\tget() {return this.material.rotation},\n\t\t\tset(v) {this.material.rotation = v}\n\t\t});\n\t\tif (options.rotation) this.rotation = options.rotation;\n\t\tthis.opacity = options.opacity;\n\t\tthis.hitTest = hitTestRectangle;\n\t\tif (options.x) this.x = options.x;\n\t\tif (options.y) this.y = options.y;\n\t\tif (options.z) this.z = options.z;\n\t}\n\n\tget x() {return this.position.x}\n\tset x(v) {this.position.x = v}\n\n\tget y() {return this.position.y}\n\tset y(v) {this.position.y = v}\n\n\tget z() {return this.position.z}\n\tset z(v) {this.position.z = v}\n}\n\nfunction MultilineSpriteText2D(text, options) {\n\tthis.width = options.width;\n\tthis.lineHeight = options.lineHeight;\n\tSpriteText2D.apply(this, arguments);\n\tconst self = this;\n\tthis.canvas.drawText = function (text, ctxOptions) {\n\t\tconst lineHeight = getFontHeight(ctxOptions.font);\n\t\tconst words = /\\S/.test(text) ? Mikan.split(text) : [];\n\t\tlet width = 0;\n\t\tconst lines = [];\n\t\tlet lineIndex = 0;\n\t\tlines[lineIndex] = \"\";\n\t\twords.forEach(word => {\n\t\t\tconst wordWidth = this.ctx.measureText(word).width;\n\t\t\tif (self.width - width >= wordWidth) {\n\t\t\t\tlines[lineIndex] += word;\n\t\t\t\twidth += wordWidth;\n\t\t\t} else {\n\t\t\t\tlineIndex++;\n\t\t\t\tlines[lineIndex] = word;\n\t\t\t\twidth = 0;\n\t\t\t}\n\t\t});\n\t\tthis.textWidth = 0;\n\t\tlines.forEach(line => this.textWidth = Math.max(this.textWidth, Math.ceil(this.ctx.measureText(line).width)));\n\t\tthis.textHeight = lineHeight * self.lineHeight * lines.length;\n\t\tthis.canvas.width = Math.max(1, THREE_Math.ceilPowerOfTwo(this.textWidth));\n\t\tthis.canvas.height = Math.max(1, THREE_Math.ceilPowerOfTwo(this.textHeight));\n\t\tthis.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t\tthis.ctx.font = ctxOptions.font;\n\t\tthis.ctx.fillStyle = ctxOptions.fillStyle;\n\t\tthis.ctx.textAlign = 'left';\n\t\tthis.ctx.textBaseline = 'top';\n\t\tthis.ctx.shadowColor = ctxOptions.shadowColor || 'transparent';\n\t\tthis.ctx.shadowBlur = ctxOptions.shadowBlur;\n\t\tthis.ctx.shadowOffsetX = ctxOptions.shadowOffsetX;\n\t\tthis.ctx.shadowOffsetY = ctxOptions.shadowOffsetY;\n\t\tlet y = 0;\n\t\tlines.forEach(line => {\n\t    this.ctx.fillText(line, 0, y);\n\t\t\ty += lineHeight * self.lineHeight;\n\t\t});\n    return this.canvas;\n\t};\n\treturn this;\n}\n\nMultilineSpriteText2D.prototype = Object.create(ModifiedSpriteText2D.prototype);\n\ndefine(MultilineSpriteText2D.prototype, \"width\", null);\n\nexport class Label extends ModifiedSpriteText2D {\n\tconstructor(text, options) {\n\t\tsuper(text || \" \", Object.assign({\n\t\t\talign: textAlign.center,\n\t\t\tfillStyle: 'hsla(0, 0%, 0%, 0.6)',\n\t\t\tfont: \"32px 'HiraKakuProN-W3'\"\n\t\t}, options));\n\t}\n}\n\nexport class LabelArea extends MultilineSpriteText2D {\n\tconstructor(text, options) {\n\t\tsuper(text, Object.assign({\n\t\t\talign: textAlign.center,\n\t\t\tfillStyle: 'hsla(0, 0%, 0%, 0.6)',\n\t\t\tfont: \"32px 'HiraKakuProN-W3'\",\n\t\t\tlineHeight: 1.2\n\t\t}, options));\n\t}\n}\n\nexport class Gauge extends Element {\n\tconstructor(options) {\n\t\toptions = options || {};\n\n\t\tsuper(new Group(), options);\n\n\t\tthis.background = new Rectangle({\n\t\t\twidth: 1,\n\t\t\theight: 1,\n\t\t\tfillColor: options.fillColor,\n\t\t\tfillOpacity: options.fillOpacity,\n\t\t\tstrokeColor: options.strokeColor,\n\t\t\tstrokeOpacity: options.strokeOpacity,\n\t\t\tstrokeWidth: options.strokeWidth\n\t\t});\n\t\tthis.nativeContent.add(this.background);\n\n  \tthis.foreground = new Rectangle({\n\t\t\twidth: options.value / options.maxValue,\n\t\t\theight: 1,\n\t\t\tfillColor: options.gaugeColor,\n\t\t\topacity: options.gaugeOpacity\n\t\t});\n  \tthis.foreground.position.z = 0.0001;\n\t\tthis.nativeContent.add(this.foreground);\n\n\t\tthis.maxValue = options.maxValue;\n\t\tthis.hitTest = hitTestRectangle;\n\t}\n\tget width() {return this.nativeContent.scale.x}\n\tset width(v) {this.nativeContent.scale.x = v}\n\n\tget height() {return this.nativeContent.scale.y}\n\tset height(v) {this.nativeContent.scale.y = v}\n\n\tget value() {this.foreground.width * this.maxValue}\n\tset value(v) {\n\t\tthis.foreground.width = v / this.maxValue;\n\t\tthis.foreground.x = -(1 - this.foreground.width) / 2\n\t}\n\n\tget fillOpacity() {return this.background.fillOpacity}\n\tset fillOpacity(v) {this.background.fillOpacity = v}\n\n\tget strokeOpacity() {return this.background.strokeOpacity}\n\tset strokeOpacity(v) {this.background.strokeOpacity = v}\n\n\tget gaugeOpacity() {return this.foreground.opacity}\n\tset gaugeOpacity(v) {this.foreground.opacity = v}\n\n\tget strokeWidth() {return this.background.strokeWidth}\n\tset strokeWidth(v) {this.background.strokeWidth = v}\n\n\tget fillColor() {return this.background.fillColor}\n\tset fillColor(v) {this.background.fillColor = v}\n\n\tget strokeColor() {return this.background.strokeColor}\n\tset strokeColor(v) {this.background.strokeColor = v}\n\n\tget gaugeColor() {return this.foreground.fillColor}\n\tset gaugeColor(v) {this.foreground.fillColor = v}\n}\n\nexport class DebugTexts extends Group {\n\tconstructor(options) {\n\t\toptions = options || {};\n\t\tsuper(options);\n\t\tthis.labels = {};\n\t\tthis.font = options.font || \"16px 'HiraKakuProN-W3'\";\n\t\tthis.lineHeight = options.lineHeight || 24;\n\t}\n\tset(id, text) {\n\t\ttext = `${id}: ${text}`;\n\t\tif (this.labels[id]) {\n\t\t\tthis.labels[id].text = text;\n\t\t\treturn;\n\t\t}\n\t\tconst label = new Label(text, {\n\t\t\talign: textAlign.left, font: this.font,\n\t\t\tfillStyle: 'hsla(0, 0%, 0%, 0.8)', y: -this.children.length * this.lineHeight\n\t\t});\n\t\tthis.add(label);\n\t\tthis.labels[id] = label;\n\t}\n\tget parent() {return this._parent}\n\tset parent(v) {\n\t\tthis._parent = v;\n\t\tif (!v) return;\n\t\tfor (; v.parent || v._meta; v = v.parent || v._meta);\n\t\tv.debug = this.set.bind(this);\n\t}\n}\n\nexport {textAlign};\n","\nimport assets, {addFile} from \"../loading\";\nimport \"./identicalVertex\";\nimport {Vector4} from \"three\";\n\naddFile('GLSL', 'fadeFragment', \"/node_modules/w3g/three-effect/fadeFragment.min.glsl\");\n\nexport default class FadeShader {\n\tconstructor() {\n\t\tthis.uniforms = {\n\t    tDiffuse: {value: null},\n\t    color: {value: new Vector4(0, 0, 0, 0)}\n\t  };\n\t\tthis.vertexShader = assets.GLSL.identicalVertex;\n\t\tthis.fragmentShader = assets.GLSL.fadeFragment;\n\t}\n}\n\nFadeShader.requiredResources = {GLSL: ['identicalVertex', 'fadeFragment']};\n","\nimport assets, {addFile} from \"../loading\";\nimport \"./identicalVertex\";\n\naddFile('GLSL', 'zoomblurFragment', \"/node_modules/w3g/three-effect/zoomblurFragment.min.glsl\");\n\nexport default class ZoomblurShader {\n\tconstructor() {\n\t\tthis.uniforms = {\n\t\t\ttDiffuse: {value: null},\n\t\t\tstrength: {value: 0}\n\t\t};\n\t\tthis.vertexShader = assets.GLSL.identicalVertex;\n\t\tthis.fragmentShader = assets.GLSL.zoomblurFragment;\n\t}\n}\n\nZoomblurShader.requiredResources = {GLSL: ['identicalVertex', 'zoomblurFragment']};\n","import {Group, Quaternion, Vector3, Vector4} from \"three\";\n\nimport ShaderPass from \"w3g/three-effect/ShaderPass\";\nimport FadeShader from \"w3g/three-effect/FadeShader\";\n\nimport {Axis, rotate} from \"w3g/threeutil\";\nimport {get, free} from \"w3g/utils\";\n\nclass Equipment {\n\tconstructor(user, scene, level, position, object) {\n\t\tthis.user = user;\n\t\tthis.scene = scene;\n\t\tthis.level = level;\n\t\tif (position) {\n\t\t\tthis.threeObject = object || new Group();\n\t\t\tthis.threeObject.position.copy(position);\n\t\t\tthis.user.add(this.threeObject);\n\t\t}\n\t}\n\tupdate() {}\n\tgetType() {return 'passive';}\n\tstatic place = ['core']; // any number of string id which shows where this module can be installed\n\n\tstatic maxLevel = 2; // level of this module never be more than the max level(permanent)\n\tstatic unlockedLevel = -1; // works similar to variable above but can change sometimes\n}\n\nclass ActivatableEquipment extends Equipment {\n\tconstructor(user, scene, level, position, object) {\n\t\tsuper(user, scene, level, position, object);\n\t\tthis.cooldown = 0;\n\t}\n\tupdate(delta) {\n\t\tthis.cooldown = Math.max(this.cooldown - delta, 0);\n\t}\n\tactivate() {\n\t\tif (this.cooldown === 0) {\n\t\t\t//this.activate();\n\t\t\t//console.log('Activatable Equipment ' + this.className + ' don't seem to be implemented');\n\t\t}\n\t}\n\tgetType() {return 'active';}\n}\n\nclass ToggleableEquipment extends Equipment {\n\tconstructor(user, scene, level, position, object) {\n\t\tsuper(user, scene, level, position, object);\n\t\tthis.active = false;\n\t}\n\tactivate() {\n\t\tthis.active = !this.active;\n\t}\n\tgetType() {return 'toggle';}\n}\n\nexport const byPlace = {};\nexport const byID = {};\n\nfunction registerEquipment(klass) {\n\tlet lvlfrom = klass;\n\twhile(lvlfrom.unlockedLevel === undefined) lvlfrom = lvlfrom.prototype.superClass;\n\tklass.unlockedLevel = lvlfrom.unlockedLevel;\n\tklass.place.forEach(place => {\n\t\tif (!byPlace[place]) byPlace[place] = [];\n\t\tbyPlace[place].push(klass);\n\t});\n\tbyID[klass.id] = klass;\n}\n\nregisterEquipment(class extends Equipment { // dont modify, this module is so special\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t}\n\tstatic id = 'Empty';\n\tstatic equipmentName = 'Uninstall';\n\tstatic place = ['top', 'core', 'front', 'wing'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return 0;}\n\tstatic getDescription(level) {return '';}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tconstructor(user, scene, level, position, klass) {\n\t\tsuper(user, scene, 0);\n\t\tthis.instance1 = new klass(user, scene, level, position);\n\t\tconst mirrored = get(Vector3).copy(position);\n\t\tmirrored.x = -mirrored.x;\n\t\tthis.instance2 = new klass(user, scene, level, mirrored);\n\t\tfree(mirrored);\n\t}\n\tactivate() {\n\t\tconst result = this.instance1.activate();\n\t\treturn this.instance2.activate() || result;\n\t}\n\tupdate(delta) {\n\t\tthis.instance1.update(delta);\n\t\tthis.instance2.update(delta);\n\t}\n\tgetType() {\n\t\treturn this.instance1.getType();\n\t}\n\tstatic id = 'Fork';\n\tstatic place = [];\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tthis.user.armor *= [1.175, 1.19, 1.205][level];\n\t}\n\tstatic id = 'ExtraArmor';\n\tstatic equipmentName = 'Hardened alloy hull';\n\tstatic place = ['top', 'core'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Reduce damage taken by ' + [15, 16, 17][level] + '%.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tthis.user.sharpness *= [1.5, 1.53, 1.54][level];\n\t}\n\tstatic id = 'Spear';\n\tstatic equipmentName = 'Sharpened frontal hull';\n\tstatic place = ['front'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Increase damage on ramming into enemy by ' + [50, 53, 54][level] + '%.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tthis.user.speed *= [1.2, 1.213, 1.22][level];\n\t\tthis.user.rotspeed *= [1.3, 1.32, 1.33][level];\n\t}\n\tstatic id = 'Acrobat';\n\tstatic equipmentName = 'Aerodynamically optimal wings';\n\tstatic place = ['top', 'wing'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Greatly increase your mobility in air.'; //TODO: Disable this on space\n\t}\n});\n\nregisterEquipment(class extends ToggleableEquipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t}\n\tupdate(delta) {\n\t\tconst costrate = [100, 150, 200][this.level];\n\t\tconst amount = Math.min([0.00003, 0.00004, 0.00005][this.level] * delta, this.user.maxhp - this.user.hp, this.user.energy / costrate);\n\t\tthis.user.energy -= amount * costrate;\n\t\tthis.user.hp += amount;\n\t}\n\tstatic id = 'SelfRepair';\n\tstatic equipmentName = 'Self repair package';\n\tstatic place = ['top', 'core'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Regenerate your HP over time. Higher level one is faster but less energy efficient. Can be toggled on/off by pushing activate key.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t}\n\tupdate(delta) {\n\t\tthis.user.energy += Math.min([0.01, 0.0105, 0.011][this.level] * delta, this.user.maxenergy - this.user.energy);\n\t}\n\tstatic id = 'ExtraGenerator';\n\tstatic equipmentName = 'Extra generator';\n\tstatic place = ['top', 'core'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Increase energy replenish speed, allowing you to use skills more often.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tuser.maxenergy += [400, 430, 450][level];\n\t}\n\tstatic id = 'ExtraBattery';\n\tstatic equipmentName = 'Extra battery';\n\tstatic place = ['top', 'core'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Increase maximum energy storage.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tuser.precision *= [1.8, 1.9, 2][level];\n\t}\n\tstatic id = 'PrecisionBonus';\n\tstatic equipmentName = 'Vector adjuster array';\n\tstatic place = ['front'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Improve precision of the main cannons.';\n\t}\n});\n\nregisterEquipment(class extends Equipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tuser.applyRotation = function() {\n\t\t\t// The order is important, even with quaternion. but...\n\t\t\tthis.rotateX(this.myrot.x);\n\t\t\tthis.rotateY(this.myrot.y);\n\t\t\tthis.rotateZ(this.myrot.z1 + this.myrot.z2);\n\t\t};\n\t}\n\tstatic id = 'Glitch';\n\tstatic equipmentName = 'DEF-���� glitch';\n\tstatic place = ['core'];\n\t//unlockedLevel: 0,\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tgetDescription(level) {\n\t\treturn 'Do not use this, it can completely break the game.';\n\t}\n});\n\nregisterEquipment(class extends ToggleableEquipment {\n\tconstructor(user, scene, level) {\n\t\tsuper(user, scene, level);\n\t\tthis.activated = false;\n\t\tconst original = this.user.primary.getDamage;\n\t\tthis.user.primary.getDamage = () => {\n\t\t\tif (this.active) {\n\t\t\t\tif (!this.activated) {\n\t\t\t\t\tthis.activated = true;\n\t\t\t\t\tthis.user.hp -= [0.02, 0.036, 0.056][level];\n\t\t\t\t}\n\t\t\t\treturn original() * [1.2, 1.25, 1.3][level];\n\t\t\t}\n\t\t\treturn original();\n\t\t};\n\t}\n\tupdate() {\n\t\tthis.activated = false;\n\t}\n\tstatic id = 'OverHeating';\n\tstatic equipmentName = 'Barrel overheating';\n\tstatic place = ['top', 'core'];\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Sacrifice your HP and increase firepower by ' + [20, 25, 30] + '%. Can toggle on/off by pushing activate key.';\n\t}\n});\n\nregisterEquipment(class extends ToggleableEquipment {\n\tconstructor(user, scene, level, position) {\n\t\tsuper(user, scene, level, position);\n\t\tthis.cooldown = 0;\n\t}\n\tgetDamage() {\n\t\treturn [6, 7, 8][this.level];\n\t}\n\tupdate(delta) {\n\t\tconst v = get(Vector3);\n\t\tconst q = get(Quaternion);\n\t\tconst d = get(Vector3);\n\t\tthis.threeObject.updateWorldMatrix();\n\t\tfor (this.cooldown -= delta; this.cooldown <= 0; this.cooldown += 30) this.user.consumeEnergy(1.5, () => {\n\t\t\tconst a = Math.random() * Math.PI * 2;\n\t\t\trotate(q.copy(this.user.quaternion), v.set(Math.sin(a), Math.cos(a), 0), Math.sqrt(Math.random() * 0.0009));\n\t\t\tv.setFromMatrixPosition(this.threeObject.matrixWorld)\n\t\t\t\t.add(d.copy(Axis.z).applyQuaternion(q).multiplyScalar(-this.cooldown));\n\t\t\tthis.user.allies.bulletManager.create('bullet', v, q, {v: 1.02, atk: this.getDamage()});\n\t\t\tthis.scene.shakeScreen(2);\n\t\t});\n\t\tfree(v, q, d);\n\t}\n\tstatic id = 'Machinegun';\n\tstatic equipmentName = 'Machinegun';\n\tstatic place = ['front', 'wing'];\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic unlockedLevel = 0;\n\tstatic getDescription(level) {\n\t\treturn 'Shoot bullets with high rate of fire.';\n\t}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tgetDamage() {\n\t\treturn [1, 1.3, 1.5][this.level];\n\t}\n\tupdate(delta) {\n\t\tsuper.update(delta);\n\t\tif (this.duration > 0) {\n\t\t\tthis.duration -= delta;\n\t\t\t//const angle = Math.randfloat(0, Math.PI * 2);\n\t\t\tthis.scene.shakeScreen(this.duration * 0.1);\n\t\t\tconst v = get(Vector3).addVectors(this.user.position, this.threeObject.position);\n\t\t\tthis.user.allies.beam(v, this.user.quaternion, this.getDamage() * delta, 3, 25, 0, this.effect);\n\t\t\tfree(v);\n\t\t}\n\t}\n\tactivate() {\n\t\tif (this.cooldown > 0) return false;\n\t\tthis.cooldown = this.user.consumeEnergy([150, 250, 320][this.level], () => {\n\t\t\tthis.duration = 100;\n\t\t\tthis.effect = this.scene.effectManager.ray(this.threeObject, [\n\t\t\t\t{color: 0xffffff, opacity: 0.2, radius: 1},\n\t\t\t\t{color: 0x00ffff, opacity: 0.2, radius: 2},\n\t\t\t\t{color: 0x0000ff, opacity: 0.2, radius: 4}\n\t\t\t], 100, (t, m) => 1 - t / m);\n\t\t\treturn 500;\n\t\t}, 0);\n\t\treturn true;\n\t}\n\tstatic id = 'Railgun';\n\tstatic equipmentName = 'Railgun';\n\tstatic place = ['front', 'wing'];\n\tstatic unlockedLevel = 1;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Shot deadly laser. Provides good firepower by consuming large amount of energy.';\n\t}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tgetDamage() {\n\t\treturn [0.3, 0.4, 0.5][this.level];\n\t}\n\tupdate(delta) {\n\t\tsuper.update(delta);\n\t\tif (this.duration > 0) {\n\t\t\tthis.duration -= delta;\n\t\t\t//const angle = Math.random() * Math.PI * 2;\n\t\t\tthis.scene.shakeScreen(this.duration);\n\t\t\tconst v = get(Vector3).addVectors(this.user.position, this.threeObject.position);\n\t\t\tthis.user.allies.beam(v, this.user.quaternion, this.getDamage() * delta, 2, 15, [20, 25, 30][this.level], this.effect);\n\t\t\tfree(v);\n\t\t\tif (this.duration <= 0) {\n\t\t\t\tthis.user.rotspeed *= [2, 4, 8][this.level];\n\t\t\t}\n\t\t} else if (this.delay > 0) {\n\t\t\tthis.delay -= delta;\n\t\t\tif (this.delay <= 0) {\n\t\t\t\tthis.duration = [600, 900, 1200][this.level];\n\t\t\t\t// flash effect\n\t\t\t\tconst fade = new ShaderPass(new FadeShader());\n\t\t\t\tfade.uniforms.color.value.set(1, 1, 1, 0.8);\n\t\t\t\tthis.scene.app.composer.addPass(fade);\n\t\t\t\tconst frame = this.scene.frame;\n\t\t\t\tthis.scene.on('enterframe', function tmp() {\n\t\t\t\t\tif (this.scene.frame - frame > 1) {\n\t\t\t\t\t\tthis.scene.app.composer.passes.erase(fade);\n\t\t\t\t\t\tthis.scene.off('enterframe', tmp);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.scene.effectManager.ray(this.threeObject, 0xffffff, 0.5, 500, 2);\n\t\t\t\tthis.effect = this.scene.effectManager.ray(this.threeObject, [\n\t\t\t\t\t{color: 0xffffff, opacity: 0.2, radius: [5, 6, 8][this.level]},\n\t\t\t\t\t{color: 0xffcccc, opacity: 0.2, radius: [8, 10, 12][this.level]},\n\t\t\t\t\t{color: 0xff8888, opacity: 0.2, radius: [12, 15, 18][this.level]},\n\t\t\t\t\t{color: 0xff4444, opacity: 0.2, radius: [16, 20, 24][this.level]},\n\t\t\t\t\t{color: 0xff0000, opacity: 0.2, radius: [20, 25, 30][this.level]}\n\t\t\t\t], [750, 1000, 1400][this.level], (t, m) => t < 120 ? 2 : (t < 180 ? 0.25 : 1 - (t - 180) / (m - 180)));\n\t\t\t}\n\t\t}\n\t}\n\tactivate() {\n\t\tif (this.cooldown > 0) return false;\n\t\tthis.cooldown = this.user.consumeEnergy([1000, 1200, 1600][this.level], () => {\n\t\t\tthis.delay = [150, 240, 360][this.level];\n\t\t\tthis.user.rotspeed /= [2, 4, 8][this.level];\n\t\t\tthis.scene.effectManager.ray(this.threeObject, [\n\t\t\t\t{color: 0xffffff, opacity: 0.8, radius: [3, 3.75, 5][this.level]},\n\t\t\t], this.delay, (t, m) => t / m);\n\t\t\treturn [7500, 9000, 12000][this.level];\n\t\t}, 0);\n\t\treturn true;\n\t}\n\tstatic id = 'ParticleCannon';\n\tstatic equipmentName = 'Particle cannon';\n\tstatic place = ['front'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Powerful cannon that destroys ' + (level === 2 ? '' : 'almost ') + 'anything front of it.';\n\t}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tgetDamage() {\n\t\treturn [60, 70, 75][this.level];\n\t}\n\tactivate() {\n\t\tif (this.cooldown > 0) return false;\n\t\tthis.cooldown = this.user.consumeEnergy([500, 630, 800][this.level], () => {\n\t\t\tconst v = get(Vector3).addVectors(this.user.position, this.threeObject.position);\n\t\t\tthis.user.allies.bulletManager.createBullet('laser', v, this.user.quaternion, {\n\t\t\t\tv: 1, atk: this.getDamage(), pierce: true, size: 2\n\t\t\t});\n\t\t\tfree(v);\n\t\t\treturn [5400, 6000, 720][this.level];\n\t\t}, 0);\n\t\treturn true;\n\t}\n\tstatic id = 'Lasergun';\n\tstatic equipmentName = 'Laser gun';\n\tstatic place = ['front', 'wing'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'The Laser gun can pierce enemies. Can deal massive damage against huge enemies by hitting their core.';\n\t}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tconstructor(user, scene, level, position) {\n\t\tsuper(user, scene, level, position);\n\t\tthis.instance = this.user.allies.create('blademinion', this.user.position, this.user.quaternion);\n\t\tthis.instance.base = this;\n\t\tthis.instance.hp = [50, 52, 54][level];\n\t\tthis.instance.sharpness = [3, 3.1, 3.2][level];\n\t\tthis.instance.material.color.set(0x111111);\n\t\t/*if (level >= 2) {\n\t\t\tthis.instance2 = this.user.allies.create('blademinion', {\n\t\t\t\tposition: this.user.position.clone(),\n\t\t\t\tactive: false,\n\t\t\t\tstealth: true,\n\t\t\t\tbase: this,\n\t\t\t\thp: [50, 52, 52][level],\n\t\t\t\tsharpness: [3, 3.1, 3.1][level]\n\t\t\t});\n\t\t\tthis.instance2.material.color.set(0x111111);\n\t\t}*/\n\t}\n\tactivate() {\n\t\tif (this.instance.active/* || (this.level >= 2 && this.instance2.active)*/) {\n\t\t\tthis.instance.target = this.user;\n\t\t\t//this.instance2.target = this.user;\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.user.targetingEnemy) return false;\n\t\tthis.user.consumeEnergy([280, 300, 320][this.level], () => {\n\t\t\tthis.instance.active = true;\n\t\t\tthis.instance.target = this.user.targetingEnemy;\n\t\t\tthis.instance.position.add(this.threeObject.position);\n\t\t\t/*if (this.level >= 2) {\n\t\t\t\tthis.instance2.active = true;\n\t\t\t\tthis.instance2.target = this.user.targetingEnemy;\n\t\t\t\tthis.instance.quaternion.rotateY(0.5);\n\t\t\t\tthis.instance2.quaternion.copy(this.user.quaternion).rotateY(-0.5);\n\t\t\t}*/\n\t\t});\n\t\treturn true;\n\t}\n\tstatic id = 'BladeMinion';\n\tstatic equipmentName = 'Anti-material blade slots';\n\tstatic usingModels = ['blademinion'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic place = ['top', 'wing'];\n\tstatic getDescription(level) {\n\t\treturn 'This blade will spawn out on activation and automatically chase your enemy. Can pull back with pushing activate key again.';\n\t}\n});\n\nregisterEquipment(class extends ActivatableEquipment {\n\tactivate() {\n\t\tif (this.cooldown > 0) return false;\n\t\tthis.cooldown = this.user.consumeEnergy([200, 750, 1500][this.level], () => {\n\t\t\tconst repeat = [2, 4, 6][this.level];\n\t\t\tconst v = get(Vector3);\n\t\t\tfor (let i = 0; i < repeat; i++) {\n\t\t\t\tv.subVectors(this.user.position, Axis.z.clone().applyQuaternion(this.user.quaternion).setLength(500))\n\t\t\t\t\t.add(Axis.x.clone().applyQuaternion(this.user.quaternion).setLength(((repeat - 1) / 2 - i) * 150));\n\t\t\t\tthis.user.allies.create('assaultdrone', v, this.user.quaternion, {\n\t\t\t\t\texpire: [60000, 54000, 45000][this.level],\n\t\t\t\t\thp: [8, 10, 11][this.level],\n\t\t\t\t\tchase: [0.06, 0.07, 0.08][this.level],\n\t\t\t\t\tv: [5.6, 6, 6.3][this.level],\n\t\t\t\t\tsharpness: [1.2, 1.4, 1.5][this.level],\n\t\t\t\t\tfirerate: [28, 25, 24][this.level],\n\t\t\t\t\tbv: [7, 7.5, 8][this.level],\n\t\t\t\t\tatk: [7, 8, 8.5][this.level]\n\t\t\t\t});\n\t\t\t}\n\t\t\tfree(v);\n\t\t\treturn [60000, 72000, 90000][this.level];\n\t\t}, 0);\n\t\treturn true;\n\t}\n\tstatic id = 'Reinforce';\n\tstatic equipmentName = 'Reinforce';\n\tstatic usingModels = ['assaultdrone'];\n\tstatic place = ['top', 'core'];\n\tstatic unlockedLevel = 0;\n\tstatic getCost(level) {return [100, 120, 150][level];}\n\tstatic getDescription(level) {\n\t\treturn 'Larger fleet ascend you to the victory.';\n\t}\n});\n","import {Label} from \"w3g/uielements\";\nimport Scene from \"w3g/scene\";\n\nimport {textAlign} from \"three-text2d\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nexport default class SceneLoadingScene extends Scene {\n\n\t_loading_label = new Label(' ', {\n\t\talign: textAlign.center,\n\t\tfillStyle: 'hsla(0, 0%, 0%, 0.6)',\n\t\tfont: \"20px 'HiraKakuProN-W3'\"\n\t});\n\n\tconstructor(sceneToLoad, ...parallel) {\n\t\tsuper();\n\t\tthis.UIScene.add(this._loading_label);\n\n\t\tconst load = async parallel => {\n\t\t\tthis._loadprogress = 0;\n\t\t\tthis._loadfrequency = 0;\n\t\t\tfor(let i = 0; i < parallel.length; i++) {\n\t\t\t\tif (Array.isArray(parallel[i])) for(let j = 0; j < parallel[i].length; j++) this._loadfrequency++;\n\t\t\t\telse this._loadfrequency++;\n\t\t\t}\n\t\t\tthis._loading_label.text = 'Loading... 0/' + this._loadfrequency;\n\t\t\tfor(let i = 0; i < parallel.length; i++) {\n\t\t\t\tconst resolve = () => {\n\t\t\t\t\tthis._loading_label.text = 'Loading... ' + ++this._loadprogress + '/' + this._loadfrequency;\n\t\t\t\t\tif (this._loadprogress === this._loadfrequency) this.UIScene.remove(this._loading_label);\n\t\t\t\t};\n\t\t\t\tif (Array.isArray(parallel[i])) {\n\t\t\t\t\tconst promises = [];\n\t\t\t\t\tfor(let j = 0; j < parallel[i].length; j++) {\n\t\t\t\t\t\tconst promise = parallel[i][j].call(sceneToLoad);\n\t\t\t\t\t\tif (promise) promise.then(resolve);\n\t\t\t\t\t\telse resolve();\n\t\t\t\t\t\tif (promise) promises.push(promise);\n\t\t\t\t\t}\n\t\t\t\t\tawait Promise.all(promises);\n\t\t\t\t} else {\n\t\t\t\t\tconst promise = parallel[i].call(sceneToLoad);\n\t\t\t\t\tif (promise) await promise;\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsceneToLoad.enterThisScene();\n\t\t};\n\t\tload(parallel);\n\t}\n}\n","\nexport const minimapScale = 1 / 50;\nexport const raderRadius = 5000;\n\nexport const windScaleY = 30;\nexport const bossHPGaugeFadeTime = 300;\nexport const gridDivisions = 204;\nexport const messageDelay = 180;\n\nexport const maxAlliedBullets = 1000;\nexport const maxEnemyBullets = 1500;\nexport const bulletRemovalMargin = 50;\nexport const bulletRetainingRadius = 3500;\n\nexport const PLAYER = \"player-0.1\";\nexport const EQUIPMENTS = \"equipments-0.1\" // retrieve key for current set of equipments\n","import {EventDispatcher} from \"three\";\n\nimport {defineAccessor} from \"w3g/utils\";\n\nexport default class ElementManager extends EventDispatcher {\n\n\telements = [];\n\n\tadd(v) {this.elements.push(v);}\n\tupdate() {this.forEach(element => element.update.apply(this, arguments));}\n\tget(i) {return this.elements[i];}\n\tremove(i) {this.elements.splice(i, 1);}\n\tforEach(f, t) {this.elements.forEach(f, t);}\n}\n\ndefineAccessor(ElementManager.prototype, \"count\", {\n\tget() {return this.elements.length},\n\tset(v) {this.elements.length = v}\n});\n","import {Vector3} from \"three\";\n\nimport {Axis} from \"w3g/threeutil\";\nimport {get, free} from \"w3g/utils\";\n\nexport function test2Cupsules(p1, p2, v1, v2, r) { // http://marupeke296.com/COL_3D_No27_CapsuleCapsule.html\n\tconst t = get(Vector3).copy(p2).sub(p1);\n\tconst la = get(Vector3).copy(v2).multiplyScalar(v1.dot(v2) / v2.dot(v2)).sub(v1);\n\tconst la2 = la.dot(la);\n\tlet df;\n\tif (la2 < 0.00001) {\n\t\tconst p = get(Vector3).copy(p2).addScaledVector(v2, -(t.dot(v2) / v2.dot(v2)));\n\t\tconst e1 = get(Vector3).copy(p1).add(v1);\n\t\tconst e2 = get(Vector3).copy(p2).add(v2);\n\t\tdf = Math.min(t.length(), e2.distanceTo(p1), p2.distanceTo(e1), e2.distanceTo(e1), p.distanceTo(p1));\n\t\tfree(p, e1, e2);\n\t} else {\n\t\tconst v22 = v2.dot(v2);\n\t\tconst a = get(Vector3).copy(v2).sub(t).multiplyScalar(t.dot(v2) / v22);\n\t\tconst b = get(Vector3).copy(v1).multiplyScalar(Math.min(Math.max(la.dot(a) / la2, 0), 1));\n\t\tconst c = get(Vector3).copy(b).sub(t);\n\t\tconst d = get(Vector3).copy(v2).multiplyScalar(Math.min(Math.max(c.dot(v2) / v22, 0), 1));\n\t\tconst e = get(Vector3).copy(p2).add(d);\n\t\tconst f = get(Vector3).copy(p1).add(b);\n\t\tdf = e.distanceTo(f);\n\t\tfree(a, b, c, d, e, f);\n\t}\n\tfree(t, la);\n\treturn df <= r;\n};\n\nexport function testCupsuleSphere(pc, v, ps, r, usetmax) {\n\tconst d = get(Vector3).copy(ps).sub(pc);\n\tlet t = Math.max(d.dot(v), 0);\n\tif (usetmax && t > 1) t = 1;\n\tconst closest = get(Vector3).copy(pc).addScaledVector(v, t);\n\tconst ret = ps.distanceTo(closest) <= r;\n\tfree(d, closest);\n\treturn ret;\n}\n\nexport function testOBBSphere(p1, p2, l, q, r) { // http://marupeke296.com/COL_3D_No12_OBBvsPoint.html\n\tconst vec = get(Vector3).set(0, 0, 0);\n\tconst d = get(Vector3).copy(p2).sub(p1);\n\tif (l.x > 0) {\n\t\tconst direct = get(Vector3).copy(Axis.x).applyQuaternion(q);\n\t\tconst s = Math.abs(d.dot(direct) / l.x);\n\t\tif (s > 1) vec.add((1 - s) * l.x * direct);\n\t\tfree(direct);\n\t}\n\tif (l.y > 0) {\n\t\tconst direct = get(Vector3).copy(Axis.y).applyQuaternion(q);\n\t\tconst s = Math.abs(d.dot(direct) / l.y);\n\t\tif (s > 1) vec.add((1 - s) * l.y * direct);\n\t\tfree(direct);\n\t}\n\tif (l.z > 0) {\n\t\tconst direct = get(Vector3).copy(Axis.z).applyQuaternion(q);\n\t\tconst s = Math.abs(d.dot(direct) / l.z);\n\t\tif (s > 1) vec.add((1 - s) * l.z * direct);\n\t\tfree(direct);\n\t}\n\tconst ret = vec.length() <= r;\n\tfree(vec, d);\n\treturn ret;\n}\n","import {Vector3, Quaternion, Ray, Raycaster, Plane} from \"three\";\n\nimport * as THREE_Utils from \"w3g/threeutil\";\nimport {normalizeAngle, opt, get, free} from \"w3g/utils\";\nimport {vw, vh} from \"w3g/main\";\nimport assets, {addFile} from \"w3g/loading\";\nimport {mouseX, mouseY, keys, keyDown, pointing} from \"w3g/input\";\nimport {SymmetricTriangle} from \"w3g/geometries\";\n\nimport {minimapScale, raderRadius, bossHPGaugeFadeTime} from \"./constants\";\nimport ElementManager from \"./elementmanager\";\nimport {testOBBSphere, testCupsuleSphere} from \"./collision\";\n\n/*\n * About units\n *\n * The 3D Mesh of any unit have all their property\n *\n * extends THREE.Mesh\n *\n * ==== properties ====\n *\n * hp\t\t\t\t\thitpoint\n * armor\t\t\tmost of damage this unit takes will divided by this value\n * sharpness\tmultiplier of body damage\n * weight\t\t\tunit with high weight can push enemy\n * time \t\t\ttime since spawn(milliseconds)\n * target\t\t\trefer to a enemy unit used to trigger targetAttacked(optional)\n * summons\t\trefer to the UnitManager instance that have created the unit.\n * stealth\t\tunit with this property true never shown in the rader\n * despawn\t\tset this property to true will cause despawning of the unit without any death trigger.\n *\t\t\t\t\t\twill be checked after each update.\n * --size--\n *\n * ===== methods =====\n *\n * update\t\t\t\t\t\tthe update routine will called each frame, and recieves this.summons to first argument\n */\n\nexport class UnitManager extends ElementManager {\n\n\tgroups = [];\n\tspawncount = 0;\n\tdeathcount = 0;\n\n\tconstructor(s, bm, rc) {\n\t\tsuper();\n\t\tthis.scene = s;\n\t\tthis.bulletManager = bm;\n\t\tthis.raderColor = rc;\n\t}\n\n\tcreate(build, position, quaternion, group, delay, targetProgress) {\n\t\tif (typeof build === \"string\") build = {name: build};\n\t\tif (targetProgress) {\n\t\t\tconst checkForProgress = e => {\n\t\t\t\tif (this.scene.progress > targetProgress) {\n\t\t\t\t\tthis.create(name, properties, group, delay);\n\t\t\t\t\tthis.removeEventListener('update', checkForProgress);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addEventListener('update', checkForProgress);\n\t\t} else if (delay) window.setTimeout(() => this.create(name, properties), delay);\n\t\telse {\n\t\t\tthis.spawncount++;\n\t\t\tconst unit = THREE_Utils.deepclone(getUnit(build.name).mesh, false, true);\n\t\t\tObject.assign(unit, getUnit(build.name).properties, build.properties);\n\t\t\tif (position) unit.position.copy(position);\n\t\t\tif (quaternion) unit.quaternion.copy(quaternion);\n\t\t\tif (!unit.hp) unit.hp = unit.maxhp;\n\t\t\tif (!unit.energy) unit.energy = unit.maxenergy;\n\t\t\tunit.allies = this;\n\t\t\tunit.opponents = this.opponents;\n\t\t\tunit.scene = this.scene;\n\t\t\tif (group) {\n\t\t\t\tunit.group = group;\n\t\t\t\tgroup.size++;\n\t\t\t}\n\t\t\tif (unit.init) unit.init();\n\t\t\tthis.scene.threeScene.add(unit);\n\t\t\tthis.elements.push(unit);\n\t\t\tthis.scene.minimap.addObject(unit, unit.isPlayer ? new SymmetricTriangle({\n\t\t\t\tfillColor: 'hsl(0, 50%, 70%)', strokeColor: 'black', opacity: 0.5,\n\t\t\t\tstrokeWidth: 1, rotation: Math.PI, width: 5, height: 8\n\t\t\t}) : {fillColor: this.raderColor}).visible = !unit.stealth;\n\t\t\treturn unit;\n\t\t}\n\t}\n\n\tcreateMulti(build, position, quaternion, autospawn, km) {\n\t\tif (typeof build === \"string\") build = {name: build};\n\t\tautospawn = Object.assign(getUnit(build.name).autospawn, autospawn);\n\t\tconst group = {size: 0, message: km};\n\t\tthis.groups.push(group);\n\t\tconst pos = get(Vector3).copy(position);\n\t\tfor(let i = 0; i < autospawn.rep; i++) {\n\t\t\tthis.create(build, pos, quaternion, group, autospawn.time, autospawn.progress);\n\t\t\tif (autospawn.delay) {autospawn.time += autospawn.delay;}\n\t\t\t//THREE.$add(properties, autospawn.options);\n\t\t\tpos.x += Math.random() * autospawn.random.x * 2 - autospawn.random.x;\n\t\t\tpos.y += Math.random() * autospawn.random.y * 2 - autospawn.random.y;\n\t\t\tpos.z += Math.random() * autospawn.random.z * 2 - autospawn.random.z;\n\t\t}\n\t\tfree(pos);\n\t}\n\n\tupdate(delta) {\n\t\tthis.dispatchEvent({type: \"update\"});\n\t\tthis.forEach((unit, i) => {\n\t\t\tthis.opponents.bulletManager.hitTest(unit);\n\t\t\tif (unit.despawn) {\n\t\t\t\tthis.remove(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (unit.hp <= 0) {\n\t\t\t\tthis.kill(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tunit.time += delta;\n\t\t\tthis.scene.minimap.getObject(unit).visible = !unit.stealth;\n\t\t});\n\t}\n\n\tremove(i) {\n\t\tconst unit = this.get(i);\n\t\tif (unit.group) {\n\t\t\tunit.group.size--;\n\t\t\tif (unit.group.size === 0 && unit.group.message) {\n\t\t\t\tconst text = unit.group.message.text;\n\t\t\t\tif (unit.group.message.offkill) this.scene.message.text = '';\n\t\t\t\tif (text !== '') {\n\t\t\t\t\tthis.on('frame' + (this.scene.frame + (unit.group.message.time - 5)), () =>\tthis.scene.message.text = '');\n\t\t\t\t\tthis.on('frame' + (this.scene.frame + unit.group.message.time), () =>\tthis.scene.message.text = text);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tunit.parent.remove(unit);\n\t\tTHREE_Utils.applyToAllMaterials(unit.material, m => m.dispose());\n\t\tsuper.remove(i);\n\t\tthis.scene.minimap.removeObject(unit);\n\t}\n\n\tkill(i) {\n\t\tconst unit = this.get(i);\n\t\tthis.scene.effectManager.explode(unit.position, unit.size, unit.explodeTime);\n\t\tthis.deathcount++;\n\t\tthis.remove(i);\n\t}\n\n\tbeam(position, quaternion, atk, exps, expt, radius, effect) {\n\t\tconst vec = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(quaternion).normalize();\n\n\t\t// 距離で並べかえる\n\t\tthis.opponents.elements.sort((a, b) => {\n\t\t\tposition.distanceToSquared(a.position) - position.distanceToSquared(b.position);\n\t\t});\n\n\t\tlet hit;\n\n\t\tif (radius === 0) {\n\t\t\tconst raycaster = get(Raycaster);\n\t\t\traycaster.set(position, vec);\n\t\t\tthis.opponents.elements.forEach(enemy => hit = raycaster.intersectObject(enemy).first);\n\t\t} else {\n\t\t\tconst projectionMatrix = get(Matrix4).makeOrthographic(-radius, radius, radius, -radius, 0, 10000);\n\t\t\tconst viewMatrix = get(Matrix4).getInverse(this.matrixWorld);\n\t\t\tconst canvas = phina.graphics.Canvas().setSize(radius * 2, radius * 2);\n\n\t\t\tfunction matrix4ToString(mat) {\n\t\t\t\tlet str = \"\";\n\t\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\t\tstr += \"| \";\n\t\t\t\t\tfor (let j = 0; j < 4; j++) str += mat.elements[i + j * 4] + \" \";\n\t\t\t\t\tstr += \"|\\n\";\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\n\t\t\tconst position = get(Vector3);\n\t\t\tconst mvpMatrix = get(Matrix4);\n\t\t\tconst tmpColor = get(Color);\n\t\t\tthis.opponents.elements.forEach((enemy, index) => {\n\t\t\t\tmvpMatrix.copy(projectionMatrix).multiply(viewMatrix).multiply(enemy.matrixWorld);\n\n\t\t\t\tposition.copy(enemy.geometry.boundingSphere.center).applyMatrix4(mvpMatrix);\n\t\t\t\tconsole.log(enemy.geometry.boundingSphere.center, matrix4ToString(mvpMatrix), position.z)\n\n\t\t\t\tif (position.z > 0) {\n\t\t\t\t\tconsole.log(position.x, position.y, enemy.geometry.boundingSphere.radius)\n\t\t\t\t\tcanvas.fillStyle = tmpColor.set(index + 1).getStyle();\n\t\t\t\t\tcanvas.fillCircle(position.x + radius, position.y + radius, enemy.geometry.boundingSphere.radius);\n\t\t\t\t}\n\t\t\t});\n\t\t\tfree(position, mvpMatrix, tmpColor, projectionMatrix, viewMatrix);\n\n\t\t\tconst data = canvas.context.getImageData(0, 0, radius * 2 * window.devicePixelRatio, radius * 2 * window.devicePixelRatio).data;\n\t\t\tfor (let i = 0; i < data.length; i += 4) {\n\t\t\t\tconst index = data[i] << 16 + data[i + 1] << 8 + data[i + 2];\n\t\t\t\tif (index !== 0) console.log(index);\n\t\t\t}\n\t\t}\n\t\tif (hit) {\n\t\t\tthis.scene.effectManager.hit(hit.point, exps, expt);\n\t\t\thit.object.hp -= this.getDamage(atk) / this.scene.difficulty;\n\t\t}\n\t\tfree(vec);\n\t}\n}\n\nconst loadedunit = {};\n\nfunction setQuaternionFromDirectionVector(q, v) {\n\tconst axis = get(Vector3).copy(THREE_Utils.Axis.z).cross(v).normalize();\n\tconst retquaternion = q.setFromAxisAngle(axis, Math.acos(THREE_Utils.Axis.z.dot(v)));\n\tfree(axis);\n\treturn retquaternion;\n}\n\nexport const units = {\n\tplayer1: {\n\t\tfilename: 'fighter-1',\n\t\tmaxCost: 1500,\n\t\tproperties: {\n\t\t\tpitch: 0, yaw: 0, v: 0.17,\n\t\t\tmaxenergy: 2000, maxhp: 100, speed: 0.001, minspeed: 0.17, rotspeed: 1, weight: 100, hitSphere: 5,\n\t\t\tisPlayer: true, excludeFromHitTest: true, explodeTime: 1000,\n\t\t\tinit() {\n\t\t\t\tthis.myrot = {x: 0, y: 0, z1: 0, z2: 0};\n\t\t\t\tthis.av = new Vector3();\n\t\t\t\tthis.raycaster = new Raycaster();\n\t\t\t\tthis.targetingPosition = new Vector3();\n\t\t\t},\n\t\t\tupdate(delta) {\n\t\t\t\tconst reverse = this.myrot.z2 > Math.PI / 2;\n\t\t\t\tconst maxrot = (0.0017 - this.v * 0.001) * this.rotspeed;\n\n\t\t\t\tif (Math.abs(this.myrot.x) > Math.PI / 2) this.myrot.z2 += (Math.PI - this.myrot.z2) * (1 - 0.95 ** delta);\n\t\t\t\telse this.myrot.z2 *= 0.95 ** delta;\n\n\t\t\t\tthis.targetingPosition.set(mouseX / vw * 2 - 1, -mouseY / vh * 2 + 1, 0).unproject(this.scene.camerabeforescreenshake);\n\t\t\t\tconst targetingDirection = get(Vector3).copy(this.targetingPosition).sub(this.scene.camerabeforescreenshake.position).normalize();\n\t\t\t\tconst targetingRay = get(Ray).set(this.scene.camerabeforescreenshake.position, targetingDirection);\n\t\t\t\tfree(targetingDirection);\n\n\t\t\t\tlet targetingEnemy, targetingEnemyPosition;\n\t\t\t\tif (this.opponents.elements.length !== 0) {\n\t\t\t\t\tconst enemyPosition = get(Vector3);\n\t\t\t\t\t// Select targeting enemy\n\t\t\t\t\t({enm: targetingEnemy, pos: targetingEnemyPosition} = this.opponents.elements.reduce((o, enm) => {\n\t\t\t\t\t\tenemyPosition.copy(enm.position).add(enm.geometry.boundingSphere.center);\n\t\t\t\t\t\tlet targetingPriority = targetingRay.distanceToPoint(enemyPosition);\n\t\t\t\t\t\tif (targetingPriority > Math.max(enm.geometry.boundingSphere.radius * enm.scale.x * 3, 20)) return o;\n\t\t\t\t\t\tif (targetingPriority < o.d) {\n\t\t\t\t\t\t\to.d = targetingPriority;\n\t\t\t\t\t\t\to.enm = enm;\n\t\t\t\t\t\t\to.pos.copy(enemyPosition);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}, {d: Infinity, enm: null, pos: get(Vector3)}));\n\t\t\t\t\tfree(enemyPosition);\n\t\t\t\t}\n\t\t\t\tif (targetingEnemy) this.targetingPosition.copy(targetingEnemyPosition);\n\t\t\t\telse {\n\t\t\t\t\tconst plane = get(Plane).set(THREE_Utils.Axis.y, -this.position.y);\n\t\t\t\t\ttargetingRay.intersectPlane(plane, this.targetingPosition);\n\t\t\t\t\tfree(plane);\n\t\t\t\t}\n\t\t\t\tif (this.opponents.elements.length !== 0) free(targetingEnemyPosition);\n\t\t\t\t// targetingRay.closestPointToPoint(this.position, targetingPosition);\n\n\t\t\t\tconst pos = get(Vector3).copy(this.targetingPosition).project(this.scene.camera);\n\t\t\t\tthis.targetMarker.position.set(pos.x * vw / 2, pos.y * vh / 2, 0);\n\t\t\t\tfree(pos);\n\t\t\t\tthis.targetMarker.strokeColor = this.mode === 'back' ? \"#a44\" : \"#444\";\n\n\t\t\t\tif (this.position.y < 100) {\n\t\t\t\t\tif (reverse) {\n\t\t\t\t\t\tthis.pitch += maxrot * (this.mode === 'back' ? 2 : 1 - (this.myrot.x + (this.myrot.x > 0 ? -Math.PI : Math.PI)) / 1.6) * delta;\n\t\t\t\t\t} else this.pitch -= maxrot * (this.mode === 'back' ? 2 : -this.myrot.x / 1.6) * delta;\n\t\t\t\t} else {\n\t\t\t\t\tconst d = get(Vector3).copy(this.targetingPosition).sub(this.position);\n\t\t\t\t\tthis.scene.debug('player.targetingPosition', THREE_Utils.toString(d));\n\t\t\t\t\tconst b = (this.mode === 'back') !== reverse ? -1 : 1;\n\t\t\t\t\tconst pitch = normalizeAngle(Math.atan2(-d.y, Math.sqrt(d.x * d.x + d.z * d.z) * b) - this.myrot.x - this.pitch);\n\t\t\t\t\tconst yaw = normalizeAngle(Math.atan2(d.x, d.z) * b + Math.PI - this.myrot.y);\n\t\t\t\t\tfree(d);\n\t\t\t\t\tthis.pitch += Math.min(Math.max(pitch * 1.5, -maxrot), maxrot) * delta;\n\t\t\t\t\tthis.yaw += Math.min(Math.max(yaw * 1.5, -maxrot), maxrot) * delta;\n\t\t\t\t}\n\n\t\t\t\tfree(targetingRay);\n\n\t\t\t\tconst direction = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(this.quaternion).normalize();\n\n\t\t\t\t/*if (this.targetingEnemy && !this.targetingEnemy.parent) {\n\t\t\t\t\tthis.way = null;\n\t\t\t\t\tthis.targetingEnemy = null;\n\t\t\t\t}\n\n\t\t\t\tlet rot = normalizeAngle(\n\t\t\t\t\tMath.atan2(mouseY - 0.5 * vh, mouseX - 0.5 * vw) +\n\t\t\t\t\tthis.myrot.y - this.yaw + (reverse ? Math.PI * 1.5 : Math.PI / 2)\n\t\t\t\t);\n\n\t\t\t\tif (Math.abs(rot) > 2.5) this.mode = 'back';\n\t\t\t\telse {\n\t\t\t\t\tif (this.mode === 'back') this.mode = null;\n\t\t\t\t\trot = Math.min(Math.max(rot * 0.003, -maxrot), maxrot);\n\t\t\t\t\tthis.myrot.z1 += rot * 0.3 * delta;\n\t\t\t\t\tthis.yaw += rot * delta;\n\t\t\t\t}\n\n\t\t\t\tthis.targetingEnemy = targetingEnemy;\n\t\t\t\tif (targetingEnemy) {\n\t\t\t\t\tthis.targetMarker.visible = true;\n\t\t\t\t\tconst pos = get(Vector3).copy(targetingEnemy.position).project(this.scene.camera);\n\t\t\t\t\tthis.targetMarker.position.set(pos.x * vw / 2, pos.y * vh / 2, 0);\n\t\t\t\t\tfree(pos);\n\t\t\t\t\tthis.targetMarker.strokeColor = this.mode === 'back' ? \"#a44\" : \"#444\";\n\t\t\t\t} else this.targetMarker.visible = false;\n\n\n\t\t\t\tif (this.position.y < 100 || this.way === 'up') {\n\t\t\t\t\tif (reverse) {\n\t\t\t\t\t\tthis.pitch += maxrot * (this.mode === 'back' ? 2 : 1 - (this.myrot.x + (this.myrot.x > 0 ? -Math.PI : Math.PI)) / 1.6) * delta;\n\t\t\t\t\t} else this.pitch -= maxrot * (this.mode === 'back' ? 2 : -this.myrot.x / 1.6) * delta;\n\t\t\t\t} else if (this.way === 'down') {\n\t\t\t\t\tif (reverse) {\n\t\t\t\t\t\tthis.pitch -= maxrot * (this.mode === 'back' ? 2 : 1 + (this.myrot.x + (this.myrot.x > 0 ? -Math.PI : Math.PI)) / 1.6) * delta;\n\t\t\t\t\t} else this.pitch += maxrot * (this.mode === 'back' ? 2 : this.myrot.x / 1.6) * delta;\n\t\t\t\t}*/\n\n\t\t\t\t// Move and rotate\n\t\t\t\tthis.myrot.x += this.pitch * 0.004 * delta;\n\t\t\t\tthis.myrot.y -= this.yaw * 0.004 * delta;\n\t\t\t\tthis.myrot.x = normalizeAngle(this.myrot.x);\n\t\t\t\tthis.myrot.y = normalizeAngle(this.myrot.y);\n\t\t\t\tthis.applyRotation();\n\n\t\t\t\tthis.scene.debug('player.quaternion', THREE_Utils.toString(this.quaternion));\n\n\t\t\t\tconst speed = this.speed * Math.min(this.targetingPosition.distanceTo(this.position) / 1000, 1) * delta;\n\n\t\t\t\tthis.consumeEnergy(speed * 3, () => { // Speed up\n\t\t\t\t\tif (this.scene.space) this.av.addScaledVector(direction, speed);\n\t\t\t\t\telse this.v += speed;\n\t\t\t\t});\n\n\t\t\t\tif (!this.scene.space) {\n\t\t\t\t\tthis.position.addScaledVector(direction, this.v * delta);\n\t\t\t\t\tthis.scene.shakeScreen((this.v - this.minspeed) * 1.5);\n\t\t\t\t}\n\t\t\t\tthis.position.addScaledVector(this.av, delta);\n\n\t\t\t\tfree(direction);\n\n\t\t\t\tthis.myrot.z1 *= 0.995 ** delta;\n\n\t\t\t\tthis.yaw *= (0.995 - (Math.PI / 2 - Math.abs(Math.abs(this.myrot.x) - Math.PI / 2)) * 0.01) ** delta;\n\t\t\t\tthis.pitch *= 0.99 ** delta;\n\n\t\t\t\t// Speed loss\n\t\t\t\tif (this.scene.space) this.av.multiplyScalar(0.9996 ** delta);\n\t\t\t\telse {\n\t\t\t\t\tthis.v *= (0.999 - (this.pitch + this.yaw) * 0.003) ** delta;\n\t\t\t\t\tif (this.v < this.minspeed) this.v = this.minspeed;\n\t\t\t\t\tthis.av.multiplyScalar(0.998 ** delta);\n\t\t\t\t}\n\n\t\t\t\tif (this.primary) {\n\t\t\t\t\tif (this.primary.getType() === 'active') {\n\t\t\t\t\t\tif (keys.Space) this.primary.activate();\n\t\t\t\t\t} else this.primary.active = keys.Space;\n\t\t\t\t}\n\t\t\t\tthis.sub.forEach(sub => {\n\t\t\t\t\tif (sub.getType() === 'toggle' && !sub.active) return;\n\t\t\t\t\tsub.update(delta);\n\t\t\t\t});\n\n\t\t\t\tif (keyDown.KeyZ) this.sub.some(sub => {\n\t\t\t\t\tif (sub.type === 'active' && sub !== this.primary) return sub.activate();\n\t\t\t\t});\n\n\t\t\t\tthis.energy = Math.min(this.energy + 2 * delta, this.maxenergy);\n\t\t\t\tthis.scene.gauge_h.value = this.hp;\n\n\t\t\t\tthis.scene.windManager.forEach(wind => {\n\t\t\t\t\tconst radius = 15 + wind.size;\n\t\t\t\t\tif (Math.sqrt(this.position.x * wind.position.x + this.position.z * wind.position.y) <= radius) this.av.y += wind.v / 2;\n\t\t\t\t});\n\t\t\t\t// hit vs enemy\n\t\t\t\tconst t = get(Vector3);\n\t\t\t\tconst v = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(this.quaternion);\n\t\t\t\tconst p = get(Vector3).copy(this.position)\n\t\t\t\t\t.addScaledVector(v, -this.geometry.boundingBox.min.z + this.geometry.boundingBox.max.x);\n\t\t\t\tv.multiplyScalar(this.geometry.boundingBox.getSize(t).z - this.geometry.boundingBox.getSize(t).x);\n\t\t\t\tconst enemyPosition = get(Vector3);\n\t\t\t\tthis.opponents.elements.forEach(enemy => {\n\t\t\t\t\tenemyPosition.copy(enemy.position).add(enemy.geometry.boundingSphere.center);\n\t\t\t\t\tif (testCupsuleSphere(p, v, enemyPosition,\n\t\t\t\t\t\tthis.geometry.boundingBox.max.x + enemy.geometry.boundingSphere.radius * enemy.scale.x)) {\n\t\t\t\t\t\tthis.scene.shakeScreen(this.v);\n\t\t\t\t\t\tthis.hp -= Math.min(enemy.hp, 2.5) * enemy.sharpness / this.armor;\n\t\t\t\t\t\tif (enemy.size < 15) {\n\t\t\t\t\t\t\tthis.scene.score -= 1;\n\t\t\t\t\t\t\tthis.v /= 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tenemy.hp -= this.v * this.sharpness / enemy.armor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfree(v, p, t, enemyPosition);\n\t\t\t\t// hit vs obstacle\n\t\t\t\tthis.scene.obstacleManager.forEach(obstacle => {\n\t\t\t\t\tif (testOBBSphere(obstacle.position, this.position, obstacle.size, obstacle.quaternion, this.geometry.boundingBox.max.x)) this.hp = 0;\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetDamage(rawdmg) {\n\t\t\t\treturn rawdmg;\n\t\t\t},\n\t\t\tconsumeEnergy(amount, f, defaultreturn) {\n\t\t\t\tif (this.energy >= amount) {\n\t\t\t\t\tthis.energy -= amount;\n\t\t\t\t\treturn f.call(this);\n\t\t\t\t}\n\t\t\t\treturn defaultreturn;\n\t\t\t},\n\t\t\tapplyRotation() {\n\t\t\t\tthis.quaternion.set(0, 0, 0, 1);\n\t\t\t\t// The order is important, even with quaternion.\n\t\t\t\tthis.rotateY(this.myrot.y);\n\t\t\t\tthis.rotateX(this.myrot.x);\n\t\t\t\tthis.rotateZ(this.myrot.z1 + this.myrot.z2);\n\t\t\t}\n\t\t}\n\t},\n\tenem1: {\n\t\tfilename: 'enem-1',\n\t\tproperties: {\n\t\t\tv: 0.02, chase: 0, firerate: 100, mindist: 0, aim: false, weight: 16, c: new Quaternion(),\n\t\t\tupdate(delta) {\n\t\t\t\tthis.quaternion.premultiply(this.c);\n\n\t\t\t\tlet quaternionToTarget;\n\t\t\t\tlet vecToTarget;\n\t\t\t\tif (this.scene.player) {\n\t\t\t\t\tvecToTarget = get(Vector3).subVectors(this.scene.player.position, this.position);\n\t\t\t\t\tconst directionVectorToTarget = get(Vector3).copy(vecToTarget).normalize();\n\t\t\t\t\tquaternionToTarget = setQuaternionFromDirectionVector(get(Quaternion), directionVectorToTarget);\n\t\t\t\t\tfree(directionVectorToTarget);\n\t\t\t\t}\n\n\t\t\t\tconst currentDirection = get(Vector3).copy(THREE_Utils.Axis.z);\n\t\t\t\tif (this.scene.player && this.chase !== 0 && !this.scene.player.position.equals(this.position)) {\n\t\t\t\t\tconst spd = this.v * (this.mindist !== 0 ? Math.clamp((vecToTarget.length() - this.mindist) * 2 / this.mindist, -1, 1) : 1);\n\t\t\t\t\tthis.quaternion.slerp(quaternionToTarget, 1 - this.chase ** delta);\n\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t\tthis.position.addScaledVector(currentDirection, spd * delta);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t\tthis.position.addScaledVector(currentDirection, this.v * delta);\n\t\t\t\t}\n\t\t\t\tfree(currentDirection);\n\t\t\t\tif (vecToTarget) free(vecToTarget);\n\t\t\t\tif (this.time % this.firerate === 0) {\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', this.position,\n\t\t\t\t\t\tthis.aim && quaternionToTarget ? quaternionToTarget : this.quaternion,\n\t\t\t\t\t\t{v: 0.12, atk: 7}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (quaternionToTarget) free(quaternionToTarget);\n\t\t\t}\n\t\t},\n\t\tbuilds: [\n\t\t\t{value: 1},\n\t\t\t{value: 2, properties: {aim: true}},\n\t\t\t{value: 2, properties: {chase: 0.002}}\n\t\t]\n\t},\n\tenem2: {\n\t\tfilename: 'fighter-2',\n\t\tproperties: {\n\t\t\thp: 75, v: 0.17, size: 15, chase: 0.0014, sharpness: 2, firerate: 15, explodeTime: 900, weight: 100,\n\t\t\tupdate(delta) {\n\t\t\t\tconst currentDirection = get(Vector3).copy(THREE_Utils.Axis.z);\n\t\t\t\tif (this.scene.player && !this.scene.player.position.equals(this.position)) {\n\t\t\t\t\tconst directionVectorToTarget = get(Vector3)\n\t\t\t\t\t\t.subVectors(this.scene.player.position, this.position).normalize();\n\t\t\t\t\tconst quaternionToTarget = setQuaternionFromDirectionVector(get(Quaternion), directionVectorToTarget);\n\t\t\t\t\tthis.quaternion.slerp(quaternionToTarget, 1 - this.chase ** delta);\n\t\t\t\t\tfree(quaternionToTarget, directionVectorToTarget);\n\n\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t} else currentDirection.applyQuaternion(this.quaternion);\n\n\t\t\t\tthis.position.addScaledVector(currentDirection, this.v * delta);\n\n\t\t\t\tif (this.time % this.firerate === 0) {\n\t\t\t\t\tconst v = get(Vector3).copy(this.position)\n\t\t\t\t\t\t.addScaledVector(currentDirection, this.geometry.boundingBox.max.z);\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', v, this.quaternion,\n\t\t\t\t\t\t{v: 0.2, size: 1.5, atk: 10}\n\t\t\t\t\t);\n\t\t\t\t\tfree(v);\n\t\t\t\t}\n\t\t\t\tfree(currentDirection);\n\t\t\t}\n\t\t},\n\t\tbuilds: [\n\t\t\t{value: 10}\n\t\t]\n\t},\n\tenem3: {\n\t\tfilename: 'enem-2',\n\t\tproperties: {\n\t\t\thp: 500, v: 0.008, size: 30, firerate: 1, r: 0.001, explodeTime: 900, weight: 250, c: new Quaternion(),\n\t\t\tinit() {\n\t\t\t\tthis.scale.setScalar(3);\n\t\t\t},\n\t\t\tupdate(delta) {\n\t\t\t\tthis.quaternion.premultiply(this.c);\n\t\t\t\tthis.rotateZ(this.r * delta);\n\t\t\t\tconst dir = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(this.quaternion);\n\t\t\t\tthis.position.addScaledVector(dir, this.v * delta);\n\t\t\t\tfree(dir);\n\t\t\t\tif (this.time % this.firerate === 0) {\n\t\t\t\t\tconst q = get(Quaternion).copy(this.quaternion);\n\t\t\t\t\tTHREE_Utils.rotateX(q,\n\t\t\t\t\t\t0.1 + (Math.PI - 0.1) * (this.time % (this.firerate * 8) / this.firerate / 8) / 20 * (Math.random() + 9));\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', this.position, q, {v: 0.12, size: 0.5, atk: 5});\n\t\t\t\t\tfree(q);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tbuilds: [\n\t\t\t{value: 14}\n\t\t]\n\t},\n\tairballoon: {\n\t\tfilename: 'airballoon',\n\t\tproperties: {\n\t\t\thp: 1000, v: 0.007, size: 40, firerate1: 18, firerate2: 33, explodeTime: 1200, weight: 75,\n\t\t\tinit() {\n\t\t\t\tthis.scale.setScalar(2);\n\t\t\t},\n\t\t\tupdate(delta) {\n\t\t\t\tconst dir = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(this.quaternion).normalize();\n\t\t\t\tthis.position.addScaledVector(dir, this.v * delta);\n\t\t\t\tfree(dir);\n\t\t\t\tconst tmpVector = get(Vector3);\n\t\t\t\tconst tmpQuaternion = get(Quaternion);\n\t\t\t\tif (this.time % this.firerate1 === 0) {\n\t\t\t\t\tconst params = {v: 0.1, size: 2.5, atk: 15};\n\t\t\t\t\tthis.allies.bulletManager.create('bullet',\n\t\t\t\t\t\ttmpVector.set(7, 0, -24).add(this.position), this.quaternion, params);\n\t\t\t\t\ttmpVector.x -= 14;\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', tmpVector, this.quaternion, params);\n\t\t\t\t}\n\t\t\t\tif (this.time % this.firerate2 === 0) {\n\t\t\t\t\tconst params = {v: 0.1, size: 2.5, atk: 15};\n\t\t\t\t\tthis.allies.bulletManager.create('bullet',\n\t\t\t\t\t\ttmpVector.set(10, -10, -20).add(this.position), this.quaternion, params);\n\t\t\t\t\ttmpVector.x -= 20;\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', tmpVector, this.quaternion, params);\n\t\t\t\t}\n\t\t\t\tif (this.time % this.firerate1 === 9) {\n\t\t\t\t\tconst params = {v: 0.1, size: 2.5, atk: 15};\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion.copy(this.quaternion), 1);\n\t\t\t\t\tthis.allies.bulletManager.create('bullet',\n\t\t\t\t\t\ttmpVector.set(10, 0, -10).add(this.position), tmpQuaternion, params);\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion, -2);\n\t\t\t\t\ttmpVector.x -= 20;\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', tmpVector, tmpQuaternion, params);\n\t\t\t\t}\n\t\t\t\tif (this.time % this.firerate2 === 11) {\n\t\t\t\t\tconst params = {v: 0.1, size: 2.5, atk: 15};\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion.copy(this.quaternion), Math.PI / 2);\n\t\t\t\t\tthis.allies.bulletManager.create('bullet',\n\t\t\t\t\t\ttmpVector.set(10, 0, 0).add(this.position), tmpQuaternion, params);\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion, -Math.PI);\n\t\t\t\t\ttmpVector.x -= 20;\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', tmpVector, tmpQuaternion, params);\n\t\t\t\t}\n\t\t\t\tif (this.time % this.firerate2 === 22) {\n\t\t\t\t\tconst params = {v: 0.1, size: 2.5, atk: 15};\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion.copy(this.quaternion), 3);\n\t\t\t\t\tthis.allies.bulletManager.create('bullet',\n\t\t\t\t\t\ttmpVector.set(10, 0, 20).add(this.position), tmpQuaternion, params);\n\t\t\t\t\tTHREE_Utils.rotateY(tmpQuaternion, -6);\n\t\t\t\t\ttmpVector.x -= 20;\n\t\t\t\t\tthis.allies.bulletManager.create('bullet', tmpVector, tmpQuaternion, params);\n\t\t\t\t}\n\t\t\t\tfree(tmpVector, tmpQuaternion);\n\t\t\t}\n\t\t},\n\t\tbuilds: [\n\t\t\t{value: 8}\n\t\t]\n\t},\n\tblademinion: {\n\t\tfilename: 'slicer',\n\t\tproperties: {\n\t\t\thp: 50, chase: 0.0024, v: 0.25, sharpness: 3, size: 5, explodeTime: 800, stealth: true, weight: 25,\n\t\t\tinit() {\n\t\t\t\tthis.scale.setScalar(7);\n\t\t\t},\n\t\t\tupdate(delta) {\n\t\t\t\tif (this.active) {\n\t\t\t\t\tif (this.target.hp <= 0 || !this.target.parent) {\n\t\t\t\t\t\tif (this.target === this.base.user) {\n\t\t\t\t\t\t\tthis.despawn = true;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.target = this.base.user;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.target === this.base.user && this.target.position.clone().sub(this.position).length() < this.v) {\n\t\t\t\t\t\tthis.active = false;\n\t\t\t\t\t\tthis.base.cooldown = 75;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.target.position.equals(this.position) && this.chase !== 0) {\n\t\t\t\t\t\tconst directionToTarget = get(Vector3).subVectors(this.target.position, this.position).normalize();\n\t\t\t\t\t\tconst quaternionToTarget = setQuaternionFromDirectionVector(get(Quaternion), directionToTarget);\n\t\t\t\t\t\tthis.quaternion.slerp(quaternionToTarget, 1 - this.chase ** delta);\n\t\t\t\t\t\tfree(quaternionToTarget, directionToTarget);\n\t\t\t\t\t}\n\t\t\t\t\tconst currentDirection = get(Vector3).copy(THREE_Utils.Axis.z).applyQuaternion(this.quaternion);\n\t\t\t\t\tthis.position.addScaledVector(currentDirection, this.v * delta);\n\t\t\t\t\tfree(currentDirection);\n\t\t\t\t} else {\n\t\t\t\t\tthis.hp = Math.min(this.hp + 0.01 * delta, 50);\n\t\t\t\t\tif (this.base.user.hp <= 0) this.hp = 0;\n\t\t\t\t\tthis.position.copy(this.base.user.position);\n\t\t\t\t\tthis.quaternion.copy(this.base.user.quaternion);\n\t\t\t\t}\n\t\t\t\tthis.stealth = !this.active;\n\t\t\t},\n\t\t\tinit() {\n\t\t\t\tthis.addEventListener('targetAttacked', () => {\n\t\t\t\t\tthis.target = this.base.user;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tassaultdrone: {\n\t\tfilename: 'assault',\n\t\tproperties: {\n\t\t\thp: 10, chase: 0.0024, v: 0.2, bv: 0.24, atk: 8, sharpness: 1.4, firerate: 28, size: 5, weight: 16,\n\t\t\tmindist: 50, explodeTime: 600, expire: Infinity,\n\t\t\tupdate(delta) {\n\t\t\t\tthis.expire -= delta;\n\t\t\t\tif (this.expire <= 0) {\n\t\t\t\t\tthis.despawn = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst currentDirection = get(Vector3).copy(THREE_Utils.Axis.z);\n\t\t\t\tif (!this.target || this.target.hp <= 0 || !this.target.parent) {\n\t\t\t\t\tif (this.opponents.elements.length !== 0) {\n\t\t\t\t\t\tthis.target = this.opponents.elements.reduce((o, enm) => {\n\t\t\t\t\t\t\tconst d = enm.position.distanceTo(this.position);\n\t\t\t\t\t\t\treturn d < o.d ? {d: d, enm: enm} : o;\n\t\t\t\t\t\t}, {d: Infinity, enm: null}).enm;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.target) {\n\t\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t\t\tthis.position.addScaledVector(currentDirection, this.v * delta);\n\t\t\t\t\t\tfree(currentDirection);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.target.position.equals(this.position) && this.chase !== 0) {\n\t\t\t\t\tconst vectorToTarget = get(Vector3).subVectors(this.target.position, this.position).normalize();\n\t\t\t\t\tconst spd = this.v * (this.mindist !== 0 ? Math.clamp((vectorToTarget.length() - this.mindist) * 2 / this.mindist, -1, 1) : 1);\n\t\t\t\t\tconst quaternionToTarget = setQuaternionFromDirectionVector(get(Quaternion), vectorToTarget);\n\t\t\t\t\tthis.quaternion.slerp(quaternionToTarget, 1 - this.chase ** delta);\n\t\t\t\t\tfree(quaternionToTarget, vectorToTarget);\n\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t\tthis.position.addScaledVector(currentDirection, spd * delta);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentDirection.applyQuaternion(this.quaternion);\n\t\t\t\t\tthis.position.addScaledVector(currentDirection, this.v * delta);\n\t\t\t\t}\n\t\t\t\tif (this.time % this.firerate === 0) {\n\t\t\t\t\tconst v = get(Vector3).copy(this.position).addScaledVector(currentDirection, this.geometry.boundingBox.max.z);\n\t\t\t\t\tconst bullet = this.allies.bulletManager.createBullet('bullet', v, this.quaternion,\n\t\t\t\t\t\t{v: this.bv, atk: this.atk});\n\t\t\t\t\tfree(v);\n\t\t\t\t}\n\t\t\t\tfree(currentDirection);\n\t\t\t}\n\t\t}\n\t}\n};\n\nfunction getUnit(name) {\n\tif (!loadedunit[name]) {\n\t\tloadedunit[name] = {\n\t\t\tmesh: assets.THREE_Model_GLTF[name],\n\t\t\tproperties: Object.assign({\n\t\t\t\tmaxhp: 5, maxenergy: 100, armor: 1, size: 1, v: 0, time: 0, sharpness: 1, update: () => {}\n\t\t\t}, units[name].properties),\n\t\t\tautospawn: {rep: 1, options: {}}\n\t\t};\n\t\tif (!loadedunit[name].mesh) throw new Error(`Mesh ${name} not found`);\n\t\tloadedunit[name].mesh.geometry.computeBoundingBox();\n\t\tloadedunit[name].mesh.geometry.computeBoundingSphere();\n\t}\n\treturn loadedunit[name];\n}\nconst unitnames = Object.keys(units);\nunitnames.forEach(name => addFile('THREE_Model_GLTF', name, `data/models/${units[name].filename}.glb`));\nexport const builds = unitnames.filter(name => units[name].builds)\n\t.flatMap(name => units[name].builds.map(build => Object.assign({name: name}, build)));\n","import {\n\tMesh, Group,\n\tIcosahedronGeometry, SphereGeometry, CylinderGeometry,\n\tShaderMaterial, MeshBasicMaterial,\n\tQuaternion, Color,\n\tFrontSide\n} from \"three\";\n\nimport ElementManager from \"./elementmanager\";\nimport assets from \"w3g/loading\";\nimport {Axis} from \"w3g/threeutil\";\n\nexport default class EffectManager extends ElementManager {\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.hitEffectManager = new HitEffectManager(ts);\n\t\tthis.explodeManager = new ExplodeManager(ts);\n\t\tthis.rayManager = new RayManager(ts);\n\t}\n\n\tupdate(delta) {\n\t\tthis.hitEffectManager.update(delta);\n\t\tthis.explodeManager.update(delta);\n\t\tthis.rayManager.update(delta);\n\t}\n\n\thit(p, s, t) {return this.hitEffectManager.generate(p, s, t);}\n\texplode(p, s, t) {return this.explodeManager.explode(p, s, t);}\n\tray(g, c, o, w, mw, t) {return this.rayManager.ray(g, c, o, w, mw, t);}\n\n\tstatic requiredResources = {\n\t\tTHREE_Texture: {explode: \"data/images/explosion.png\"},\n\t\tGLSL: [\n\t\t\t'glowFragment',\n\t\t\t{\n\t\t\t\tnoisyGlowVertex: \"data/glsl/noisyglowvertex.min.glsl\",\n\t\t\t\texplodeVertex: \"data/glsl/expvertex.min.glsl\",\n\t\t\t\texplodeFragment: \"data/glsl/expfrag.min.glsl\"\n\t\t\t}\n\t\t]\n\t};\n}\n\nconst icosahedronsphere = new IcosahedronGeometry(20, 2);\n\nclass HitEffectManager extends ElementManager {\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.threescene = ts;\n\t}\n\n\tgenerate(p, s, t) {\n\t\tconst material = new ShaderMaterial({\n\t\t\ttransparent: true,\n\t\t\tside: FrontSide,\n\t\t\tuniforms: {\n\t\t\t\trandom: {value: 100 * Math.random()},\n\t\t\t\tc: {value: 0},\n\t\t\t\tp: {value: 3},\n\t\t\t\tglowColor: {value: new Color(0xffff00)},\n\t\t\t\topacity: {value: 1}\n\t\t\t},\n\t\t\tvertexShader: assets.GLSL.noisyGlowVertex,\n\t\t\tfragmentShader: assets.GLSL.glowFragment\n\t\t});\n\t\tconst mesh = Object.assign(new Mesh(icosahedronsphere, material), {\n\t\t\ttime: 150, timeMax: 150,\n\t\t\tupdate(delta) {\n\t\t\t\tthis.time -= delta;\n\t\t\t\tmaterial.opacity = this.time / this.timeMax;\n\t\t\t\tmaterial.uniforms.opacity.value = material.opacity;\n\t\t\t}\n\t\t}, {time: t, timeMax: t});\n\t\tmesh.position.copy(p);\n\t\tmesh.scale.setScalar(s);\n\t\tthis.threescene.add(mesh);\n\t\tthis.add(mesh);\n\t\treturn mesh;\n\t}\n\n\tupdate(delta) {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tconst element = this.get(i);\n\t\t\tif (element.time <= 0) {\n\t\t\t\telement.parent.remove(element);\n\t\t\t\tthis.remove(i);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ExplodeManager extends ElementManager {\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.threescene = ts;\n\t}\n\n\texplode(p, s, t) {\n\t\tconst material = new ShaderMaterial({\n\t\t\ttransparent: true,\n\t\t\tuniforms: {\n\t\t\t\ttExplosion: {value: assets.THREE_Texture.explode},\n\t\t\t\trandom: {value: 100 * Math.random()},\n\t\t\t\ttime: {value: 0},\n\t\t\t\topacity: {value: 1}\n\t\t\t},\n\t\t\tvertexShader: assets.GLSL.explodeVertex,\n\t\t\tfragmentShader: assets.GLSL.explodeFragment\n\t\t});\n\t\tconst mesh = Object.assign(new Mesh(icosahedronsphere, material), {\n\t\t\ttime: 150, timeMax: 150,\n\t\t\tupdate(delta) {\n\t\t\t\tthis.time -= delta;\n\t\t\t\tmaterial.uniforms.time.value += 0.00005 * delta;\n\t\t\t\tmaterial.opacity = this.time / this.timeMax;\n\t\t\t\tmaterial.uniforms.opacity.value = material.opacity;\n\t\t\t}\n\t\t}, {time: t, timeMax: t});\n\t\tmesh.position.copy(p);\n\t\tmesh.scale.setScalar(s);\n\t\tthis.threescene.add(mesh);\n\t\tthis.add(mesh);\n\t\treturn mesh;\n\t}\n\n\tupdate(delta) {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tconst element = this.get(i);\n\t\t\tif (element.time <= 0) {\n\t\t\t\telement.parent.remove(element);\n\t\t\t\tthis.remove(i);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass RayManager extends ElementManager {\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.threescene = ts;\n\t}\n\n\tray(g, a, b, c, d) {\n\t\tg.geometry && (g.geometry.boundingBox || g.geometry.computeBoundingBox());\n\t\tconst self = this;\n\t\tconst length = 1000;\n\t\tif (d) {\n\t\t\tconst upperSphere = new Mesh(new SphereGeometry(c, 20, 10, 0, Math.PI * 2, 0, Math.PI / 2));\n\t\t\tupperSphere.position.y = length / 2;\n\t\t\tconst ray = Object.assign(new Mesh(\n\t\t\t\tnew CylinderGeometry(c, c, length, 20, 10),\n\t\t\t\tnew MeshBasicMaterial({color: a, opacity: b, transparent: true})\n\t\t\t), {\n\t\t\t\ttime: d,\n\t\t\t\tupdate(delta) {\n\t\t\t\t\tthis.time -= delta;\n\t\t\t\t\tif (this.time <= 0) {\n\t\t\t\t\t\tthis.parent.remove(this);\n\t\t\t\t\t\tself.elements.erase(this);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tray.position.copy(Axis.z).multiply(length / 2 + c + (g.geometry ? g.geometry.boundingBox.max.z : 0));\n\t\t\tray.rotateY(Math.PI);\n\t\t\tray.rotateX(Math.PI / 2);\n\t\t\tray.geometry.mergeMesh(upperSphere);\n\t\t\tg.add(ray);\n\t\t\tthis.add(ray);\n\t\t\treturn ray;\n\t\t}\n\t\tconst data = a;\n\t\tconst rays = new Group();\n\t\tObject.assign(rays, {\n\t\t\ttime: 0,\n\t\t\ttimeMax: b,\n\t\t\tradiusfunc: c,\n\t\t\tupdate(delta) {\n\t\t\t\tthis.time += delta;\n\t\t\t\tthis.scale.x = this.scale.z = this.radiusfunc(this.time, this.timeMax);\n\t\t\t\tif (this.time >= this.timeMax) {\n\t\t\t\t\tthis.parent.remove(this);\n\t\t\t\t\tself.remove(self.elements.indexOf(this));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst offset = length / 2 + data.reduce((a, b) => Math.max(a, b.radius), 0) + (g.geometry ? g.geometry.boundingBox.max.z : 0);\n\t\tdata.forEach(data => {\n\t\t\tconst upperSphere = new Mesh(new SphereGeometry(data.radius, 20, 10, 0, Math.PI * 2, 0, Math.PI / 2));\n\t\t\tupperSphere.position.y = length / 2;\n\t\t\tconst ray = new Mesh(\n\t\t\t\tnew CylinderGeometry(data.radius, data.radius, length, 20, 10),\n\t\t\t\tnew MeshBasicMaterial({color: data.color, opacity: data.opacity, transparent: true})\n\t\t\t);\n\t\t\tray.position.copy(Axis.z).applyQuaternion(g.quaternion).multiply(offset);\n\t\t\tray.geometry.mergeMesh(upperSphere);\n\t\t\trays.add(ray);\n\t\t});\n\n\t\trays.rotateY(Math.PI);\n\t\trays.rotateX(Math.PI / 2);\n\t\tg.add(rays);\n\t\tthis.add(rays);\n\t\treturn rays;\n\t}\n\tupdate() {}\n}\n","import {\n\tMesh,\n\tSphereGeometry,\n\tShaderMaterial,\n\tVector3, Color,\n\tFrontSide\n} from \"three\";\n\nimport {get, free} from \"w3g/utils\";\nimport {Axis, deepclone} from \"w3g/threeutil\";\nimport assets from \"w3g/loading\";\n\nimport ElementManager from \"./elementmanager\";\n\nconst bulletScale = 2;\n\nexport default class BulletManager extends ElementManager {\n\n\tconstructor(s, c) {\n\t\tsuper();\n\t\tthis.scene = s;\n\t\t// Put some variant of model for the bullets here\n\t\t// maybe laser\n\t\tthis.models = {\n\t\t\tbullet: assets.THREE_Model_GLTF.bullet.clone(),\n\t\t\tlaser: new Mesh(new SphereGeometry(2, 16, 16), new ShaderMaterial({\n        uniforms: {\n          c: {type: \"f\", value: 0},\n          p: {type: \"f\", value: 3},\n          glowColor: {type: \"c\", value: new Color(0xffff00)}\n        },\n        vertexShader: assets.GLSL.glowVertex,\n        fragmentShader: assets.GLSL.glowFragment,\n\t\t\t\tside: FrontSide,\n        transparent: true\n      }))\n\t\t};\n\t\tthis.models.laser.scale.z = 4;\n\t\t// Material pool to reduce GC, is this right way to increase performance?\n\t\tthis.materials = {\n\t\t\tbullet: [],\n\t\t\tlaser: []\n\t\t};\n\t\tthis.cloneMaterial = c;\n\t}\n\n\tcreate(n, p, q, r, k) {\n\t\tif (k === undefined) k = this.cloneMaterial;\n\t\tconst bullet = Object.assign(\n\t\t\tdeepclone(this.models[n], false, k && this.materials[n].length === 0), {\n\t\t\tv: 1, size: 1, atk: 1, ownMaterial: k,\n\t\t\tupdate(delta) {\n\t\t\t\tthis.position.addScaledVector(this.velocity, delta);\n\t\t\t}\n\t\t}, r);\n\t\tif (k && this.materials[n].length !== 0) bullet.material = this.materials[n].pop();\n\t\tbullet.position.copy(p);\n\t\tbullet.quaternion.copy(q);\n\t\tbullet.velocity = get(Vector3).copy(Axis.z).applyQuaternion(bullet.quaternion).multiplyScalar(bullet.v);\n\t\tbullet.name = n;\n\t\tbullet.scale.multiplyScalar(bullet.size * bulletScale);\n\t\tthis.scene.threeScene.add(bullet);\n\t\tthis.elements.push(bullet);\n\t\treturn bullet;\n\t}\n\n\thitTest(unit) {\n\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\tconst bullet = this.get(i);\n\t\t\tconst radius = unit.hitSphere ? unit.hitSphere : unit.geometry.boundingSphere.radius * unit.scale.x;\n\t\t\tif (unit.position.distanceTo(bullet.position) < radius + bullet.size) {\n\t\t\t\tthis.scene.effectManager.hit(bullet.position, bullet.size, 300);\n\t\t\t\tunit.dispatchEvent({type: 'hitByBullet', source: bullet});\n\t\t\t\tunit.hp -= bullet.atk / unit.armor;\n\t\t\t\tif (!bullet.pierce) {\n\t\t\t\t\tthis.remove(i);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tremove(i) {\n\t\tconst bullet = this.get(i);\n\t\tbullet.parent.remove(bullet);\n\t\tif (bullet.ownMaterial) this.materials[bullet.name].push(bullet.material);\n\t\tfree(bullet.velocity);\n\t\tsuper.remove(i);\n\t}\n\n\tstatic requiredResources = {GLSL: ['glowFragment', {glowVertex: \"data/glsl/glowvertex.min.glsl\"}]};\n}\n","import {Mesh, BoxGeometry, MeshStandardMaterial} from \"three\";\n\nimport ElementManager from \"./elementmanager\";\n\nexport default class ObstacleManager extends ElementManager {\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.threescene = ts;\n\t}\n\n\tcreate(p, q, s) {\n\t\tconst obstacle = new Mesh(\n\t\t\tnew BoxGeometry(s.x, s.y, s.z), new MeshStandardMaterial({color: '#888'})\n\t\t);\n\t\tobstacle.position.copy(p);\n\t\tobstacle.quaternion.copy(q);\n\t\tobstacle.size = s;\n\t\tthis.threescene.add(obstacle);\n\t\tthis.elements.push(obstacle);\n\t\treturn obstacle;\n\t}\n\n\tupdate() {}\n\n\tremove(i) {\n\t\tthis.get(i).parent.remove(this.get(i));\n\t\tsuper.remove(i);\n\t}\n}\n","import {Group, Mesh, RingGeometry, MeshBasicMaterial, Vector2, DoubleSide} from \"three\";\n\nimport ElementManager from \"./elementmanager\";\nimport {windScaleY} from \"./constants\";\n\nexport default class WindManager extends ElementManager {\n\n\ttime = 0;\n\tplayerY = 0;\n\n\tconstructor(ts) {\n\t\tsuper();\n\t\tthis.threescene = ts;\n\t}\n\n\tcreate(r, c) {\n\t\tconst wind = {\n\t\t\tv: r.v || 2, size: r.size || 100,\n\t\t\tposition: r || new Vector2(),\n\t\t\tgroup: new Group(), update: () => {}\n\t\t};\n\t\twind.mesh = new Mesh(\n\t\t\tnew RingGeometry(wind.size - 0.4, wind.size, 50, 5),\n\t\t\tnew MeshBasicMaterial({color: c, side: DoubleSide})\n\t\t);\n\t\twind.mesh.position.set(wind.position.x, 0, wind.position.y);\n\t\tconnect(wind.position, \"x\", wind.group.position);\n\t\tconnect(wind.position, \"y\", wind.group.position, \"z\");\n\t\tfor (const i = -10000 * Math.sign(wind.v); Math.abs(i) <= 10000; i += wind.v * windScaleY) {\n\t\t\tconst ring = wind.mesh.clone();\n\t\t\twind.group.add(ring);\n\t\t\tring.rotateX(Math.PI / 2);\n\t\t\tring.position.y = this.playerY + i;\n\t\t}\n\t\tthis.threescene.add(wind.group);\n\t\tthis.elements.push(wind);\n\t\treturn wind;\n\t}\n\n\tupdate() {\n\t\tthis.forEach(wind => {\n\t\t\twind.group.position.y += wind.v;\n\t\t\tif (Math.abs(wind.group.position.y) >= wind.v * windScaleY) wind.group.position.y -= wind.v * windScaleY;\n\t\t});\n\t\tthis.time++;\n\t}\n\n\tremove(i) {\n\t\tthis.threescene.remove(this.get(i).group);\n\t\tsuper.remove(i);\n\t}\n}\n","import {Mesh, Group, PlaneBufferGeometry, MeshBasicMaterial} from \"three\";\n\nimport {connectMulti} from \"w3g/utils\";\nimport {connectColor} from \"w3g/threeutil\";\nimport Element from \"w3g/element\";\nimport {hitTestEllipse} from 'w3g/hittest';\n\nconst plane = new PlaneBufferGeometry(1, 1);\nexport class Mark extends Element {\n\tconstructor(options) {\n\t\tconst material = new MeshBasicMaterial();\n\t\tmaterial.color.set(options.strokeColor);\n\n\t\tsuper(new Group(), options);\n\n\t\tthis.vertical = new Mesh(plane, material);\n\t\tthis.nativeContent.add(this.vertical);\n\n\t\tthis.horizontal = new Mesh(plane, material);\n\t\tthis.nativeContent.add(this.horizontal);\n\n\t\tthis.vertical.scale.set(options.strokeWidth, options.height, 1);\n\t\tthis.horizontal.scale.set(options.width, options.strokeWidth, 1);\n\n\t\tconnectColor(this, \"strokeColor\", material, \"color\", this.nativeContent);\n\t\tconnectMulti(this, \"strokeWidth\", [this.vertical.scale, this.horizontal.scale], [\"x\", \"y\"]);\n\t}\n\n\tget width() {return this.horizontal.scale.x}\n\tset width(v) {\n\t\tif (!this.horizontal) return;\n\t\tthis.horizontal.scale.x = v;\n\t}\n\n\tget height() {return this.vertical.scale.y}\n\tset height(v) {\n\t\tif (!this.vertical) return;\n\t\tthis.vertical.scale.y = v;\n\t}\n}\n","import {Vector3} from \"three\";\n\nimport Element from \"w3g/element\";\nimport {Ellipse} from \"w3g/geometries\";\nimport {define, defineAccessor} from \"w3g/utils\";\n\nimport {minimapScale, raderRadius} from \"./constants\";\n\nfunction update(point, obj) {\n\tconst x = obj.position.x - this.origin.position.x;\n\tconst y = obj.position.z - this.origin.position.z;\n\tlet distance = Math.hypot(x, y);\n\tif (distance > raderRadius) {\n\t\tpoint._visible1 = false;\n\t\treturn;\n\t}\n\tpoint._visible1 = true;\n\tdistance *= minimapScale;\n\tdistance = Math.min(distance, this.radius);\n\tconst angle = -Math.atan2(x, y);\n\tpoint.position.set(Math.sin(angle) * distance, Math.cos(angle) * distance, 0);\n\tif (!(point instanceof Ellipse)) {\n\t\t// TODO: not very sure about this. need to know better about quaternions.\n\t\tconst absy = Math.abs(obj.quaternion.y);\n\t\tpoint.rotation = Math.sign(obj.quaternion.y) * Math.acos(obj.quaternion.w) * 2 * absy / (absy + Math.hypot(obj.quaternion.x, obj.quaternion.z));\n\t}\n};\n\nconst ZERO = {position: new Vector3()}\nexport default class Minimap extends Ellipse {\n\telements = new Map();\n\n\tconstructor(options, origin) {\n\t\tsuper(options);\n\t\tthis.setOrigin(origin);\n\t}\n\tsetOrigin(obj) {\n\t\tthis.origin = obj || ZERO;\n\t}\n\taddObject(obj, visual) {\n\t\tif(!(visual instanceof Element)) visual = new Ellipse(Object.assign({\n\t\t\tradius: 3, strokeColor: 'black', strokeWidth: 1, opacity: 0.5\n\t\t}, visual || {}));\n\t\tthis.elements.set(obj, visual);\n\t\tdefineAccessor(visual, \"visible\", {\n\t\t\tget() {return this._visible1 && this._visible2},\n\t\t\tset(v) {this._visible2 = v}\n\t\t});\n\t\tvisual.visible = true;\n\t\tthis.add(visual);\n\t\tupdate.call(this, visual, obj);\n\t\treturn visual;\n\t}\n\tgetObject(obj) {return this.elements.get(obj)}\n\tremoveObject(obj) {\n\t\tconst point = this.getObject(obj);\n\t\tdefine(point, \"visible\", point.visible);\n\t\tthis.remove(point);\n\t\tthis.elements.delete(obj);\n\t}\n\tupdate() {this.elements.forEach(update, this)};\n}\n","import {\n\tDirectionalLight, AmbientLight,\n\tMesh, Group,\n\tIcosahedronGeometry,\n\tShaderMaterial,\n\tGridHelper, AxesHelper, Raycaster,\n\tVector4, Vector3, Quaternion, Color, Matrix4,\n\tEventDispatcher\n} from \"three\";\n\nimport ShaderPass from \"w3g/three-effect/ShaderPass\";\nimport FadeShader from \"w3g/three-effect/FadeShader\";\n\nimport * as THREE_Utils from \"w3g/threeutil\";\nimport {get, free} from \"w3g/utils\";\nimport {vw, vh} from \"w3g/main\";\nimport assets, {loadResources} from \"w3g/loading\";\nimport {Rectangle, Ellipse, SymmetricTriangle} from \"w3g/geometries\";\nimport {Label, Gauge, DebugTexts, textAlign} from \"w3g/uielements\";\nimport Easing from \"w3g/easing\";\nimport {keyDown} from \"w3g/input\";\nimport Scene from \"w3g/scene\";\n\nimport SceneLoadingScene from \"./sceneloadingscene\";\nimport {UnitManager, units, builds} from \"./units\";\nimport EffectManager from \"./effects\";\nimport BulletManager from \"./bullet\";\nimport ObstacleManager from \"./obstacle\";\nimport WindManager from \"./wind\";\nimport {byID} from \"./equipments\";\nimport {\n\tbossHPGaugeFadeTime, messageDelay, gridDivisions,\n\tmaxAlliedBullets, maxEnemyBullets, bulletRemovalMargin, bulletRetainingRadius\n} from \"./constants\";\nimport {Mark} from \"./geometries\";\nimport Minimap from \"./minimap\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nconst autospawn = {\n\trandom: new Vector3()\n};\n\nexport default class MainScene extends Scene {\n\n\ttime = 0;\n\tprogress = 0;\n\tscore = 0;\n\tgoals = [];\n\tgoalraders = [];\n\tdirection = [];\n\tgoaled = false;\n\tbossdefeated = true;\n\tcameraPosition = new Vector3(0, 650, -200);\n\n\tconstructor(equipments, stage, difficulty) {\n\t\tsuper();\n\n\t\tthis.stage = stage || 'arcade';\n\t\tthis.difficulty = /*difficulty || */1;\n\t\tthis.space = /*options.space || */false;\n\n\t\t//const rates;\n\n\t\tlet stagename;\n\n\t\tconst scene = this;\n\t\tconsole.log(this);\n\t\treturn new SceneLoadingScene(this, [\n\t\t\tloadResources.bind(null, [EffectManager, BulletManager, {\n\t\t\t\tTHREE_Model_GLTF: {bullet: \"data/models/bullet.glb\"}\n\t\t\t}])\n\t\t], [\n\t\t\t() => { // build data structure\n\t\t\t\tthis.effectManager = new EffectManager(this.threeScene);\n\t\t\t\tthis.allyBulletManager = new BulletManager(this, false);\n\t\t\t\tthis.allyManager = new UnitManager(this, this.allyBulletManager, 'hsl(210, 80%, 60%)');\n\t\t\t\tthis.enmBulletManager = new BulletManager(this, true);\n\t\t\t\tthis.enemyManager = new UnitManager(this, this.enmBulletManager, 'hsl(0, 80%, 60%)');\n\t\t\t\tthis.allyManager.opponents = this.enemyManager;\n\t\t\t\tthis.enemyManager.opponents = this.allyManager;\n\t\t\t\tthis.obstacleManager = new ObstacleManager(this.threeScene);\n\t\t\t\tthis.windManager = new WindManager(this.threeScene);\n\n\t\t\t\tthis.minimap = new Minimap();\n\t\t\t}\n\t\t], [\n\t\t\tasync () => { // Load Player\n\t\t\t\tthis.player = this.allyManager.create(\"player1\");\n\t\t\t\tthis.player.position.y = 1000;\n\t\t\t\tthis.minimap.setOrigin(this.player);\n\t\t\t\tthis.player.geometry.computeBoundingBox();\n\t\t\t\tthis.player.addEventListener('hitByBullet', e => {\n\t\t\t\t\tthis.shakeScreen(e.source.atk / this.player.armor / this.player.maxhp * 100);\n\t\t\t\t\tthis.score -= 1;\n\t\t\t\t});\n\t\t\t\t// console.log(player)\n\t\t\t\tthis.player.add(new AxesHelper(1000));\n\t\t\t\tconst list = {THREE_Model_GLTF: []};\n\t\t\t\tequipments.forEach(sub => {\n\t\t\t\t\tif (sub.klass.usingModels) sub.klass.usingModels.forEach(name => {\n\t\t\t\t\t\tif (!assets.THREE_Model_GLTF[name]) list.THREE_Model_GLTF.push(name);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tawait loadResources(list);\n\t\t\t\tthis.player.sub = equipments.map(sub => sub.mirror ?\n\t\t\t\t\tnew byID.Fork(this.player, this, sub.level, sub.position, sub.klass) :\n\t\t\t\t\tnew sub.klass(this.player, this, sub.level, sub.position));\n\t\t\t\tthis.player.primary = this.player.sub.find(\n\t\t\t\t\tsub => (sub.getType() === 'active' || sub.getType() === 'toggle') && sub.getDamage || (sub.constructor === byID.Fork && sub.instance1.getDamage));\n\t\t\t\tlet buttons = 0;\n\t\t\t\tthis.player.sub.forEach(sub => {\n\t\t\t\t\tif (sub.getType() === 'toggle' && sub !== this.player.primary) {\n\t\t\t\t\t\tconst button = new Ellipse({\n\t\t\t\t\t\t\tx: 50 + buttons++ * 75 - vw / 2, y: -50 + vh / 2, radius: 30,\n\t\t\t\t\t\t\tfillColor: '#44c', fillOpacity: 0.5, strokeColor: 'black', strokeWidth: 2\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst label = new Label(sub.constructor.equipmentName, {font: \"12px 'HiraKakuProN-W3'\"});\n\t\t\t\t\t\tbutton.add(label);\n\t\t\t\t\t\tthis.UIScene.add(button);\n\t\t\t\t\t\tbutton.addEventListener('pointstart', () => {\n\t\t\t\t\t\t\tsub.active = !sub.active;\n\t\t\t\t\t\t\tconst activecolor = get(Color).set('#44c');\n\t\t\t\t\t\t\tbutton.fillColor = button.fillColor.equals(activecolor) ? '#c44' : activecolor;\n\t\t\t\t\t\t\tfree(activecolor);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, async () => { // Stage loading\n\t\t\t\tif (this.stage !== 'arcade') {\n\t\t\t\t\tif (!assets.STAGE[this.stage]) {\n\t\t\t\t\t\tawait loadResource(\"STAGE\", this.stage, `data/stages/${this.stage}.min.json`);\n\t\t\t\t\t\tconst list = {THREE_Model_GLTF: []};\n\t\t\t\t\t\tconst stage = assets.STAGE[this.stage];\n\t\t\t\t\t\tstage.enemys.forEach(enemy => {\n\t\t\t\t\t\t\tif (!assets.THREE_Model_GLTF[enemy.name]) list.THREE_Model_GLTF.push(enemy.name);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (stage.goals.length > 0 && (!assets.goalVertex)) list.GLSL = {\n\t\t\t\t\t\t\tgoalVertex: \"data/glsl/goalvertex.min.glsl\",\n\t\t\t\t\t\t\tgoalFragment: \"data/glsl/goalfrag.min.glsl\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tawait loadResources(list);\n\t\t\t\t\t}\n\t\t\t\t\tconst stage = assets.STAGE[this.stage];\n\t\t\t\t\tstagename = stage.name;\n\t\t\t\t\tstage.enemys.forEach(this.enemyManager.createMulti);\n\t\t\t\t\tstage.obstacles.forEach(this.obstacleManager.create);\n\t\t\t\t\tstage.winds.forEach(this.windManager.create);\n\t\t\t\t\tstage.messages.forEach(imessage => {\n\t\t\t\t\t\tconst swapMessage = () => {\n\t\t\t\t\t\t\twindow.setTimeout(() => this.message.visible = false, imessage.time - messageDelay);\n\t\t\t\t\t\t\twindow.setTimeout(() => {\n\t\t\t\t\t\t\t\tthis.message.visible = true;\n\t\t\t\t\t\t\t\tthis.message.text = imessage.text;\n\t\t\t\t\t\t\t}, imessage.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!imessage.progress) swapMessage();\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconst checkForProgress = () => {\n\t\t\t\t\t\t\t\tif (imessage.progress < this.progress) {\n\t\t\t\t\t\t\t\t\tswapMessage();\n\t\t\t\t\t\t\t\t\tthis.removeEventListener('update', checkForProgress);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.addEventListener('update', checkForProgress);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tstage.goals.forEach(goal => {\n\t\t\t\t\t\tconst material = new ShaderMaterial({\n\t\t\t\t\t\t\ttransparent: true,\n\t\t\t\t\t\t\tuniforms: {\n\t\t\t\t\t\t\t\ttex1: {value: assets.THREE_Texture.goal},\n\t\t\t\t\t\t\t\ttex2: {value: assets.THREE_Texture.goal_disable},\n\t\t\t\t\t\t\t\ttex1_percentage: {value: 0},\n\t\t\t\t\t\t\t\ttime: {value: 100 * Math.random()},\n\t\t\t\t\t\t\t\topacity: {value: 1}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvertexShader: assets.GLSL.goalVertex,\n\t\t\t\t\t\t\tfragmentShader: assets.GLSL.goalFragment\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst mesh = new Mesh(Object.assign(new IcosahedronGeometry(goal.size, 2), material), {\n\t\t\t\t\t\t\tsize: goal.size, kill: goal.kill, message: goal.message, enable: false,\n\t\t\t\t\t\t\tupdate(delta) {\n\t\t\t\t\t\t\t\tmaterial.uniforms.time.value += delta;\n\t\t\t\t\t\t\t\tif (!this.enable && this === goals[0] && (goals.length > 1 || scene.bossdefeated) && this.enemyManager.deathcount >= this.enemyManager.spawncount * this.kill) {\n\t\t\t\t\t\t\t\t\tscene.addEasing(new Easing(material.uniforms.tex1_percentage).add({value: 1}, 1700, Easing.LINEAR));\n\t\t\t\t\t\t\t\t\tgoalraders[0].fillColor = 'hsl(190, 100%, 70%)';\n\t\t\t\t\t\t\t\t\tthis.enable = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.threeScene.add(mesh);\n\t\t\t\t\t\tthis.goals.push(mesh);\n\t\t\t\t\t\tmesh.position.copy(goal.position);\n\t\t\t\t\t\tthis.minimap.addObject(mesh, {radius: 5, fillColor: '#aaa'});\n\t\t\t\t\t\tgoalraders.push(rader);\n\t\t\t\t\t});\n\t\t\t\t\tthis.rate = stage.rate;\n\t\t\t\t\tthis.space = stage.space;\n\t\t\t\t} else {\n\t\t\t\t\tconst list = {THREE_Model_GLTF: []};\n\t\t\t\t\tObject.keys(units).forEach(key => {\n\t\t\t\t\t\tif (!assets.THREE_Model_GLTF[key]) list.THREE_Model_GLTF.push(key);\n\t\t\t\t\t});\n\t\t\t\t\tawait loadResources(list);\n\t\t\t\t}\n\t\t\t}\n\t\t], [\n\t\t\t() => { // Screen Setup\n\t\t\t\tconst fade = new ShaderPass(new FadeShader());\n\t\t\t\tfade.uniforms.color.value.set(1, 1, 1, 1);\n\t\t\t\tthis.threePasses.push(fade);\n\t\t\t\tthis.addEasing(new Easing(fade.uniforms.color.value).add({w: 0}, 1250, Easing.LINEAR).trigger(() => {\n\t\t\t\t\tthis.threePasses.pop();\n\t\t\t\t}));\n\n\t\t\t\tthis.minimap.radius = 75;\n\t\t\t\tthis.minimap.fillColor = 'hsl(0, 0%, 30%)';\n\t\t\t\tthis.minimap.opacity = 0.5;\n\t\t\t\tthis.minimap.position.set(vw / 2 - 100, 100 - vh / 2, 0);\n\t\t\t\tthis.UIScene.add(this.minimap);\n\n\t\t\t\tthis.name = new Label(stagename, {\n\t\t\t\t\tfont: \"24px 'HiraKakuProN-W3'\", fillStyle: 'hsla(0, 0%, 0%, 0.8)', opacity: 0\n\t\t\t\t});\n\t\t\t\tthis.UIScene.add(this.name);\n\t\t\t\tthis.addEasing(new Easing(this.name)\n\t\t\t\t\t.wait(350).add({opacity: 1}, 1000, Easing.LINEAR)\n\t\t\t\t\t.wait(1250).add({opacity: 0}, 1000, Easing.LINEAR)\n\t\t\t\t);\n\n\t\t\t\tfor(let i = 0; i < 4; i++) {\n\t\t\t\t\tconst rotation = i * Math.PI / 2;\n\t\t\t\t\tthis.direction[i] = new SymmetricTriangle({\n\t\t\t\t\t\tx: this.minimap.radius * Math.sin(rotation), y: this.minimap.radius * Math.cos(rotation),\n\t\t\t\t\t\tfillColor: '#181818', opacity: 0.5, rotation: -rotation + Math.PI, width: 24, height: 15\n\t\t\t\t\t});\n\t\t\t\t\tthis.minimap.add(this.direction[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.mark = new Mark({width: 30, height: 30, opacity: 0.5, strokeWidth: 1, strokeColor: '#000'});\n\t\t\t\tthis.minimap.add(this.mark);\n\n\t\t\t\tthis.target = new Mark({width: 30, height: 30, opacity: 0.7, strokeWidth: 1});\n\t\t\t\tthis.UIScene.add(this.target);\n\t\t\t\tthis.player.targetMarker = this.target;\n\n\t\t\t\tthis.gauge_h = new Gauge({\n\t\t\t\t\tstrokeColor: '#aaa', gaugeColor: 'rgb(255, 64, 64)', gaugeOpacity: 0.3,\n\t\t\t\t\tx: 80 - vw / 2, y: 100 - vh / 2, value: 100, maxValue: 100, strokeWidth: 2, width: 128, height: 16\n\t\t\t\t});\n\t\t\t\tthis.UIScene.add(this.gauge_h);\n\n\t\t\t\tif (this.stage !== 'arcade') {\n\t\t\t\t\tfor(let i = 0; i < goalraders.length; i++) this.UIScene.add(goalraders[i]);\n\t\t\t\t\tthis.gauge_boss_h = new Gauge({\n\t\t\t\t\t\tstrokeColor: '#aaa', gaugeColor: 'rgb(200, 16, 16)', gaugeOpacity: 0.3,\n\t\t\t\t\t\ty: vh / 2 - 20, strokeWidth: 1, width: vw / 1.2, height: 16, opacity: 0\n\t\t\t\t\t});\n\t\t\t\t\tthis.UIScene.add(this.gauge_boss_h);\n\t\t\t\t\tthis.msgbox = new Rectangle({\n\t\t\t\t\t\tfillColor: 'hsl(0, 0%, 30%)', strokeColor: 'hsl(0, 0%, 30%)',\n\t\t\t\t\t\tfillOpacity: 0.5, strokeOpacity: 0.25,\n\t\t\t\t\t\ty: -vh / 2, strokeWidth: 1, cornerRadius: 5, width: vw / 5, height: vh / 12\n\t\t\t\t\t});\n\t\t\t\t\tthis.msgbox.live = 0;\n\t\t\t\t\tthis.UIScene.add(this.msgbox);\n\t\t\t\t\tthis.message = new Label(\" \", {\n\t\t\t\t\t\ty: -vh / 2, font: \"16px 'HiraKakuProN-W3'\", fillStyle: 'hsl(0, 0%, 0%, 0.6)', align: textAlign.left\n\t\t\t\t\t});\n\t\t\t\t\tthis.message.visible = false;\n\t\t\t\t\tthis.UIScene.add(this.message);\n\t\t\t\t}\n\n\t\t\t\tthis.resultbg = new Rectangle({\n\t\t\t\t\tfillColor: 'hsl(0, 0%, 50%)', fillOpacity: 0.5,\n\t\t\t\t\ty: vh, opacity: 0, selfOpacity: 0.65, width: vw * 0.8, height: vh * 0.9\n\t\t\t\t});\n\t\t\t\tthis.UIScene.add(this.resultbg);\n\n\t\t\t\tthis.resulttitle = new Label(\"Result\", {\n\t\t\t\t\tfont: \"48px 'HiraKakuProN-W3'\", fillStyle: 'hsla(0, 0%, 0%, 0.8)', opacity: 0\n\t\t\t\t});\n\t\t\t\tthis.UIScene.add(this.resulttitle);\n\n\t\t\t\tthis.resulttext = new Label(\" \", {\n\t\t\t\t\tfont: \"24px 'HiraKakuProN-W3'\", fillStyle: 'hsla(0, 0%, 0%, 0.8)', opacity: 0\n\t\t\t\t});\n\t\t\t\tthis.UIScene.add(this.resulttext);\n\n\t\t\t\tthis.debugtexts = new DebugTexts();\n\t\t\t\tthis.debugtexts.position.x = 16 - vw / 2;\n\t\t\t\tthis.debugtexts.position.y = vh / 2 - 36;\n\t\t\t\tthis.debugtexts.visible = false;\n\t\t\t\tthis.UIScene.add(this.debugtexts);\n\t\t\t}, () => { // Stage Setup\n\t\t\t\tconst directionalLight = new DirectionalLight(0xffffff, 1);\n\t\t\t\tdirectionalLight.position.set(0, 0, 30);\n\t\t\t\tthis.threeScene.add(directionalLight);\n\t\t\t\tthis.threeScene.add(new AmbientLight(0x606060));\n\n\t\t\t\tconst plane = new GridHelper(20400, 20400 / gridDivisions, 0x888888);\n\t\t\t\tplane.update = function() {\n\t\t\t\t\tif (scene.player) {\n\t\t\t\t\t\tthis.position.x = scene.player.position.x - scene.player.position.x % gridDivisions;\n\t\t\t\t\t\tthis.position.z = scene.player.position.z - scene.player.position.z % gridDivisions;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.threeScene.add(plane);\n\n\t\t\t\t//this.plane.rotateX(-Math.PI / 2);\n\t\t\t\tif (this.stage !== 'arcade') for(let i = 0; i < goals.length; i++) this.threeScene.add(goals[i]);\n\n\t\t\t\tthis.camera.fov = 100;\n\t\t\t\tthis.camera.rotateY(Math.PI);\n\t\t\t\tthis.camera.rotateX(-Math.PI / 2);\n\t\t\t\tthis.camerabeforescreenshake = this.camera.clone();\n\t\t\t}\n\t\t]);\n\t}\n\n\tupdate(delta) {\n\t\tsuper.update(delta);\n\n\t\t// Trigger events\n\t\tthis.enemyManager.update(delta);\n\t\tthis.allyManager.update(delta);\n\t\tthis.effectManager.update(delta);\n\n\t\tif (!this.player) {\n\t\t\tthis.camera.rotateOnWorldAxis(THREE_Utils.Axis.y, delta * -0.0001);\n\t\t} else if (this.goaled) {\n\t\t\tthis.player.flare('enterframe');\n\t\t\tthis.camera.rotateOnWorldAxis(THREE_Utils.Axis.y, delta * -0.0001);\n\t\t} else {\n\t\t\tif (this.stage === 'arcade') { // Arcade mode (random enemy spawn)\n\t\t\t\tif (this.enemyManager.count === 0) {\n\t\t\t\t\tlet totalValue = 100 * this.difficulty;\n\n\t\t\t\t\tconst position = get(Vector3);\n\t\t\t\t\tconst quaternion = get(Quaternion);\n\n\t\t\t\t\twhile (totalValue > 1) {\n\t\t\t\t\t\tconst build = builds[Math.floor(Math.random() * builds.length)];\n\t\t\t\t\t\tif (build.value > totalValue) continue;\n\n\t\t\t\t\t\t// this ensures at least one unit will be generated\n\t\t\t\t\t\tconst quantity = Math.ceil((1 - Math.random()) * (totalValue / build.value - 1));\n\t\t\t\t\t\ttotalValue -= build.value * quantity;\n\n\t\t\t\t\t\tposition.set(Math.random() * 2000 - 1000, Math.random() * 200 - 100, Math.random() * 5000 - 1000)\n\t\t\t\t\t\t\t.add(this.player.position);\n\t\t\t\t\t\tTHREE_Utils.rotateY(quaternion.set(0, 0, 0, 1), Math.random() * Math.PI * 2);\n\n\t\t\t\t\t\tautospawn.rep = quantity;\n\t\t\t\t\t\tautospawn.random.setScalar(Math.cbrt(units[build.name].properties.size ** 3 * quantity) * 2);\n\n\t\t\t\t\t\tthis.enemyManager.createMulti(build, position, quaternion, autospawn);\n\t\t\t\t\t}\n\n\t\t\t\t\tfree(position, quaternion);\n\t\t\t\t\tthis.difficulty += 0.01;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst currentGoal = goals[goals.length - 1];\n\t\t\t\tthis.progress = player.position.dot(currentGoal.position) /\n\t\t\t\t\tcurrentGoal.position.dot(currentGoal.position);\n\t\t\t}\n\t\t\tif (this.time % 20000 < delta) {\n\t\t\t\tfor (let i = 0; i < this.allyBulletManager.count; i++) {\n\t\t\t\t\tif (this.allyBulletManager.get(i).position.distanceTo(this.player.position) > bulletRetainingRadius) {\n\t\t\t\t\t\tthis.allyBulletManager.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < this.enmBulletManager.count; i++) {\n\t\t\t\t\tif (this.enmBulletManager.get(i).position.distanceTo(this.player.position) > bulletRetainingRadius) {\n\t\t\t\t\t\tthis.enmBulletManager.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Camera control\n\n\t\t\tconst lerprate = 0.995 ** delta;\n\t\t\tconst targetLength = 500 - this.player.v * 250 + Math.min(this.player.position.distanceTo(this.player.targetingPosition), 1000) * 0.5;\n\t\t\tthis.cameraPosition.setLength(this.cameraPosition.length() * lerprate + targetLength * (1 - lerprate));\n\t\t\tconst focalPosition = get(Vector3).copy(this.player.position).lerp(this.player.targetingPosition, 0.1);\n\t\t\tthis.camera.position.addVectors(focalPosition, this.cameraPosition);\n\t\t\tthis.camera.lookAt(focalPosition);\n\t\t\tthis.camerabeforescreenshake.copy(this.camera);\n\t\t\tfree(focalPosition);\n\n\t\t\tthis.allyManager.elements.forEach(ally => {\n\t\t\t\tif (ally.excludeFromHitTest) return;\n\t\t\t\tthis.enemyManager.elements.forEach(enemy => {\n\t\t\t\t\tif (enemy.position.distanceTo(ally.position) <\n\t\t\t\t\t\tenemy.geometry.boundingSphere.radius * enemy.scale.x +\n\t\t\t\t\t\tally.geometry.boundingSphere.radius * ally.scale.x) {\n\t\t\t\t\t\tif (enemy === ally.target) ally.dispatchEvent({type: 'targetAttacked'});\n\t\t\t\t\t\tenemy.hp -= Math.min(ally.hp, 2.5) * ally.sharpness / enemy.armor;\n\t\t\t\t\t\tally.hp -= 2.5 * enemy.sharpness / ally.armor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.windManager.playerposy = this.player.position.y;\n\n\t\t\t//this.playerpos.rotation = +this.player.myrot.y + (Math.abs(this.player.myrot.x) > Math.PI / 2 && Math.abs(this.player.myrot.x) < Math.PI * 1.5 ? 0 : Math.PI);\n\n\t\t\t/*if (k.getKeyDown(53)) { // 5 Key\n\t\t\t\tthis.camera.radius++;\n\t\t\t\tthis.camera.radius %= this.camera.radiuses.length;\n\t\t\t}\n\t\t\tthis.camera.quaternion.set(0, 0, 0, 1);\n\t\t\tthis.camera.rotateZ(-player.myrot.z2 + (this.camera.radius !== 0 ? -player.myrot.z1 : 0));\n\t\t\tthis.camera.rotateX(-player.myrot.x);\n\t\t\tthis.camera.rotateY(player.myrot.y + Math.PI);\n\t\t\tvar vec = Axis.z.clone().applyQuaternion(this.camera.quaternion).negate().setLength(this.camera.radiuses[this.camera.radius]);\n\t\t\tthis.camera.position.copy(player.position.clone().add(vec));*/\n\n\t\t\tconst h = this.player.geometry.boundingBox.max.x * 2;\n\n\t\t\tconst setColor = e => {\n\t\t\t\tconst l = 1 - Math.min(Math.max(Math.abs(this.player.position.y - e.position.y) / h * 5 - 4.5, 0), 1);\n\n\t\t\t\tif (Array.isArray(e.material))\n\t\t\t\t\tfor (let i = 0; i < e.material.length; i++) e.material[i].opacity = l * 0.8 + 0.2;\n\t\t\t\telse e.material.opacity = l * 0.8 + 0.2;\n\t\t\t}\n\n\t\t\tthis.enemyManager.elements.forEach(setColor);\n\t\t\tthis.enmBulletManager.elements.forEach(setColor);\n\n\t\t\tif (this.bosscoming) {\n\t\t\t\tif (this.boss.parent === null) {\n\t\t\t\t\tthis.bosscoming = false;\n\t\t\t\t\tthis.addEasing(new Easing(this.gauge_boss_h).add({opacity: 0}, bossHPGaugeFadeTime, Easing.LINEAR));\n\t\t\t\t\tthis.bossdefeated = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.gauge_boss_h.value = this.boss.hp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (keyDown.Space && this.message) this.message.visible = false; // Space Key\n\n\t\t\tconst changeToResultScreenMode = () => {\n\t\t\t\tthis.addEasing(new Easing(this.resultbg).add({opacity: 1, y: 0}, 100, Easing.LINEAR));\n\t\t\t\tthis.addEasing(new Easing(this.resulttitle).wait(180).add({opacity: 1, y: 0.33 * vh}, 100, Easing.LINEAR));\n\t\t\t\tthis.addEasing(new Easing(this.resulttext).wait(360).add({opacity: 1, y: 0.2 * vh}, 100, Easing.LINEAR));\n\t\t\t\tif (this.message) this.message.visible = false;\n\t\t\t\tthis.addEasing(new Easing(this.minimap).add({opacity: 0}, 650, Easing.LINEAR));\n\n\t\t\t\tthis.addEasing(new Easing(this.gauge_h).add({opacity: 0}, 650, Easing.LINEAR));\n\t\t\t\tif (this.msgbox) this.addEasing(new Easing(this.msgbox).add({opacity: 0}, 650, Easing.LINEAR));\n\t\t\t\tthis.addEasing(new Easing(this.mark).add({opacity: 0}, 650, Easing.LINEAR));\n\t\t\t}\n\n\t\t\tif (this.player.hp <= 0) {\n\t\t\t\tthis.player = null;\n\n\t\t\t\tthis.resulttext.text = `Score: ${\n\t\t\t\t\tMath.max(this.score, 0).toFixed(0)}\\nKill: ${this.enemyManager.deathcount}(${\n\t\t\t\t\t(this.enemyManager.deathcount / this.enemyManager.spawncount * 100).toFixed(1)}%)`;\n\t\t\t\tthis.resulttitle.text = 'Game Over';\n\t\t\t\tchangeToResultScreenMode();\n\t\t\t} else if (this.stage !== 'arcade' && goals[0].enable) {\n\t\t\t\tconst v = get(Vector3).copy(Axis.z).applyQuaternion(this.quaternion);\n\t\t\t\tconst p = get(Vector3).copy(this.position)\n\t\t\t\t\t.addScaledVector(v, -this.player.geometry.boundingBox.min.z +\n\t\t\t\t\tthis.player.geometry.boundingBox.max.x);\n\t\t\t\tv.multiplyScalar(this.player.geometry.boundingBox.getSize().z -\n\t\t\t\t\tthis.player.geometry.boundingBox.getSize().x);\n\t\t\t\tif (testCupsuleSphere(p, v, goals[0].position, this.player.geometry.boundingBox.max.x + goals[0].size / 2)) {\n\t\t\t\t\tif (goals.length === 1) {\n\t\t\t\t\t\tthis.addEasing(new Easing(player).add({auto: 1}, 2000, Easing.LINEAR));\n\t\t\t\t\t\tconst rate = '';\n\t\t\t\t\t\tthis.score += this.rate[0] * player.hp / player.maxhp;\n\t\t\t\t\t\tif (this.score >= this.rate[3]) rate = 'Perfect';\n\t\t\t\t\t\telse if (this.score >= this.rate[2]) rate = 'Good';\n\t\t\t\t\t\telse if (this.score >= this.rate[1]) rate = 'Decent';\n\t\t\t\t\t\telse rate = 'Bad';\n\t\t\t\t\t\tthis.resulttext.text = `Score: ${Math.max(this.score, 0).toFixed(0)}${\n\t\t\t\t\t\t\t(this.enemyManager.spawncount !== 0 ?\n\t\t\t\t\t\t\t\t`\\nKill: ${this.enemyManager.deathcount}(${(this.enemyManager.deathcount / this.enemyManager.spawncount * 100).toFixed(1)}%)` :\n\t\t\t\t\t\t\t\t'')\n\t\t\t\t\t\t\t}\\nLife: ${(player.hp / player.maxhp * 100).toFixed(1)}%\\nRate: ${rate}`;\n\t\t\t\t\t\tchangeToResultScreenMode();\n\t\t\t\t\t\tthis.goaled = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst currentMessage = goals[0].message;\n\t\t\t\t\t\twindow.setTimeout(() => this.message.text = currentMessage, 1000);\n\t\t\t\t\t\tgoals[0].parent.remove(goals[0]);\n\t\t\t\t\t\tgoals.shift();\n\t\t\t\t\t\tgoalraders[0].remove();\n\t\t\t\t\t\tgoalraders.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfree(v, p);\n\t\t\t}\n\n\t\t\tthis.time += delta;\n\t\t\tif (this.time % 20000 < delta) this.score--;\n\t\t}\n\n\t\tif (keyDown.KeyB) this.debugtexts.visible = !this.debugtexts.visible;\n\n\t\tif (this.allyBulletManager.count > maxAlliedBullets + bulletRemovalMargin)\n\t\t\twhile (this.allyBulletManager.count > maxAlliedBullets) this.allyBulletManager.remove(0);\n\t\tif (this.enmBulletManager.count > maxEnemyBullets + bulletRemovalMargin)\n\t\t\twhile (this.enmBulletManager.count > maxEnemyBullets) this.enmBulletManager.remove(0);\n\n\n\t\tfunction updateMessageBoxPlacement() {\n\t\t\tthis.msgbox.position.x = (-vx / 2) * this.msgbox.live;\n\t\t\tthis.msgbox.position.y = vh - 0.5 * vy * 0.3 * this.msgbox.live;\n\t\t\tthis.msgbox.width = vw / 10 + vw / 1.3 * this.msgbox.live;\n\t\t\tthis.msgbox.height = vh / 12 + vh / 8 * this.msgbox.live;\n\t\t\tthis.message.position.x = 0.1 * vx * this.msgbox.live;\n\t\t\tthis.message.position.y = vh - 0.5 * vy * 0.3 * this.msgbox.live;\n\t\t}\n\t\tif (this.stage !== 'arcade') {\n\t\t\tif (this.message.visible) {\n\t\t\t\tif (this.msgbox.live < 1) {\n\t\t\t\t\tthis.msgbox.live = Math.min(this.msgbox.live + delta / 60, 1);\n\t\t\t\t\tupdateMessageBoxPlacement();\n\t\t\t\t}\n\t\t\t} else if (this.msgbox.live > 0) {\n\t\t\t\tthis.msgbox.live = Math.max(this.msgbox.live - delta / 60, 0);\n\t\t\t\tupdateMessageBoxPlacement();\n\t\t\t}\n\t\t}\n\t}\n\tshakeScreen(amount) {\n\t\tconst angle = Math.random() * Math.PI * 2;\n\t\tthis.camera.position.x += Math.sin(angle) * amount;\n\t\tthis.camera.position.z += Math.cos(angle) * amount;\n\t}\n}\n","import {\n\tDirectionalLight, AmbientLight, FogExp2,\n\tMesh, Group,\n\tCircleBufferGeometry,\n\tMeshBasicMaterial,\n\tVector3, Vector2, Quaternion\n} from \"three\";\n\nimport ShaderPass from \"w3g/three-effect/ShaderPass\";\nimport FadeShader from \"w3g/three-effect/FadeShader\";\nimport ZoomblurShader from \"w3g/three-effect/ZoomblurShader\";\n\nimport {hitTestEllipse} from 'w3g/hittest';\nimport * as THREE_Utils from \"w3g/threeutil\";\nimport Scene from \"w3g/scene\";\nimport assets from \"w3g/loading\";\nimport {vw, vh, threeComposer} from \"w3g/main\";\nimport {Rectangle, Ellipse} from \"w3g/geometries\";\nimport {Label, LabelArea} from \"w3g/uielements\";\nimport Easing from \"w3g/easing\";\nimport {get, free} from \"w3g/utils\";\n\nimport {byID, byPlace} from \"./equipments\";\nimport MainScene from \"./mainscene\";\nimport {Mark} from \"./geometries\";\nimport {units} from \"./units\";\nimport {PLAYER, EQUIPMENTS} from \"./constants\";\n\nconst BASE_Z = 100;\n\nexport default class TitleScene extends Scene {\n\n\tlabels = [];\n\tpoints = [];\n\tslots = [];\n\ttime = 0;\n\n\tconstructor() {\n\t\tsuper();\n\t\tlet currentPlayer = localStorage.getItem(PLAYER) || \"player1\";\n\t\tlet playerModel = assets.THREE_Model_GLTF[currentPlayer].clone();\n\t\tconst currentEquipments = JSON.parse(localStorage.getItem(EQUIPMENTS)) || [\n\t\t\t{name: 'Machinegun', level: 0},\n\t\t\t{name: 'Railgun', level: 0},\n\t\t\t{name: 'BladeMinion', level: 0},\n\t\t\t{name: 'Empty', level: 0},\n\t\t\t{name: 'SelfRepair', level: 0},\n\t\t\t{name: 'Empty', level: 0}\n\t\t];\n\t\tlet shipCost = 0;\n\t\tlet selectedStage;\n\t\tlet selectedDifficulty = \"normal\";\n\t\tconst start = () => {\n\t\t\tconst fade = new ShaderPass(new FadeShader());\n\t\t\tfade.uniforms.color.value.set(1, 1, 1, 0);\n\t\t\tthis.threePasses.push(fade);\n\t\t\tconst zoomblur = new ShaderPass(new ZoomblurShader());\n\t\t\tthis.threePasses.push(zoomblur);\n\n\t\t\tthis.addEasing(new Easing(fade.uniforms.color.value).add({w: 1}, 1250, Easing.LINEAR));\n\t\t\tthis.addEasing(\n\t\t\t\tnew Easing(zoomblur.uniforms.strength).add({value: 16}, 1250, Easing.LINEAR).trigger(() => {\n\t\t\t\t\tfor (let i = 0; i < currentEquipments.length; i++) {\n\t\t\t\t\t\tcurrentEquipments[i].position = this.slots[i].position;\n\t\t\t\t\t\tcurrentEquipments[i].mirror = this.slots[i].mirror;\n\t\t\t\t\t}\n\t\t\t\t\tMainScene.createAndEnter(currentEquipments, selectedStage, selectedDifficulty);\n\t\t\t\t}\n\t\t\t));\n\t\t};\n\t\tconst updateShipCostLabel = () => {\n\t\t\tthis.shipCostLabel.text = `Cost: ${shipCost}/${units[currentPlayer].maxCost}`;\n\t\t}\n\t\tconst menu = {\n\t\t\ttitle: {\n\t\t\t\tx: 0, y: 0, sub: [\n\t\t\t\t\t{type: 'label', value: 'Voyager', y: 15, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'Click to start', y: -15, size: 1.8},\n\t\t\t\t\t{type: 'model', name: 'player', value: playerModel, x: 0, y: 0, z: -50},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'model', value: new Mesh(\n\t\t\t\t\t\t\tnew CircleBufferGeometry(10000, 100),\n\t\t\t\t\t\t\tnew MeshBasicMaterial({map: assets.THREE_Texture.plane})\n\t\t\t\t\t\t), x: 0, y: 1000, z: 0, init: model => model.rotateX(-Math.PI / 2)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmain: {\n\t\t\t\tx: 50, y: -50, sub: [\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'Campaign', y: 8, size: 1.8, link: 'difficulty'},\n\t\t\t\t\t{type: 'label', value: 'Stage Select', y: 4, size: 1.8, link: 'stageselect'},\n\t\t\t\t\t{type: 'label', value: 'Ship Select', size: 1.8, link: 'shipselect'},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'label', value: 'Free Play', y: -4, size: 1.8, link: 'difficulty',\n\t\t\t\t\t\tcallback: () => selectedStage = 'arcade'\n\t\t\t\t\t},\n\t\t\t\t\t{type: 'label', value: 'How to play', y: -8, size: 1.8, link: 'help'},\n\t\t\t\t\t{type: 'label', value: 'Settings', y: -12, size: 1.8, link: 'setting'},\n\t\t\t\t\t{type: 'label', value: 'Credit', x: 8, y: -18, size: 1.5, link: 'credit'},\n\t\t\t\t\t{type: 'label', value: 'Back', y: -16, size: 1.8, link: 'title'}\n\t\t\t\t]\n\t\t\t},\n\t\t\thelp: {\n\t\t\t\tx: -60, y: 55, sub: [\n\t\t\t\t\t{type: 'label', value: 'How to play', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'Your airplane moves automatically', y: -1, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'to direction of your mouse pointer', y: -2, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '>', x: 12, size: 2.5, link: 'help2'},\n\t\t\t\t\t{type: 'label', value: '(1/5)', y: -3, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\thelp2: {\n\t\t\t\tx: 0, y: 55, sub: [\n\t\t\t\t\t{type: 'label', value: 'Speed-up by pressing your left mouse button', y: -1, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '<', x: -12, size: 2.5, link: 'help'},\n\t\t\t\t\t{type: 'label', value: '>', x: 12, size: 2.5, link: 'help3'},\n\t\t\t\t\t{type: 'label', value: '(2/5)', y: -3, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\thelp3: {\n\t\t\t\tx: 60, y: 55, sub: [\n\t\t\t\t\t{type: 'label', value: 'Press W/S key to up/down vertically', y: -1, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '(any key in this help is default key bind)', y: -2, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '<', x: -12, size: 2.5, link: 'help2'},\n\t\t\t\t\t{type: 'label', value: '>', x: 12, size: 2.5, link: 'help4'},\n\t\t\t\t\t{type: 'label', value: '(3/5)', y: -3, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\thelp4: {\n\t\t\t\tx: 120, y: 55, sub: [\n\t\t\t\t\t{type: 'label', value: 'Press space key to attack', y: -1, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '<', x: -12, size: 2.5, link: 'help3'},\n\t\t\t\t\t{type: 'label', value: '>', x: 12, size: 2.5, link: 'help5'},\n\t\t\t\t\t{type: 'label', value: '(4/5)', y: -3, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\thelp5: {\n\t\t\t\tx: 180, y: 55, sub: [\n\t\t\t\t\t{type: 'label', value: 'Press A/D key and Shift key to use up to 4 skills', y: -1, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '<', x: -12, size: 2.5, link: 'help4'},\n\t\t\t\t\t{type: 'label', value: '(5/5)', y: -3, size: 0.8},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\tstageselect: {\n\t\t\t\tx: -72, y: -25, sub: [\n\t\t\t\t\t{type: 'label', value: 'Stage Select', y: 14, size: 2.5},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'model', value: assets.THREE_Model_GLTF.airballoon.clone(),\n\t\t\t\t\t\tx: 0, y: 0, z: 0,\n\t\t\t\t\t\tinit: model => model.rotateOnAxis(new Vector3(1, -1, -1).normalize(), 1)\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t},\n\t\t\tshipselect: {\n\t\t\t\tx: 0, y: 0, z: -20, sub: [\n\t\t\t\t\t{type: 'label', value: 'Ship Select', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', value: '(You cannot select ship in this version)', y: -4, size: 0.8},\n\t\t\t\t\t{type: 'label', value: '<', x: -12, size: 2.5},\n\t\t\t\t\t{type: 'label', value: '>', x: 12, size: 2.5},\n\t\t\t\t\t{type: 'label', value: 'Modify Ship', y: -8, size: 1.8, link: 'shipmodify', callback: updateShipCostLabel},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'},\n\t\t\t\t]\n\t\t\t},\n\t\t\tshipmodify: {\n\t\t\t\tx: 0, y: 0, z: -40, sub: [\n\t\t\t\t\t{type: 'label', value: 'Ship Modify', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', name: 'shipCostLabel', value: '', y: 9, size: 1.8},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 0, place: \"front\", position: new Vector3(1.5, -1, 27), mirror: true},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 1, place: \"front\", position: new Vector3(0, -1, 20)},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 2, place: \"wing\", position: new Vector3(6, 0.5, -9), mirror: true},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 3, place: \"top\", position: new Vector3(0, 3, -5)},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 4, place: \"core\", position: new Vector3(0, 0, 0)},\n\t\t\t\t\t{type: 'point', parent: 'player', index: 5, place: \"core\", position: new Vector3(0, 0, -5)},\n\t\t\t\t\t{type: 'label', value: 'Back', y: -12, size: 1.8, link: 'shipselect'},\n\t\t\t\t\t{type: 'label', value: 'Main Menu', y: -16, size: 1.8, link: 'main'},\n\t\t\t\t]\n\t\t\t},\n\t\t\tdifficulty: {\n\t\t\t\tx: 125, y: -100, sub: [\n\t\t\t\t\t{type: 'label', value: 'Difficulty', y: 16, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'Easy', y: 4, size: 1.8, callback: () => {\n\t\t\t\t\t\tselectedDifficulty = \"easy\";\n\t\t\t\t\t\tstart();\n\t\t\t\t\t}},\n\t\t\t\t\t{type: 'label', value: 'Normal', size: 1.8, callback: start},\n\t\t\t\t\t{type: 'label', value: 'Hard', y: -4, size: 1.8, callback: () => {\n\t\t\t\t\t\tselectedDifficulty = \"hard\";\n\t\t\t\t\t\tstart();\n\t\t\t\t\t}},\n\t\t\t\t\t{type: 'label', value: 'Back', y: -8, size: 1.8, link: 'main'},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'model', value: assets.THREE_Model_GLTF.enem1.clone(), x: 8, y: -4, z: 0,\n\t\t\t\t\t\tinit: model => model.rotateOnAxis(new Vector3(1, -1, -1).normalize(), 1)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'model', value: assets.THREE_Model_GLTF.enem1.clone(), x: -8, y: 4, z: 0,\n\t\t\t\t\t\tinit: model => model.rotateOnAxis(new Vector3(1, -1, -1).normalize(), 1)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'model', value: assets.THREE_Model_GLTF.enem1.clone(), x: -10, y: -12, z: 40,\n\t\t\t\t\t\tinit: model => model.rotateOnAxis(new Vector3(1, -1, -1).normalize(), 1)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tsetting: {\n\t\t\t\tx: 25, y: -144, sub: [\n\t\t\t\t\t{type: 'label', value: 'Settings', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'KeyBinding', y: 5, size: 1.8},\n\t\t\t\t\t{type: 'label', value: 'Sound Volume', y: -5, size: 1.8},\n\t\t\t\t\t{type: 'label', value: 'Back', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t},\n\t\t\tcredit: {\n\t\t\t\tx: 500, y: -500, sub: [\n\t\t\t\t\t{type: 'label', value: 'Credit', y: 14, size: 3.6},\n\t\t\t\t\t{type: 'label', value: 'Programing: axion014', y: 8, size: 1.8},\n\t\t\t\t\t{type: 'label', value: 'Back', y: -16, size: 1.8, link: 'main'}\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\tconst directionalLight = new DirectionalLight(0xffffff, 1);\n\t\tdirectionalLight.position.set(0, 0, 30);\n\t\tthis.threeScene.add(directionalLight);\n\t\tthis.threeScene.add(new AmbientLight(0x606060));\n\t\tthreeComposer.renderer.setClearColor(0x66aaee, 1.0);\n\t\tthis.threeScene.fog = new FogExp2(0x66aaee, 0.00025);\n\t\tthis.camera.position.z = BASE_Z;\n\n\t\tconst moveTo = (x, y, z) => {\n\t\t\tconst dist = Math.hypot(this.camera.position.x - x, this.camera.position.y - y);\n\t\t\tthis.addEasing(new Easing(this.camera.position).add(\n\t\t\t\t{x: x, y: y, z: BASE_Z + z},\n\t\t\t\tMath.max(dist * 3, 900),\n\t\t\t\tEasing.inOut(dist / 125 + 2.5)\n\t\t\t));\n\t\t};\n\t\tconst moveToMain = () => {\n\t\t\tmoveTo(50, -50, 0);\n\t\t\tthis.removeEventListener('click', moveToMain);\n\t\t};\n\t\tconst equipmentEdit = new Rectangle({\n\t\t\twidth: vw * 0.75,\n\t\t\theight: vh * 0.75,\n\t\t\tfillColor: \"#888\",\n\t\t\topacity: 0,\n\t\t\tselfOpacity: 0.65,\n\t\t\tstrokeWidth: 2\n\t\t});\n\n\t\tObject.keys(menu).forEach(key => {\n\t\t\tconst value = menu[key];\n\t\t\tvalue.z = value.z || 0;\n\t\t\tvalue.sub.forEach(selects => {\n\t\t\t\tif (selects.type === 'label') {\n\t\t\t\t\tselects = Object.assign({x: 0, y: 0}, selects);\n\t\t\t\t\tconst pixratio = 32;\n\t\t\t\t\tconst label = new Label(selects.value, {font: `${selects.size * pixratio}px 'HiraKakuProN-W3'`});\n\t\t\t\t\tlabel.scale.set(1 / pixratio, 1 / pixratio, 1);\n\t\t\t\t\tthis.threeScene.add(label);\n\t\t\t\t\tlabel.position.set(value.x + selects.x, value.y + selects.y, value.z + 50);\n\t\t\t\t\tlabel.material.opacity = (1 - Math.min(Math.max(Math.abs(value.z) - 10, 0) * 0.1, 1)) * 0.5;\n\t\t\t\t\tif (selects.link) {\n\t\t\t\t\t\tlabel.addEventListener('click', () => {\n\t\t\t\t\t\t\tif (Math.abs(this.camera.position.z - label.position.z - 50) >= 1) return;\n\n\t\t\t\t\t\t\tmoveTo(menu[selects.link].x, menu[selects.link].y, menu[selects.link].z || 0);\n\t\t\t\t\t\t\tif (selects.link === 'title') this.addEventListener('click', moveToMain);\n\n\t\t\t\t\t\t\tconst movedToShipModify = selects.link === 'shipmodify';\n\t\t\t\t\t\t\tthis.points.forEach(point => point.visible = movedToShipModify);\n\n\t\t\t\t\t\t\tthis.position = selects.link;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (selects.callback) label.addEventListener('click', () => {\n\t\t\t\t\t\tif (Math.abs(this.camera.position.z - label.position.z - 50) < 1) selects.callback();\n\t\t\t\t\t});\n\t\t\t\t\tif(selects.name) this[selects.name] = label;\n\t\t\t\t\tthis.labels.push(label);\n\t\t\t\t} else if (selects.type === 'model') {\n\t\t\t\t\tconst add = (parent, models) => {\n\t\t\t\t\t\tmodels.forEach(model => {\n\t\t\t\t\t\t\tparent.add(model.value);\n\t\t\t\t\t\t\tmodel.value.position.set(value.x + model.x, value.y + model.y, value.z + model.z);\n\t\t\t\t\t\t\tif(model.init) model.init(model.value);\n\t\t\t\t\t\t\tif(model.name) this[model.name] = model.value;\n\t\t\t\t\t\t\tmodel.childrens && add(model.value, model.childrens);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tadd(this.threeScene, [selects]);\n\t\t\t\t} else if (selects.type === 'point') {\n\t\t\t\t\tthis.slots[selects.index] = selects;\n\t\t\t\t\tconst scene = this;\n\t\t\t\t\tclass EquipSlot extends Group {\n\t\t\t\t\t\tconstructor(options) {\n\t\t\t\t\t\t\tsuper();\n\t\t\t\t\t\t\tthis.hitTest = hitTestEllipse;\n\t\t\t\t\t\t\tthis.radius = 16;\n\t\t\t\t\t\t\tthis.data = options.data;\n\t\t\t\t\t\t\tthis.mirror = options.mirror;\n\t\t\t\t\t\t\tthis.visible = false;\n\t\t\t\t\t\t\tthis.add(new Mark({strokeColor: \"#4a4\", strokeWidth: 1, width: 48, height: 48}));\n\t\t\t\t\t\t\tthis.add(new Ellipse({fillColor: \"#4a4\", radius: 16, opacity: 0.5}));\n\t\t\t\t\t\t\tif (this.mirror) {\n\t\t\t\t\t\t\t\tthis.link = THREE_Utils.createMeshLine([0, 0, 0, 0], {color: \"#4a4\", lineWidth: 2}, true);\n\t\t\t\t\t\t\t\tthis.add(this.link);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.addEventListener('click', () => {\n\t\t\t\t\t\t\t\tscene.interactive = false;\n\t\t\t\t\t\t\t\tback.interactive = true;\n\t\t\t\t\t\t\t\tscene.labels.forEach(label => label.interactive = false);\n\t\t\t\t\t\t\t\tscene.points.forEach(point => point.interactive = false);\n\t\t\t\t\t\t\t\tequipmentEdit.target = this.data;\n\t\t\t\t\t\t\t\tscene.UIScene.add(equipmentEdit);\n\t\t\t\t\t\t\t\tequipmentEdit.children.forEach(child => child.interactive = true);\n\t\t\t\t\t\t\t\tscene.addEasing(new Easing(equipmentEdit).add({opacity: 1}, 250, Easing.LINEAR));\n\t\t\t\t\t\t\t\tequipmentEdit.updateCurrent(currentEquipments[this.data.index].klass, currentEquipments[this.data.index].level);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new EquipSlot({data: selects});\n\t\t\t\t\tslot.position.z =　-1;\n\t\t\t\t\tthis.UIScene.add(slot);\n\t\t\t\t\tthis.points.push(slot);\n\t\t\t\t\tif (selects.mirror) {\n\t\t\t\t\t\tconst mirrorslot = new EquipSlot({data: selects, mirror: slot});\n\t\t\t\t\t\tmirrorslot.position.z =　-1;\n\t\t\t\t\t\tthis.UIScene.add(mirrorslot);\n\t\t\t\t\t\tthis.points.push(mirrorslot);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tthis.addEventListener('click', moveToMain);\n\n\t\tfor (let i = 0; i < currentEquipments.length; i++) {\n\t\t\tconst equipment = currentEquipments[i];\n\t\t\tif (equipment.name) equipment.klass = byID[equipment.name];\n\t\t\tshipCost += equipment.klass.getCost(equipment.level) * (this.slots[i].mirror ? 2 : 1);\n\t\t}\n\n\t\tequipmentEdit.equipment = {};\n\t\tequipmentEdit.name = new Label(\"\", {y: vh * 0.24});\n\t\tequipmentEdit.add(equipmentEdit.name);\n\t\tequipmentEdit.cost = new Label(\"\", {y: vh * 0.18});\n\t\tequipmentEdit.add(equipmentEdit.cost);\n\t\tequipmentEdit.description = new LabelArea(\" \", {\n\t\t\twidth: vw * 0.42,\n\t\t\tfont: \"18px 'HiraKakuProN-W6'\"\n\t\t});\n\t\tequipmentEdit.add(equipmentEdit.description);\n\n\t\tconst left = new Label(\"<\", {x: -vw * 0.28, font: \"48px 'HiraKakuProN-W3'\"});\n\t\tconst right = new Label(\">\", {x: vw * 0.28, font: \"48px 'HiraKakuProN-W3'\"});\n\t\tconst up = new Label(\"<\", {\n\t\t\tx: -10, y: vh * 0.125, rotation: -Math.PI / 2, font: \"48px 'HiraKakuProN-W3'\"\n\t\t});\n\t\tconst down = new Label(\">\", {\n\t\t\tx: -10, y: -vh * 0.125, rotation: -Math.PI / 2, font: \"48px 'HiraKakuProN-W3'\"\n\t\t});\n\n\t\tleft.addEventListener('click', () => {\n\t\t\tlet index = byPlace[equipmentEdit.target.place].indexOf(equipmentEdit.equipment.klass);\n\t\t\tlet klass;\n\t\t\tdo {\n\t\t\t\tif (index === 0) {\n\t\t\t\t\tklass = byPlace[equipmentEdit.target.place][index = byPlace[equipmentEdit.target.place].length - 1];\n\t\t\t\t} else {\n\t\t\t\t\tklass = byPlace[equipmentEdit.target.place][--index];\n\t\t\t\t}\n\t\t\t} while (klass.unlockedLevel < 0);\n\t\t\tequipmentEdit.updateCurrent(klass, Math.min(equipmentEdit.equipment.level, klass.unlockedLevel));\n\t\t});\n\n\t\tright.addEventListener('click', () => {\n\t\t\tlet index = byPlace[equipmentEdit.target.place].indexOf(equipmentEdit.equipment.klass);\n\t\t\tlet klass;\n\t\t\tdo {\n\t\t\t\tif (index === byPlace[equipmentEdit.target.place].length - 1) {\n\t\t\t\t\tklass = byPlace[equipmentEdit.target.place][index = 0];\n\t\t\t\t} else {\n\t\t\t\t\tklass = byPlace[equipmentEdit.target.place][++index];\n\t\t\t\t}\n\t\t\t} while (klass.unlockedLevel < 0);\n\t\t\tequipmentEdit.updateCurrent(klass, Math.min(equipmentEdit.equipment.level, klass.unlockedLevel));\n\t\t});\n\n\t\tup.addEventListener('click', () => {\n\t\t\tif (equipmentEdit.equipment.level < equipmentEdit.equipment.klass.unlockedLevel)\n\t\t\t\tequipmentEdit.updateCurrent(equipmentEdit.equipment.klass, equipmentEdit.equipment.level + 1);\n\t\t});\n\n\t\tdown.addEventListener('click', () => {\n\t\t\tif (equipmentEdit.equipment.level > 0)\n\t\t\t\tequipmentEdit.updateCurrent(equipmentEdit.equipment.klass, equipmentEdit.equipment.level - 1);\n\t\t});\n\n\t\tequipmentEdit.add(left);\n\t\tequipmentEdit.add(right);\n\t\tequipmentEdit.add(up);\n\t\tequipmentEdit.add(down);\n\n\t\tequipmentEdit.ok = new Label();\n\t\tequipmentEdit.ok.y = -vh * 0.2;\n\n\t\tequipmentEdit.ok.addEventListener('click', () => {\n\t\t\tconst oldequipment = currentEquipments[equipmentEdit.target.index];\n\t\t\tshipCost -= oldequipment.klass.getCost(oldequipment.level) * (equipmentEdit.target.mirror ? 2 : 1);\n\t\t\tshipCost += equipmentEdit.equipment.klass.getCost(equipmentEdit.equipment.level) * (equipmentEdit.target.mirror ? 2 : 1);\n\t\t\tcurrentEquipments[equipmentEdit.target.index] = {klass: equipmentEdit.equipment.klass, level: equipmentEdit.equipment.level};\n\t\t\tcurrentEquipments.forEach(equipment => equipment.name = equipment.klass.id);\n\t\t\tlocalStorage.setItem(EQUIPMENTS, JSON.stringify(currentEquipments));\n\t\t\tupdateShipCostLabel();\n\t\t\tequipmentEdit.close();\n\t\t});\n\n\t\tequipmentEdit.add(equipmentEdit.ok);\n\n\t\tconst back = new Label(\"Back\", {y: -vh * 0.25});\n\t\tback.addEventListener('click', () => equipmentEdit.close());\n\t\tequipmentEdit.add(back);\n\n\t\tequipmentEdit.close = () => {\n\t\t\tback.interactive = false;\n\t\t\tthis.interactive = true;\n\t\t\tthis.labels.forEach(label => label.interactive = true);\n\t\t\tthis.points.forEach(point => point.interactive = true);\n\t\t\tequipmentEdit.children.forEach(child => child.interactive = false);\n\t\t\tthis.addEasing(\n\t\t\t\tnew Easing(equipmentEdit)\n\t\t\t\t\t.add({opacity: 0}, 250, Easing.LINEAR)\n\t\t\t\t\t.trigger(() => equipmentEdit.parent.remove(equipmentEdit))\n\t\t\t);\n\t\t};\n\t\tequipmentEdit.updateCurrent = function(klass, level) {\n\t\t\tthis.equipment.klass = klass;\n\t\t\tthis.equipment.level = level;\n\t\t\tconst changeing = this.equipment.klass !== currentEquipments[this.target.index].klass || this.equipment.level !== currentEquipments[this.target.index].level;\n\t\t\tthis.ok.visible = changeing;\n\t\t\tthis.ok.text = currentEquipments[this.target.index].klass === byID.Empty ? 'Install' : 'Replace';\n\t\t\tthis.ok.y = -vh * 0.2;\n\t\t\tif (klass === byID.Empty) {\n\t\t\t\tif (changeing) {\n\t\t\t\t\tthis.name.text = ' ';\n\t\t\t\t\tthis.ok.text = 'Uninstall';\n\t\t\t\t\tthis.ok.y = -vh * 0.06;\n\t\t\t\t} else this.name.text = 'No module';\n\t\t\t\tthis.cost.text = ' ';\n\t\t\t} else {\n\t\t\t\tthis.name.text = `${klass.equipmentName} ${level + 1}`;\n\t\t\t\tthis.cost.text = `Cost: ${klass.getCost(level) * (this.target.mirror ? 2 : 1)}`;\n\t\t\t}\n\t\t\tthis.description.text = klass.getDescription(level);\n\t\t};\n\t}\n\tupdate(delta) {\n\t\tsuper.update(delta);\n\t\tthis.time += delta * (this.position === 'shipmodify' ? 0.2 : 1);\n\t\t// Camera control\n\t\tthis.player.quaternion.set(0, 0, 0, 1);\n\t\tthis.player.rotateX(Math.sin(this.time * 0.00075) * 0.25);\n\t\tthis.player.rotateY(-Math.PI / 2 + this.time * 0.0004);\n\n\t\tthis.labels.forEach(label => {\n\t\t\tlabel.material.opacity = 1 - Math.min(Math.max(Math.abs(this.camera.position.z - label.position.z - 50) - 10, 0) * 0.1, 1);\n\t\t});\n\n\t\tconst v = get(Vector3);\n\t\tthis.points.forEach(point => {\n\t\t\tif (!point.visible) return;\n\t\t\tv.copy(point.data.position);\n\t\t\tif (point.mirror) v.x = -v.x;\n\t\t\tconst pos = this[point.data.parent].localToWorld(v).project(this.camera);\n\t\t\tpoint.position.x = pos.x * vw / 2;\n\t\t\tpoint.position.y = pos.y * vh / 2;\n\t\t\tif (point.mirror) THREE_Utils.setMeshLineGeometry(point.link,\n\t\t\t\t[0, 0, point.mirror.position.x - point.position.x, point.mirror.position.y - point.position.y], true);\n\t\t});\n\t\tfree(v);\n\t}\n\tstatic requiredResources = {\n\t\tTHREE_Model_GLTF: ['enem1', 'airballoon'],\n\t\tTHREE_Texture: {plane: 'data/images/3.png'}\n\t};\n}\n","\nimport {Vector3, Vector2, Quaternion, Color} from \"three\";\n\nimport Scene from \"w3g/scene\";\nimport {Label} from \"w3g/uielements\";\nimport Easing from \"w3g/easing\";\nimport {loadResources, countResources, fileParsers, addFile} from \"w3g/loading\";\n\nimport FadeShader from \"w3g/three-effect/FadeShader\";\nimport ZoomblurShader from \"w3g/three-effect/ZoomblurShader\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nimport TitleScene from \"./title\";\nimport {PLAYER} from \"./constants\";\nimport \"./units\";\n\naddFile('GLSL', 'glowFragment', \"data/glsl/glowfrag.min.glsl\");\n\nexport const initialLoads = [FadeShader, ZoomblurShader, TitleScene, {\n\tTHREE_Model_GLTF: localStorage.getItem(PLAYER) || \"player1\"\n}];\n\nexport class LoadingScene extends Scene {\n\n\tlabel = new Label(\"Loading... 0%\", {\n\t\tfont: \"20px 'HiraKakuProN-W3'\",\n\t\tfillStyle: '#444a',\n\t});\n\n\tconstructor(list, nextScene, ...nextSceneArguments) {\n\t\tsuper();\n\t\tthis.UIScene.add(this.label);\n\t\tthis.nextScene = nextScene;\n\t\tthis.nextSceneArguments = nextSceneArguments;\n\t\tthis.load(list);\n\t}\n\n\tasync load(list) {\n\t\tconst totalResources = countResources(list);\n\n\t\tlet loadedResources = 0;\n\t\tawait loadResources(list, () => {\n\t\t\tloadedResources++;\n\t\t\tthis.label.text =\t`Loading... ${loadedResources} / ${totalResources} (${Math.round(loadedResources / totalResources * 100)}%)`;\n\t\t});\n\n\t\tthis.onComplete();\n\t}\n\n\tonComplete() {\n\t\tconsole.log('Load complete');\n\t\tthis.addEasing(\n\t\t\tnew Easing(this.label)\n\t\t\t\t.add({opacity: 0}, 200, Easing.LINEAR)\n\t\t\t\t.trigger(() => this.nextScene.createAndEnter(...this.nextSceneArguments))\n\t\t);\n\t}\n}\n\nexport function setupLoaders() {\n\tfileParsers.STAGE = async response => {\n\t\treturn (function recurse(obj, defaults) {\n\t\t\tif (typeof defaults === \"function\") return defaults(obj);\n\t\t\telse if (Array.isArray(defaults)) obj.forEach(\n\t\t\t\telement => obj[element] = recurse(element, defaults[0])\n\t\t\t);\n\t\t\telse defaults.keys().forEach(key => {\n\t\t\t\tif (obj[key]) obj[key] = recurse(obj[key], defaults[key]);\n\t\t\t\telse obj[key] = defaults[key];\n\t\t\t});\n\t\t\treturn obj;\n\t\t})(await response.json(), {\n\t\t\tenemys: [\n\t\t\t\t{\n\t\t\t\t\tposition: obj => new Vector3(obj.x || 0, obj.y || 0, obj.z || 0),\n\t\t\t\t\trotation: obj => {\n\t\t\t\t\t\tconst axis = get(Vector3).set(obj.a.x || 0, obj.a.y || 0, obj.a.z || 0);\n\t\t\t\t\t\tconst quaternion = rotate(new Quaternion(), axis, obj.r || 0);\n\t\t\t\t\t\tfree(axis);\n\t\t\t\t\t\treturn quaternion;\n\t\t\t\t\t},\n\t\t\t\t\toption: {},\n\t\t\t\t\tautospawn: {\n\t\t\t\t\t\ttime: 0, progress: 0,\n\t\t\t\t\t\trandom: obj => new Vector3(obj.x || 0, obj.y || 0, obj.z || 0)\n\t\t\t\t\t},\n\t\t\t\t\tkillmes: {time: 0, text: '', offkill: false}\n\t\t\t\t}\n\t\t\t],\n\t\t\tobstacles: [\n\t\t\t\t{\n\t\t\t\t\tposition: obj => new Vector3(obj.x || 0, obj.y || 0, obj.z || 0),\n\t\t\t\t\trotation: obj => {\n\t\t\t\t\t\tconst axis = get(Vector3).set(obj.a.x || 0, obj.a.y || 0, obj.a.z || 0);\n\t\t\t\t\t\tconst quaternion = rotate(new Quaternion(), axis, obj.r || 0);\n\t\t\t\t\t\tfree(axis);\n\t\t\t\t\t\treturn quaternion;\n\t\t\t\t\t},\n\t\t\t\t\tscale: obj => new Vector3(obj.x || 100, obj.y || 100, obj.z || 100)\n\t\t\t\t}\n\t\t\t],\n\t\t\twinds: [\n\t\t\t\t{\n\t\t\t\t\tposition: obj => new Vector2(obj.x, obj.y),\n\t\t\t\t\tv: 0.2, color: arr => new Color(arr[0], arr[1], arr[2])\n\t\t\t\t}\n\t\t\t],\n\t\t\tmessages: [{time: 0, text: ''}],\n\t\t\tgoals: [\n\t\t\t\t{\n\t\t\t\t\tposition: obj => new Vector3(obj.x, obj.y, obj.z),\n\t\t\t\t\tsize: 100, kill: 0, message: ''\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t};\n}\n","\nimport {init, run} from \"w3g/main\";\n\nimport {LoadingScene, initialLoads, setupLoaders} from \"./loading\";\nimport TitleScene from \"./title\";\n\nimport regeneratorRuntime from \"regenerator-runtime\"; // async requires this\n\nwindow.onload = async function() {\n\tconst canvas = init();\n\n\tsetupLoaders();\n\n\tLoadingScene.createAndEnter(initialLoads, TitleScene);\n\n\tdocument.body.appendChild(await canvas);\n\n\trun();\n};\n"],"names":["Number","EPSILON","undefined","Math","pow","isInteger","value","isFinite","floor","sign","x","Function","prototype","Object","defineProperty","get","toString","match","assign","target","TypeError","output","index","arguments","length","source","nextKey","hasOwnProperty","call","EventDispatcher","addEventListener","type","listener","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","array","slice","i","l","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","_Math","DEG2RAD","PI","RAD2DEG","generateUUID","lut","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","n","m","mapLinear","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","Vector2","defineProperties","set","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","clone","constructor","copy","v","add","w","console","warn","addVectors","addScalar","s","a","b","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","c","cos","sin","Matrix4","error","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","z","extractRotation","Vector3","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","d","f","order","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","zero","one","q","compose","lookAt","eye","up","crossVectors","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","count","getZ","applyMatrix4","setXYZ","determinant","transpose","tmp","setPosition","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","axis","tx","ty","makeScale","makeShear","position","quaternion","_x","_y","_z","_w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","sy","sz","decompose","vector","matrix","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","p","Quaternion","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","onChangeCallback","isQuaternion","setFromEuler","update","c1","c2","c3","s1","s2","s3","setFromAxisAngle","halfAngle","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","r","EPS","vFrom","vTo","angleTo","acos","rotateTowards","step","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","callback","isVector3","setZ","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","matrixWorld","transformDirection","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","Matrix3","isMatrix3","setFromMatrix4","g","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","rotation","cx","cy","rotate","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","create","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","Array","isArray","dispose","transformUv","uv","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","WebGLRenderTargetCube","activeCubeFace","activeMipMapLevel","isWebGLRenderTargetCube","DataTexture","data","isDataTexture","Box3","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","object","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","scope","traverse","node","geometry","isGeometry","vertices","isBufferGeometry","attributes","updateMatrixWorld","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","closestPoint","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","v0","f0","f1","f2","testAxis","extents","triangleNormal","satForAxes","axes","j","p0","p1","p2","triangle","distanceToPoint","clampedPoint","getBoundingSphere","Sphere","intersect","union","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","direction","delta","denominator","start","intersectsLine","startSign","endSign","end","coplanarPoint","m1","optionalNormalMatrix","normalMatrix","referencePoint","Frustum","p3","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","boundingSphere","computeBoundingSphere","intersectsSprite","sprite","negRadius","distance","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","cloneUniforms","u","property","isColor","mergeUniforms","uniforms","merged","UniformsUtils","merge","ColorKeywords","Color","setRGB","setHex","setStyle","hex","setHSL","hue2rgb","style","handleAlpha","string","parseFloat","exec","color","components","parseInt","charAt","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","SRGBToLinear","copyLinearToSRGB","LinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","hsl","addColors","color1","color2","lerpHSL","hslA","hslB","UniformsLib","diffuse","opacity","map","uvTransform","alphaMap","specularmap","specularMap","envmap","envMap","flipEnvMap","reflectivity","refractionRatio","maxMipLevel","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","gradientmap","gradientMap","fog","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","directionalLights","properties","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","vertexShader","fragmentShader","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","matcap","dashed","dashSize","totalSize","depth","background","t2D","cube","tCube","tFlip","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","physical","clearCoat","clearCoatRoughness","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","WeakMap","createBuffer","bufferType","usage","dynamic","buffer","bindBuffer","bufferData","onUploadCallback","Float32Array","Float64Array","Uint16Array","Int16Array","Uint32Array","Int32Array","Int8Array","Uint8Array","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","updateRange","bufferSubData","subarray","isInterleavedBufferAttribute","remove","deleteBuffer","Face3","materialIndex","vertexNormals","vertexColors","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","toggle","disable","test","layers","object3DId","Object3D","parent","children","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","q1","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","updateWorldMatrix","isCamera","isLight","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isMesh","drawMode","serialize","library","element","isLine","isPoints","parameters","shape","material","uuids","extractFromCache","cache","values","key","recursive","parse","geometryId","Geometry","colors","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","vertex","face","jl","computeBoundingBox","obj","fromBufferGeometry","indices","positions","normals","uvs","uvs2","uv2","addFace","groups","group","computeFaceNormals","cb","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","precision","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","k","kl","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","BufferAttribute","itemSize","normalized","isBufferAttribute","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","arrayMax","bufferGeometryId","BufferGeometry","morphAttributes","drawRange","getIndex","setIndex","addAttribute","getAttribute","removeAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","isNaN","pA","pB","pC","normalizeNormals","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","morphAttribute","keys","BoxGeometry","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","materialId","Material","blending","side","flatShading","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","isMaterial","onBeforeCompile","setValues","newValue","currentValue","isRoot","emissiveIntensity","normalMapType","combine","sizeAttenuation","linewidth","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","srcPlanes","dstPlanes","ShaderMaterial","defines","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Ray","origin","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","barycoord","uv1","uv3","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","result","vab","vac","vbc","vap","vbp","vcp","d4","vc","d5","d6","vb","va","MeshBasicMaterial","isMeshBasicMaterial","Mesh","updateMorphTargets","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","String","inverseMatrix","tempA","tempB","tempC","uvA","uvB","uvC","intersectionPoint","intersectionPointWorld","checkIntersection","raycaster","checkBufferGeometryIntersection","intersection","intersects","groupMaterial","faceIndex","fvA","fvB","fvC","isMultiMaterial","faceMaterial","morphInfluences","tl","influence","targets","uvs_f","WebGLBackground","renderer","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","render","renderList","scene","forceClear","setClear","autoClear","clear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","capabilities","mode","setMode","drawArrays","renderInstances","extension","isWebGL2","maxInstancedCount","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","getWireframeAttribute","geometryIndex","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture3d","emptyCubeTexture","UniformContainer","seq","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocTextureUnit","setValue1f","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2f","uniform2fv","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4f","uniform4fv","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","getSingularSetter","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","updateCache","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","addLineNumbers","split","join","WebGLShader","shader","createShader","shaderSource","compileShader","getShaderParameter","getShaderInfoLog","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","objectSpaceNormalMap","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","parseIncludes","pattern","include","unrollLoops","snippet","unroll","WebGLProgram","code","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","programLog","getProgramInfoLog","trim","vertexLog","fragmentLog","runnable","haveDiagnostics","getError","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","shadows","nClipPlanes","nClipIntersection","shaderID","isSkinnedMesh","currentRenderTarget","getRenderTarget","gammaOutput","gammaInput","envMapMode","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","getNextRenderItem","renderItem","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","WebGLLights","stateID","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","shadowsLength","ambient","vector3","matrix42","setup","intensity","isAmbientLight","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","WebGLShadowMap","_renderer","_objects","_frustum","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_lightPositionWorld","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","cubeDirections","cubeUps","cube2DViewPorts","useMorphing","useSkinning","depthMaterial","distanceMaterial","autoUpdate","_state","setBlending","setTest","setScissorTest","faceCount","shadowCamera","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMatrix","setRenderTarget","vpDimensions","renderObject","getDepthMaterial","lightPositionWorld","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","variantIndex","keyA","keyB","materialsForVariant","cachedMaterial","renderBufferDirect","WebGLState","utils","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","compressedTextureFormats","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","getCompressedTextureFormats","formats","useProgram","blendFuncSeparate","blendFunc","blendEquationSeparate","convert","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","_videoTextures","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","glFormat","glType","internalFormat","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTarget","deallocateRenderTarget","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","slot","updateVideoTexture","__version","complete","uploadTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","glInternalFormat","setTextureParameters","mipmap","setTextureCubeDynamic","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","Group","isGroup","Camera","projectionMatrixInverse","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","ArrayCamera","isArrayCamera","cameraLPos","cameraRPos","setProjectionFromUnion","cameraL","cameraR","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","WebVRManager","device","frameData","poseTarget","controllers","standingMatrix","standingMatrixInverse","framebufferScaleFactor","frameOfReferenceType","window","VRFrameData","onVRDisplayPresentChange","tempQuaternion","tempPosition","bounds","cameraVR","isPresenting","currentSize","currentPixelRatio","eyeParameters","getEyeParameters","renderWidth","renderHeight","getPixelRatio","setDrawingBufferSize","animation","triggers","findGamepad","gamepads","navigator","getGamepads","gamepad","startsWith","updateControllers","controller","pose","hasPosition","orientation","buttonId","buttons","pressed","getController","getDevice","setDevice","setFramebufferScaleFactor","setFrameOfReferenceType","setPoseTarget","getCamera","userHeight","depthNear","depthFar","getFrameData","stageParameters","sittingToStandingTransform","poseObject","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","getStandingMatrix","submitFrame","WebXRManager","session","frameOfReference","inputSources","XRDevice","setCompatibleXRDevice","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","setSession","baseLayer","XRWebGLLayer","requestFrameOfReference","then","getInputSources","updateCamera","onAnimationFrameCallback","getDevicePose","views","getViewport","getViewMatrix","inputPose","getInputPose","targetRay","transformMatrix","pointerMatrix","THREE","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_isContextLost","_framebuffer","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_usedTextureUnits","_width","_height","_pixelRatio","_viewport","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_vector3","getTargetPixelRatio","contextAttributes","onContextLost","onContextRestore","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","vr","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","getCurrentViewport","setScissor","boolean","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","initMaterial","projectObject","opaqueObjects","transparentObjects","overrideMaterial","renderObjects","isImmediateRenderObject","camera2","materialProperties","lightsHash","lightsStateHash","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","isFog","density","textureUnit","warned","setTexture","readRenderTargetPixels","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","Scene","isScene","InterleavedBuffer","isInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","Sprite","float32Array","intersectPoint","worldScale","mvPosition","alignedPosition","rotatedPosition","viewWorldMatrix","transformVertex","vertexPosition","LOD","levels","addLevel","getObjectForDistance","matrixPosition","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","Skeleton","boneInverses","bone","isBone","offsetMatrix","identityMatrix","getBoneByName","Bone","linecap","linejoin","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","LineSegments","LineLoop","Points","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge","edges","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","detail","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","appplyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","prev","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","nextZ","prevZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","forEach","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","concat","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","track","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","shift","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","tracks","resetDuration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","transform","DefaultLoadingManager","loading","FileLoader","manager","load","cached","setTimeout","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","status","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setPath","setResponseType","setWithCredentials","setMimeType","AnimationLoader","loader","CompressedTextureLoader","_parser","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","crossOrigin","onImageLoad","onImageError","substr","setCrossOrigin","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","tangent","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","resolution","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","SpotLightShadow","SpotLight","power","PointLight","OrthographicCamera","isOrthographicCamera","zoomW","zoomH","scaleW","scaleH","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","BufferGeometryLoader","typedArray","TYPED_ARRAYS","drawcalls","offsets","ObjectLoader","resourcePath","setResourcePath","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","Loader","Handlers","handlers","regex","onLoadStart","onLoadProgress","onLoadComplete","initMaterials","texturePath","createMaterial","BlendingMode","textureLoader","materialLoader","fullPath","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","StereoCamera","eyeSep","instance","eyeRight","eyeLeft","eyeSepOnProjection","ymax","xmin","xmax","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","Clock","autoStart","oldTime","elapsedTime","running","performance","Date","now","getElapsedTime","getDelta","newTime","AudioListener","gain","createGain","connect","destination","timeDelta","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","clock","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setBuffer","play","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","PositionalAudio","panner","createPanner","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","RESERVED_CHARS_RE","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","reservedRe","RegExp","wordChar","wordCharOrDot","directoryRe","nodeRe","objectRe","propertyRe","trackRe","supportedObjectNames","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","remove_empty_map","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedBufferGeometry","InstancedInterleavedBuffer","InstancedBufferAttribute","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","Box2","Line3","distanceSq","closestPointToPointParameter","startP","startEnd","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","VertexNormalsHelper","nNormals","objGeometry","objPos","objNorm","SpotLightHelper","cone","coneLength","coneWidth","getBoneList","boneList","SkeletonHelper","boneMatrix","matrixWorldInv","PointLightHelper","sphereSize","RectAreaLightHelper","positions2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","FaceNormalsHelper","DirectionalLightHelper","lightPlane","targetLine","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","BoxHelper","Box3Helper","PlaneHelper","lineGeometry","coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","Face4","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","copyIndicesArray","addIndex","addDrawCall","clearDrawCalls","computeOffsets","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","shadowMapCullFace","renderReverseSided","renderSingleSided","standing","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","Projector","projectVector","unprojectVector","pickingRay","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","GLTFLoader","dracoLoader","BINARY_EXTENSION_HEADER_MAGIC","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","EXTENSIONS","KHR_BINARY_GLTF","KHR_DRACO_MESH_COMPRESSION","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_MATERIALS_UNLIT","KHR_TEXTURE_TRANSFORM","MSFT_TEXTURE_DDS","_onError","gltf","setDRACOLoader","content","magic","GLTFBinaryExtension","asset","extensionsUsed","extensionName","extensionsRequired","GLTFLightsExtension","GLTFMaterialsUnlitExtension","GLTFMaterialsPbrSpecularGlossinessExtension","GLTFDracoMeshCompressionExtension","GLTFTextureDDSExtension","GLTFTextureTransformExtension","GLTFParser","scenes","glTF","addUnknownExtensionsToUserData","GLTFRegistry","removeAll","DDSLoader","ddsLoader","lightDefs","loadLight","lightIndex","lightDef","lightNode","innerConeAngle","outerConeAngle","Promise","resolve","getMaterialType","extendParams","materialParams","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","body","headerView","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","DRACOLoader","getDecoderModule","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","getDependency","decodeDracoFile","extendTexture","texCoord","specularGlossinessParams","pbrSpecularGlossiness","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","isGLTFSpecularGlossinessMaterial","cloneMaterial","refreshUniforms","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","MIME_TYPE_FORMATS","createDefaultMaterial","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","accessor","cloneBufferAttribute","morphPositions","normalAttribute","meshDef","targetNames","isPrimitiveEqual","dracoExtA","dracoExtB","isObjectEqual","isArrayEqual","getCachedGeometry","newPrimitive","promise","getCachedCombinedGeometry","baseGeometries","getCachedMultiPassGeometry","primitives","baseGeometry","isMultiPassGeometry","primitive0","targets0","primitiveCache","multiplePrimitivesCache","multiPassGeometryCache","fileLoader","markDefs","getMultiDependencies","dependencies","nodeDefs","nodes","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinIndex","skinLength","joints","nodeIndex","nodeLength","nodeDef","skin","cacheKey","dependency","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","getDependencies","defs","def","types","bufferIndex","bufferDef","uri","reject","bufferViewDef","bufferViews","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","byteStride","bufferAttribute","ibCacheKey","ib","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","textureIndex","URL","webkitURL","textureDef","textureExtensions","sourceURI","isObjectURL","createObjectURL","revokeObjectURL","samplers","sampler","mapName","mapDef","materialDef","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","gltfAttributeName","threeAttributeName","loadGeometries","isMultiPass","originalPrimitives","createDracoPrimitive","geometryPromise","pendingIndices","BufferGeometryUtils","mergeBufferGeometries","meshIndex","originalMaterials","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","cameraIndex","cameraDef","THREE_Math","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","InterpolantFactoryMethodGLTFCubicSpline","isInterpolantFactoryMethodGLTFCubicSpline","instanceNum","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","sceneIndex","sceneDef","nodeIds","runtime","exports","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","defineIteratorMethods","method","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","done","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","skipTempReset","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","glTFLoader","fileParsers","THREE_Model_GLTF","arrayBuffer","THREE_Texture","createElement","TEXT","GLSL","urlList","addFile","assets","loadingResources","Map","forEachResourse","callbackInside","innerList","callbackSimpleList","requiredResources","loadResources","promises","loadResource","has","Request","ok","countResources","CopyShader","identicalVertex","copyFragment","Pass","needsSwap","renderToScreen","writeBuffer","readBuffer","maskActive","ShaderPass","textureID","quad","MaskPass","writeValue","clearValue","REPLACE","ALWAYS","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget1","renderTarget2","passes","copyPass","swapBuffers","NOTEQUAL","createCustomEvent","CustomEvent","createEvent","initCustomEvent","mouseX","mouseY","keyDown","processEvent","newname","olde","rect","currentTarget","getBoundingClientRect","newe","clientX","clientY","initPointerEvents","updateMousePosition","pointing","initKeyEvents","loopRate","frameRate","threeRenderer","threeComposer","currentScene","vw","vh","resized","updated","setCurrentScene","threePasses","updateCameras","renderScreen","prepareForRendering","renderLoop","frameTimes","resize","breakRenderLoop","setFrameRate","fitScreen","innerWidth","innerHeight","canvaspresented","devicePixelRatio","run","previous","RenderPass","oldAutoClear","oldClearColor","oldClearAlpha","Easing","timeleft","initialValue","place","_easings","Set","addEasing","easing","trigger","updateEasings","has_require","require","MeshLine","indices_array","counters","widthCallback","setGeometry","process","compareV3","aa","copyV3","memcpy","advance","MeshLineMaterial","vertexShaderSource","fragmentShaderSource","check","useMap","useAlphaMap","dashArray","dashOffset","dashRatio","useDash","visibility","this","define","writable","defineAccessor","descriptor","connectMulti","targetbase","targetkey","ley","pools","free","normalizeAngle","Axis","tempquaternion","deepclone","clonegeometry","clonematerial","applyToAllMaterials","modifySafeTraverse","connectColor","Boolean","setMeshLineGeometry","flat","newarray","geometryGenerator","createMeshLine","toFixed","str","pos","updateEvent","renderEvent","threeScene","THREEScene","_meta","UIScene","UICamera","initIn","updateInteractivity","_interactive","interactive","hitTest","hitTestThreeScene","hitTestUIScene","updateChild","selfOpacity","updatePasses","enterThisScene","three_1","topLeft","topRight","bottomLeft","bottomRight","fontHeightCache","getFontHeight","fontStyle","getElementsByTagName","dummy","dummyText","createTextNode","appendChild","setAttribute","offsetHeight","removeChild","CanvasText","textWidth","textHeight","ctx","drawText","ctxOptions","clearRect","measureText","utils_1","fillStyle","textAlign","textBaseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","fillText","__extends","extendStatics","__","Text2D","_super","_align","_font","_fillStyle","_shadowColor","_shadowBlur","_shadowOffsetX","_shadowOffsetY","CanvasText_1","align","_text","updateText","cleanUp","applyAntiAlias","SpriteText2D","updateAlign","Text2D_1","MeshText2D","SpriteText2D_1","MeshText2D_1","factory","joshi","keywords","periods","bracketsBegin","bracketsEnd","SimpleAnalyze","words","reduce","word","prevType","prevWord","token","Mikan","userOption","defaultOption","role","className","option","attr","html","Element","nativeContent","_rotation","hitTestCircle","hypot","hitTestEllipse","hitTestRectangle","rectgeometry","rectlinegeometry","Rectangle","fill","fillColor","fillOpacity","stroke","strokeColor","strokeWidth","strokeOpacity","customScale","_dirty","circlegeometries","getCircleGeometry","ellipselinegeometry","Ellipse","_segments","symmetrictrianglegeometry","symmetrictrianglelinegeometry","SymmetricTriangle","ModifiedSpriteText2D","MultilineSpriteText2D","lineHeight","lineIndex","wordWidth","Label","LabelArea","Gauge","foreground","maxValue","gaugeColor","gaugeOpacity","DebugTexts","labels","label","_parent","debug","FadeShader","tDiffuse","fadeFragment","ZoomblurShader","zoomblurFragment","Equipment","user","threeObject","ActivatableEquipment","cooldown","ToggleableEquipment","active","byPlace","byID","registerEquipment","klass","lvlfrom","unlockedLevel","superClass","instance1","mirrored","instance2","activate","getType","armor","sharpness","speed","rotspeed","costrate","maxhp","hp","energy","maxenergy","applyRotation","myrot","activated","original","primary","getDamage","consumeEnergy","allies","bulletManager","atk","shakeScreen","beam","effect","effectManager","delay","fade","app","composer","addPass","on","erase","off","createBullet","pierce","targetingEnemy","expire","chase","firerate","bv","SceneLoadingScene","sceneToLoad","_loading_label","parallel","_loadprogress","_loadfrequency","minimapScale","raderRadius","windScaleY","bossHPGaugeFadeTime","gridDivisions","messageDelay","maxAlliedBullets","maxEnemyBullets","bulletRemovalMargin","bulletRetainingRadius","PLAYER","EQUIPMENTS","ElementManager","testCupsuleSphere","pc","ps","usetmax","closest","testOBBSphere","UnitManager","bm","rc","raderColor","build","targetProgress","checkForProgress","progress","spawncount","THREE_Utils","getUnit","opponents","minimap","addObject","isPlayer","stealth","autospawn","km","rep","despawn","kill","getObject","offkill","removeObject","explode","explodeTime","deathcount","exps","expt","hit","enemy","first","matrix4ToString","phina","graphics","Canvas","mvpMatrix","tmpColor","fillCircle","getImageData","difficulty","loadedunit","setQuaternionFromDirectionVector","retquaternion","player1","filename","maxCost","pitch","yaw","minspeed","hitSphere","excludeFromHitTest","av","targetingPosition","maxrot","camerabeforescreenshake","targetingDirection","targetingRay","targetingEnemyPosition","enemyPosition","enm","targetingPriority","targetMarker","space","Space","KeyZ","some","gauge_h","windManager","wind","score","obstacleManager","obstacle","rawdmg","defaultreturn","enem1","mindist","aim","quaternionToTarget","vecToTarget","player","directionVectorToTarget","currentDirection","spd","builds","enem2","enem3","airballoon","firerate1","firerate2","tmpVector","tmpQuaternion","blademinion","directionToTarget","assaultdrone","vectorToTarget","bullet","unitnames","flatMap","EffectManager","ts","hitEffectManager","HitEffectManager","explodeManager","ExplodeManager","rayManager","RayManager","generate","mw","noisyGlowVertex","explodeVertex","explodeFragment","icosahedronsphere","threescene","glowColor","glowFragment","timeMax","tExplosion","upperSphere","rays","radiusfunc","bulletScale","BulletManager","models","laser","glowVertex","ownMaterial","velocity","ObstacleManager","WindManager","ring","playerY","Mark","vertical","horizontal","_visible1","absy","ZERO","Minimap","setOrigin","visual","_visible2","MainScene","equipments","stage","stagename","allyBulletManager","allyManager","enmBulletManager","enemyManager","usingModels","mirror","Fork","find","button","equipmentName","activecolor","STAGE","enemys","goals","goalVertex","goalFragment","createMulti","obstacles","winds","messages","imessage","swapMessage","goal","tex1","tex2","goal_disable","tex1_percentage","bossdefeated","goalraders","rader","rate","wait","gauge_boss_h","msgbox","cornerRadius","live","resultbg","resulttitle","resulttext","debugtexts","directionalLight","goaled","flare","totalValue","quantity","cbrt","currentGoal","lerprate","targetLength","focalPosition","ally","playerposy","bosscoming","boss","changeToResultScreenMode","auto","currentMessage","KeyB","updateMessageBoxPlacement","vx","vy","BASE_Z","TitleScene","currentPlayer","localStorage","getItem","playerModel","currentEquipments","shipCost","selectedStage","selectedDifficulty","zoomblur","slots","createAndEnter","updateShipCostLabel","shipCostLabel","menu","title","model","main","link","help","help2","help3","help4","help5","stageselect","shipselect","shipmodify","setting","credit","dist","inOut","moveToMain","equipmentEdit","selects","pixratio","movedToShipModify","childrens","EquipSlot","back","updateCurrent","mirrorslot","equipment","getCost","cost","description","down","oldequipment","setItem","close","changeing","Empty","getDescription","initialLoads","LoadingScene","nextScene","nextSceneArguments","totalResources","loadedResources","onComplete","setupLoaders","recurse","defaults","killmes","arr","onload"],"mappings":"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"}