vec3 T(vec3 c){return c-floor(c*(1./289.))*289.;}vec4 T(vec4 c){return c-floor(c*(1./289.))*289.;}vec4 U(vec4 c){return T((c*34.+1.)*c);}vec4 V(vec4 c){return 1.79284291400159-.85373472095314*c;}vec3 W(vec3 c){return c*c*c*(c*(c*6.-15.)+10.);}float X(vec3 c,vec3 d){vec3 e,f,g,h,x,y,z,A,B,C,D,E,P;e=mod(floor(c),d);f=mod(e+vec3(1),d);e=T(e);f=T(f);g=fract(c);h=g-vec3(1);vec4 i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,F,G,Q;i=vec4(e.x,f.x,e.x,f.x);j=vec4(e.yy,f.yy);k=e.zzzz;l=f.zzzz;m=U(U(i)+j);n=U(m+k);o=U(m+l);p=n*(1./7.);q=fract(floor(p)*(1./7.))-.5;p=fract(p);r=vec4(.5)-abs(p)-abs(q);s=step(r,vec4(0));p-=s*(step(0.,p)-.5);q-=s*(step(0.,q)-.5);t=o*(1./7.);u=fract(floor(t)*(1./7.))-.5;t=fract(t);v=vec4(.5)-abs(t)-abs(u);w=step(v,vec4(0));t-=w*(step(0.,t)-.5);u-=w*(step(0.,u)-.5);x=vec3(p.x,q.x,r.x);y=vec3(p.y,q.y,r.y);z=vec3(p.z,q.z,r.z);A=vec3(p.w,q.w,r.w);B=vec3(t.x,u.x,v.x);C=vec3(t.y,u.y,v.y);D=vec3(t.z,u.z,v.z);E=vec3(t.w,u.w,v.w);F=V(vec4(dot(x,x),dot(z,z),dot(y,y),dot(A,A)));x*=F.x;z*=F.y;y*=F.z;A*=F.w;G=V(vec4(dot(B,B),dot(D,D),dot(C,C),dot(E,E)));B*=G.x;D*=G.y;C*=G.z;E*=G.w;float H,I,J,K,L,M,N,O,S;H=dot(x,g);I=dot(y,vec3(h.x,g.yz));J=dot(z,vec3(g.x,h.y,g.z));K=dot(A,vec3(h.xy,g.z));L=dot(B,vec3(g.xy,h.z));M=dot(C,vec3(h.x,g.y,h.z));N=dot(D,vec3(g.x,h.yz));O=dot(E,h);P=W(g);Q=mix(vec4(H,I,J,K),vec4(L,M,N,O),P.z);vec2 R=mix(Q.xy,Q.zw,P.y);S=mix(R.x,R.y,P.x);return 2.2*S;}varying vec2 a;varying float b;uniform float time;float Y(vec3 c){float d,e;d=1e2;e=-.5;for(float f=1.;f<=10.;f++){float g=pow(2.,f);e+=abs(X(vec3(g*c),vec3(10))/g);}return e;}void main(){a=uv;b=10.*-.1*Y(.5*normal+time);float c=5.;vec3 d=position+normal*c;gl_Position=projectionMatrix*modelViewMatrix*vec4(d,5);}